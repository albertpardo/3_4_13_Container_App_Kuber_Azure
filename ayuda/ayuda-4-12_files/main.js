(this.webpackJsonpknowledge=this.webpackJsonpknowledge||[]).push([[0],{103:function(e,t,n){e.exports={"message-wrapper":"activityQuestionEmptyState_message-wrapper__2rrlO",message:"activityQuestionEmptyState_message__3vqLF",image:"activityQuestionEmptyState_image__vjFA6",copy:"activityQuestionEmptyState_copy__2CBzP",glyph:"activityQuestionEmptyState_glyph__1dNsd"}},104:function(e,t,n){e.exports={"answers-wrapper":"answerCount_answers-wrapper__1EpEr","answer-count-base":"answerCount_answer-count-base__1Ufz3","answer-text":"answerCount_answer-text__1s_6G answerCount_answer-count-base__1Ufz3","number-text":"answerCount_number-text__3_u3J answerCount_answer-count-base__1Ufz3","answer-icon":"answerCount_answer-icon__tnxwo","no-answers":"answerCount_no-answers__jBFwF"}},105:function(e,t,n){e.exports={"pagination-wrapper":"PaginationFooter_pagination-wrapper__2SBOv","pagination-text-wrapper":"PaginationFooter_pagination-text-wrapper__1YiFu","pagination-text":"PaginationFooter_pagination-text__v_sX_","next-page-button":"PaginationFooter_next-page-button__2TyKl","previous-page-button":"PaginationFooter_previous-page-button__3wY1V"}},106:function(e,t,n){e.exports={"drop-target-placeholder":"fileDropTargetPlaceholder_drop-target-placeholder__pk8xD","drag-over":"fileDropTargetPlaceholder_drag-over__1hWsN","placeholder-content":"fileDropTargetPlaceholder_placeholder-content__ds3ge","placeholder-icon-wrapper":"fileDropTargetPlaceholder_placeholder-icon-wrapper__2oGGA","placeholder-title":"fileDropTargetPlaceholder_placeholder-title__Bw6g3","placeholder-requirements":"fileDropTargetPlaceholder_placeholder-requirements__1b0w6"}},107:function(e,t,n){e.exports={"code-block":"codeBlockLayout_code-block___xX_Q","content-wrapper":"codeBlockLayout_content-wrapper__1rRXW","editor-overlay":"codeBlockLayout_editor-overlay__1eC3i","code-line":"codeBlockLayout_code-line__38e2J","line-number":"codeBlockLayout_line-number__1006q","line-content":"codeBlockLayout_line-content__1t2_W"}},108:function(e,t,n){e.exports={modal:"actionModal_modal__2pAiY","modal-header":"actionModal_modal-header__B_aZm","header-title":"actionModal_header-title__3DHW9","modal-header--red":"actionModal_modal-header--red__1rkaL","modal-header--blue":"actionModal_modal-header--blue__epu0z","main-content":"actionModal_main-content__1anKm","close-button":"actionModal_close-button__3weZq"}},109:function(e,t,n){e.exports={container:"userProfileOverlay_container__F9QPY",bioContainer:"userProfileOverlay_bioContainer__3UmtG",bio:"userProfileOverlay_bio__2I6Wc",avatar:"userProfileOverlay_avatar__19E7Y",name:"userProfileOverlay_name__26LTR","stats-header":"userProfileOverlay_stats-header__2FX30","stats-wrapper":"userProfileOverlay_stats-wrapper__2Qofj"}},125:function(e,t,n){e.exports={"search-form":"searchInput_search-form__18qR1","search-button":"searchInput_search-button__1Pl3G","reset-button":"searchInput_reset-button__1-FEJ searchInput_search-button__1Pl3G","search-input":"searchInput_search-input__my9vq","search-theme--blue":"searchInput_search-theme--blue__1brnw"}},126:function(e,t,n){e.exports={"nav-header-small":"navHeaderSmall_nav-header-small__1OoNJ","content-wrapper":"navHeaderSmall_content-wrapper__1k1xh","input-wrapper":"navHeaderSmall_input-wrapper__2ByiR","logo-wrapper":"navHeaderSmall_logo-wrapper__JjOSq","nav-list-wrapper":"navHeaderSmall_nav-list-wrapper__oyzjs"}},127:function(e,t,n){e.exports={"message-wrapper":"activityAnswerEmptyState_message-wrapper__2nPu6",message:"activityAnswerEmptyState_message__2-Psv",image:"activityAnswerEmptyState_image__39ffT",copy:"activityAnswerEmptyState_copy__gQS5u"}},128:function(e,t,n){e.exports={"comments-wrapper":"commentCount_comments-wrapper__2BweE","comment-count-base":"commentCount_comment-count-base__1khhI","comment-text":"commentCount_comment-text__1QHEk commentCount_comment-count-base__1khhI","number-text":"commentCount_number-text__1tYaI commentCount_comment-count-base__1khhI","no-comments":"commentCount_no-comments__oxp2_"}},129:function(e,t,n){e.exports={"activity-content-wrapper":"activity_activity-content-wrapper__3MRVD","activity-wrapper":"activity_activity-wrapper__Tjc5E","stats-wrapper":"activity_stats-wrapper__3y9M4","header-wrapper":"activity_header-wrapper__Ihr3Q","activity-dash-wrapper":"activity_activity-dash-wrapper__xUDJb"}},130:function(e,t,n){e.exports={"message-wrapper":"pageNotFound_message-wrapper__1bfQz",message:"pageNotFound_message__jJr3e","header-wrapper":"pageNotFound_header-wrapper__2rmiv",copy:"pageNotFound_copy__lc3Fs",button:"pageNotFound_button__3wtZh"}},131:function(e,t,n){e.exports={"link-tooltip":"linkTooltip_link-tooltip__2sRZa","url-wrapper":"linkTooltip_url-wrapper__2glmZ","url-display":"linkTooltip_url-display__3CbNJ","no-url":"linkTooltip_no-url__UJ05Q",button:"linkTooltip_button__3o-Fz"}},132:function(e,t,n){e.exports={sticky:"imageLightboxPortal_sticky__1LtDy","lightbox-header":"imageLightboxPortal_lightbox-header__1m8W7","lightbox-content":"imageLightboxPortal_lightbox-content__1zHXf",filename:"imageLightboxPortal_filename__KlzHr","close-button":"imageLightboxPortal_close-button__2kQwf"}},133:function(e,t,n){e.exports={"comment-list-item":"commentListItem_comment-list-item__2Nk_V","focused-comment":"commentListItem_focused-comment__3gFgm",unread:"commentListItem_unread__P-W3-",flash:"commentListItem_flash__3VP4K",footer:"commentListItem_footer__3SHfu","comment-edit-form":"commentListItem_comment-edit-form__3NWfp"}},134:function(e,t,n){e.exports={"search-results-bar":"SearchResultsBar_search-results-bar__1gN42",pagination:"SearchResultsBar_pagination__2mAJg","sort-mode-wrapper":"SearchResultsBar_sort-mode-wrapper__3rqTt","read-only-title":"SearchResultsBar_read-only-title__28uJm","filter-summary":"SearchResultsBar_filter-summary__20p6B"}},156:function(e,t,n){e.exports={"nav-list":"navList_nav-list__3K434","nav-list-reviews":"navList_nav-list-reviews__1c1lD","unread-badge-container":"navList_unread-badge-container__3-b2G","unread-badge":"navList_unread-badge__nha-0"}},157:function(e,t,n){e.exports={glyph:"select_glyph__1zLr-","glyph--opened":"select_glyph--opened__3ftw4","Select-input-tag":"select_Select-input-tag__3u68j"}},158:function(e,t,n){e.exports={"image-placeholder":"imagePlaceholder_image-placeholder__2_NgN","placeholder-icon-wrapper":"imagePlaceholder_placeholder-icon-wrapper__MErCc","image-requirements":"imagePlaceholder_image-requirements__1G-oA",label:"imagePlaceholder_label__3m0wi"}},159:function(e,t,n){e.exports={"image-card":"imageCardLayout_image-card__2uQp3","file-size-error":"imageCardLayout_file-size-error__A1wSe","file-input-wrapper":"imageCardLayout_file-input-wrapper__120Zk","lightbox-button":"imageCardLayout_lightbox-button__TffJL"}},160:function(e,t,n){e.exports={"post-metadata":"postMetadata_post-metadata__1SjZp","user-icon-wrapper":"postMetadata_user-icon-wrapper__59Tip","created-at":"postMetadata_created-at__2i5iD","modified-at":"postMetadata_modified-at__ShZ-P"}},161:function(e,t,n){e.exports={"post-action-bar":"postActionBar_post-action-bar__1JwXo",glyph:"postActionBar_glyph__2Prnf","public-actions":"postActionBar_public-actions__2LmmW","private-actions":"postActionBar_private-actions__8AFXP"}},162:function(e,t,n){e.exports={"comment-list":"commentList_comment-list__2tBcP","comment-list-item":"commentList_comment-list-item__1ZlOR commentListItem_comment-list-item__2Nk_V","input-wrapper":"commentList_input-wrapper__1DI_C",expanded:"commentList_expanded__3gsQ9"}},163:function(e,t,n){e.exports={"message-wrapper":"archivedPostPage_message-wrapper__e7cXP",message:"archivedPostPage_message__2OlOR",copy:"archivedPostPage_copy__YYv9V","call-to-action-button":"archivedPostPage_call-to-action-button__3Z7vS","restore-text":"archivedPostPage_restore-text__3nm1t"}},164:function(e,t,n){e.exports={"nav-header-large":"navHeaderLarge_nav-header-large__2H1SD","logo-nav-wrapper":"navHeaderLarge_logo-nav-wrapper__3QkHM","logo-button":"navHeaderLarge_logo-button__1h-K-","search-filter-toggle":"navHeaderLarge_search-filter-toggle__2y5Mt","input-grid":"navHeaderLarge_input-grid__kp7aY"}},165:function(e,t,n){e.exports={"search-no-results-list":"searchNoResultsFound_search-no-results-list__3dXzX","search-no-results-list-item":"searchNoResultsFound_search-no-results-list-item__2juKg","search-no-results-tip-copy":"searchNoResultsFound_search-no-results-tip-copy__4C6ku","search-no-results-link":"searchNoResultsFound_search-no-results-link__G69tP"}},215:function(e,t,n){e.exports={notificationOuter:"notificationBadge_notificationOuter__2PoBy",notificationInner:"notificationBadge_notificationInner__KP7ji",count:"notificationBadge_count__3rUw_"}},217:function(e,t,n){e.exports={navGroup:"sidebarLayout_navGroup__24h7z",wrapper:"sidebarLayout_wrapper__2pnJI","tooltip-overlay":"sidebarLayout_tooltip-overlay__JJv-t","highlighted-link-wrapper":"sidebarLayout_highlighted-link-wrapper__2XwUJ","highlighted-link":"sidebarLayout_highlighted-link__rSddf","knowledge-link":"sidebarLayout_knowledge-link__3sI81 sidebarLayout_highlighted-link__rSddf","student-hub-link":"sidebarLayout_student-hub-link__2rInI sidebarLayout_highlighted-link__rSddf"}},218:function(e,t,n){e.exports={tab:"tabItem_tab__ESJTT",selected:"tabItem_selected__3lCZd","tab-text":"tabItem_tab-text__wyfIW"}},219:function(e,t,n){e.exports={"image-wrapper":"illustrationGhost_image-wrapper__x7UND",ghost:"illustrationGhost_ghost__1K2CM",ghostBounce:"illustrationGhost_ghostBounce__1I5Ri","ghost-shadow":"illustrationGhost_ghost-shadow__3VuAA",shadowShrink:"illustrationGhost_shadowShrink__cV-tg"}},220:function(e,t,n){e.exports={"text-input-wrapper":"textInputWrapper_text-input-wrapper__1201C","has-error":"textInputWrapper_has-error__O4_5I","error-text":"textInputWrapper_error-text__25Cak"}},221:function(e,t,n){e.exports={"progress-wrapper":"progressOverlay_progress-wrapper__3pmvy","progress-overlay":"progressOverlay_progress-overlay__vIPF9","progress-bar":"progressOverlay_progress-bar__3X0M3"}},222:function(e,t,n){e.exports={"header-wrapper":"questionForm_header-wrapper__1Lbem","question-form":"questionForm_question-form__2TvTs","optional-label":"questionForm_optional-label__V_SIF"}},223:function(e,t,n){e.exports={"profile-image-wrapper":"userIcon_profile-image-wrapper__S8e4v","profile-image":"userIcon_profile-image__2B9al",small:"userIcon_small__3fi47",medium:"userIcon_medium__3nxap",large:"userIcon_large__18v7a"}},224:function(e,t,n){e.exports={"reply-form-placeholder":"replyFormPlaceholder_reply-form-placeholder__3YuPf","glyph-wrapper":"replyFormPlaceholder_glyph-wrapper__17yjr",placeholder:"replyFormPlaceholder_placeholder__3iewl"}},27:function(e,t,n){e.exports={"toolbar-grid":"richTextToolbar_toolbar-grid__HwUSJ",sticky:"richTextToolbar_sticky__3hvOt",heading:"richTextToolbar_heading__15R2k","rich-text-toolbar":"richTextToolbar_rich-text-toolbar__3RVQQ","section-divider":"richTextToolbar_section-divider__3-OPP","toolbar-grid-item":"richTextToolbar_toolbar-grid-item__1mZAj",tooltip:"richTextToolbar_tooltip__3SBSQ","toolbar-button":"richTextToolbar_toolbar-button__1mnKb"}},301:function(e,t,n){e.exports={"nav-list-item":"navListItem_nav-list-item__3kek6",text:"navListItem_text__EpA3h"}},305:function(e,t,n){e.exports={header:"header_header__EL3ff","thin-header":"header_thin-header__2zAWB",fieldset:"header_fieldset__1Ljqd","heavy-header":"header_heavy-header__3Et0C","medium-header":"header_medium-header__lRtN9","medium-header-base":"header_medium-header-base__1Pqpv header_medium-header__lRtN9","medium-header--gray-dark":"header_medium-header--gray-dark__Wquc6 header_medium-header__lRtN9","small-header":"header_small-header__2SN_9","heavy-header--slate":"header_heavy-header--slate__H6gtn header_heavy-header__3Et0C"}},306:function(e,t,n){e.exports={"banner-wrapper":"incompletePostBanner_banner-wrapper__OdPhp","banner-grid":"incompletePostBanner_banner-grid__1RffI"}},307:function(e,t,n){e.exports={"drop-target-wrapper":"fileDropTarget_drop-target-wrapper__1JWfr","drop-target":"fileDropTarget_drop-target__3GEYE"}},311:function(e,t,n){e.exports={"post-body-content":"postBodyContent_post-body-content__3zABY",edited:"postBodyContent_edited__1up_A"}},312:function(e,t,n){e.exports={badge:"Badge_badge__b5HnD",mentor:"Badge_mentor__a4WUq Badge_badge__b5HnD",staff:"Badge_staff__3z2yQ Badge_badge__b5HnD"}},313:function(e,t,n){e.exports={author:"displayName_author__1nF9i","author-admin":"displayName_author-admin__1DUDf displayName_author__1nF9i"}},314:function(e,t,n){e.exports={"disclaimer-container":"replyForm_disclaimer-container__3tpdr","reply-form":"replyForm_reply-form__2M_lG"}},315:function(e,t,n){e.exports={"tag-item-wrapper":"tagItem_tag-item-wrapper__3AkZJ","tag-item":"tagItem_tag-item__I6z8i"}},316:function(e,t,n){e.exports={"search-filter":"searchFilter_search-filter__2BzNo","filter-options":"searchFilter_filter-options__3WjBh"}},317:function(e,t,n){e.exports={"search-results-grid":"search_search-results-grid__2qqoR","header-wrapper":"search_header-wrapper__34mcr"}},34:function(e,t,n){e.exports={text:"answerAcceptVerify_text__2InmY","answer-status-control":"answerAcceptVerify_answer-status-control__2UN_9",selected:"answerAcceptVerify_selected__CBTfQ",noclick:"answerAcceptVerify_noclick__145i0","accepted-answer":"answerAcceptVerify_accepted-answer__1SC7h","verified-answer":"answerAcceptVerify_verified-answer__N98EI","button-wrapper":"answerAcceptVerify_button-wrapper__4qKwg"}},443:function(e,t,n){e.exports={"fixed-width-wrapper":"fixedWidthWrapper_fixed-width-wrapper__1fJJV"}},444:function(e){e.exports=JSON.parse('{"production":{"siteIdentifier":"Frontend Knowledge","serverUrl":"https://knowledge.udacity.com","graphqlEndpoint":"/api/pensieve","studentsFrontend":"https://students.udacity.com","classroomGraphqlEndpoint":"/api/classroom-content/v1","classroomWebUrl":"https://classroom.udacity.com","imageUploadEndpoint":"/api/uploader/v1/file/upload","reviewApiUrl":"/api/review/v1","catoWebUrl":"https://cato.udacity.com","mobiledoc":"0.3.1","segmentWriteKey":"HgJqDRfg9xD6MFGL3LWVLF8lwXYyQ4cf","sentryDSN":"https://cc84402e9330494a9460bbedea715f66@sentry.io/2699401","validationRules":{"questionValidationRequired":{"title":true,"body":true,"nanodegree":true,"project":true},"questionValidationWarning":{"project":true}},"AUTH_ROOT":"https://auth.udacity.com"},"staging":{"siteIdentifier":"Frontend Knowledge","serverUrl":"https://knowledge-staging.udacity.com","graphqlEndpoint":"/api/pensieve","studentsFrontend":"https://students.udacity.com","classroomWebUrl":"https://classroom-staging.udacity.com","classroomGraphqlEndpoint":"/api/classroom-content/v1","reviewApiUrl":"/api/review/v1","catoWebUrl":"https://cato-staging.udacity.com","mobiledoc":"0.3.1","segmentWriteKey":"z3DidgWrcbDln912oQPR8UpEODnE163D","sentryDSN":"https://cc84402e9330494a9460bbedea715f66@sentry.io/2699401","imageUploadEndpoint":"/api/uploader/v1/file/upload","validationRules":{"questionValidationRequired":{"title":true,"body":true,"nanodegree":true,"project":true},"questionValidationWarning":{"project":true}},"AUTH_ROOT":"https://auth.udacity.com"},"development":{"siteIdentifier":"Frontend Knowledge","serverUrl":"http://dev.udacity.com:5000","graphqlEndpoint":"http://dev.udacity.com:8000","studentsFrontend":"https://students.udacity.com","classroomWebUrl":"https://classroom.udacity.com","classroomGraphqlEndpoint":"https://classroom-content.udacity.com/api/v1","reviewApiUrl":"https://review-api-staging.udacity.com","catoWebUrl":"https://cato-staging.udacity.com","imageUploadEndpoint":"http://upload.lodacity.com/api/v1/file/upload","mobiledoc":"0.3.1","segmentWriteKey":"z3DidgWrcbDln912oQPR8UpEODnE163D","sentryDSN":"https://cc84402e9330494a9460bbedea715f66@sentry.io/2699401","validationRules":{"questionValidationRequired":{"title":true,"body":true,"nanodegree":true,"project":true},"questionValidationWarning":{"project":true}},"AUTH_ROOT":"https://auth.udacity.com"},"test":{"siteIdentifier":"Frontend Knowledge","serverUrl":"http://dev.udacity.com:5000","graphqlEndpoint":"http://knowledge-api.lodacity.com","studentsFrontend":"https://students.udacity.com","classroomWebUrl":"https://classroom.udacity.com","classroomGraphqlEndpoint":"https://classroom-content.udacity.com/api/v1","reviewApiUrl":"https://review-api-staging.udacity.com","catoWebUrl":"https://cato.udacity.com","imageUploadEndpoint":"http://upload.lodacity.com/api/v1/file/upload","mobiledoc":"0.3.1","segmentWriteKey":"z3DidgWrcbDln912oQPR8UpEODnE163D","sentryDSN":"https://cc84402e9330494a9460bbedea715f66@sentry.io/2699401","validationRules":{"questionValidationRequired":{"title":true,"body":true,"nanodegree":true,"project":true},"questionValidationWarning":{"project":true}},"AUTH_ROOT":"https://auth.udacity.com"}}')},446:function(e,t,n){e.exports={"centered-loader":"centeredLoader_centered-loader__2e0Qm"}},447:function(e,t,n){e.exports={base:"fullWidthWrapper_base__31JHr",gray:"fullWidthWrapper_gray__2wWDF fullWidthWrapper_base__31JHr",white:"fullWidthWrapper_white__24d9c fullWidthWrapper_base__31JHr"}},448:function(e,t,n){e.exports={"content-wrapper":"contentWrapper_content-wrapper__19WZ6"}},449:function(e,t,n){e.exports={logo:"logo_logo__1dKpD"}},45:function(e,t,n){e.exports={animationDuration:"500ms","post-vote-wrapper":"postVote_post-vote-wrapper__17O70","post-vote":"postVote_post-vote__QTMn6","post-vote-read-only":"postVote_post-vote-read-only__3IbMM","vote-button":"postVote_vote-button__2_vPK","up-vote-button":"postVote_up-vote-button__WXFvZ postVote_vote-button__2_vPK",focus:"postVote_focus__ZWz6n",bounceUp:"postVote_bounceUp__3RrlW","down-vote-button":"postVote_down-vote-button__17qa4 postVote_vote-button__2_vPK",bounceDown:"postVote_bounceDown__3nqCB",inactive:"postVote_inactive__1J5vz",active:"postVote_active__1prVw","read-only-score-wrapper":"postVote_read-only-score-wrapper__3tEap","read-only-score-count":"postVote_read-only-score-count__1GSz-","read-only-label":"postVote_read-only-label__fNFDs"}},455:function(e,t,n){e.exports={"view-wrapper":"innerPageLayout_view-wrapper__12gOJ"}},457:function(e,t,n){e.exports={"highlighted-text":"highlightedText_highlighted-text__1JVmp"}},458:function(e,t,n){e.exports={list:"activityList_list__3q2KZ"}},459:function(e,t,n){e.exports={"tab-list":"tabList_tab-list__2Eyro"}},460:function(e,t,n){e.exports={"override-loading-height":"activityDash_override-loading-height__S62M3"}},461:function(e,t,n){e.exports={"post-legal-disclaimer":"postLegalDisclaimer_post-legal-disclaimer__3rSqs"}},462:function(e,t,n){e.exports={hint:"formInputHint_hint__1f_uw"}},463:function(e,t,n){e.exports={"text-input":"textInput_text-input__21bd5","text-overlay":"textInput_text-overlay__2ezrz","valid-value":"textInput_valid-value__18bl0","overflow-value":"textInput_overflow-value__1b9cQ"}},466:function(e,t,n){e.exports={"tag-grid":"nanodegreeTags_tag-grid__2Ds67","optional-label":"nanodegreeTags_optional-label__1HNJW questionForm_optional-label__V_SIF"}},473:function(e,t,n){e.exports={"link-dialog":"linkEditDialog_link-dialog__3kIHK"}},474:function(e,t,n){e.exports={"invisible-input":"invisibleInput_invisible-input__1xM9O"}},475:function(e,t,n){e.exports={mobileWidth:"530px",tabletWidth:"768px",desktopWidth:"980px"}},476:function(e,t,n){e.exports={"rich-text-editor":"richTextEditor_rich-text-editor__3XY6Q postBodyContent_post-body-content__3zABY mobiledocCore_mobiledoc-core__1Q_10"}},478:function(e,t,n){e.exports={"warning-description":"incompletePostModal_warning-description__1PQYI"}},482:function(e,t,n){e.exports={children:"userProfileTooltip_children__27AMi"}},483:function(e,t,n){e.exports={"at-risk-list":"markAtRiskModal_at-risk-list__Eng6i"}},484:function(e,t,n){e.exports={"input-title":"postModerationModal_input-title__k8KWC"}},485:function(e,t,n){e.exports={"post-content-wrapper":"commentToAnswerConfirmationModal_post-content-wrapper__34hzx"}},486:function(e,t,n){e.exports={"answer-count":"answerList_answer-count__1cT9N"}},487:function(e,t,n){e.exports={"search-filter-title":"searchFilterTitle_search-filter-title__2yhuQ"}},488:function(e,t,n){e.exports={"filter-toggle":"searchFilterToggle_filter-toggle__1kEOX"}},489:function(e,t,n){e.exports={"tip-icon-wrapper":"tipIcon_tip-icon-wrapper__uUR2Q"}},490:function(e,t,n){e.exports={"z-index-negative":"searchResultList_z-index-negative__1gjEN"}},491:function(e,t,n){e.exports={"current-pagination-text":"CurrentPagination_current-pagination-text__30iVq"}},492:function(e,t,n){e.exports={"summary-wrapper":"searchFilterSummary_summary-wrapper__qVUIS"}},493:function(e,t,n){e.exports={"sort-mode":"SortMode_sort-mode__gejDF"}},522:function(e,t,n){},523:function(e,t,n){},57:function(e,t,n){e.exports={"post-item-grid":"activityAnswerItem_post-item-grid__240x2","header-wrapper":"activityAnswerItem_header-wrapper__VWscD",notification:"activityAnswerItem_notification__C-xoW","accepted-answer":"activityAnswerItem_accepted-answer__35rDl","highlight-text-wrapper":"activityAnswerItem_highlight-text-wrapper__mrKpE","post-vote-wrapper":"activityAnswerItem_post-vote-wrapper__F6C1l","info-block-grid":"activityAnswerItem_info-block-grid__2R7L5","post-metadata-wrapper":"activityAnswerItem_post-metadata-wrapper__18p-1","created-at":"activityAnswerItem_created-at__22Zp6","answer-comment-wrapper":"activityAnswerItem_answer-comment-wrapper__1u6Sl","comment-wrapper":"activityAnswerItem_comment-wrapper__1L2Fa"}},64:function(e,t,n){e.exports={"message-wrapper":"readOnlyModeBanner_message-wrapper__1bVOG","message-wrapper-desktop":"readOnlyModeBanner_message-wrapper-desktop__meKx4 readOnlyModeBanner_message-wrapper__1bVOG","message-wrapper-mobile":"readOnlyModeBanner_message-wrapper-mobile__1oR0H readOnlyModeBanner_message-wrapper__1bVOG",wrapper:"readOnlyModeBanner_wrapper__21irO",hr:"readOnlyModeBanner_hr__3Iycv",button:"readOnlyModeBanner_button__1Dswh","call-to-action-text":"readOnlyModeBanner_call-to-action-text__2uLRQ"}},66:function(e,t,n){e.exports={"toast-content":"messageStyles_toast-content__9tVt7",phrase:"messageStyles_phrase__1zUUv","glyph-wrapper":"messageStyles_glyph-wrapper__EkgkV"}},68:function(e,t,n){e.exports={"post-item-grid":"activityQuestionItem_post-item-grid__1-SMT","highlight-text-wrapper":"activityQuestionItem_highlight-text-wrapper__3C-Hg","post-vote-wrapper":"activityQuestionItem_post-vote-wrapper__gpnW1","info-block-grid":"activityQuestionItem_info-block-grid__4mK8_","post-metadata-wrapper":"activityQuestionItem_post-metadata-wrapper__3JugR","created-at":"activityQuestionItem_created-at__1-ySz","answer-comment-wrapper":"activityQuestionItem_answer-comment-wrapper__2lGBq","answer-wrapper":"activityQuestionItem_answer-wrapper__zhzr6","comment-wrapper":"activityQuestionItem_comment-wrapper__H8kmb","header-wrapper":"activityQuestionItem_header-wrapper__2OtR7",notification:"activityQuestionItem_notification__1mSxB"}},69:function(e,t,n){e.exports={"user-post-stats-wrapper":"userActivityStats_user-post-stats-wrapper__1ajmj",title:"userActivityStats_title__3Bhh5",entry:"userActivityStats_entry__1mQTA","loader-wrapper":"userActivityStats_loader-wrapper__1yST5"}},70:function(e,t,n){e.exports={ratingFormContainer:"RatingForm_ratingFormContainer__1kcDo",ratingForm:"RatingForm_ratingForm__CzIvD",ratingSpacing:"RatingForm_ratingSpacing__1lmtc",ratingHeading:"RatingForm_ratingHeading__ySUd5"}},73:function(e,t,n){e.exports={"answer-list-item":"answerListItem_answer-list-item__lZQVH","answer-status":"answerListItem_answer-status__ZT1G8",unread:"answerListItem_unread__HEuMW","focused-answer":"answerListItem_focused-answer___85q1",flash:"answerListItem_flash__wQXAW","accept-verify-wrapper":"answerListItem_accept-verify-wrapper__1N-m4","post-vote-wrapper":"answerListItem_post-vote-wrapper__PfybB","post-metadata-wrapper":"answerListItem_post-metadata-wrapper__1Jyxq","answer-body":"answerListItem_answer-body__1JDjm","answer-edit-form":"answerListItem_answer-edit-form__1xh9Y","answer-edit-comments":"answerListItem_answer-edit-comments__3LtSr"}},74:function(e,t,n){e.exports={"search-result-item-grid":"searchResultItem_search-result-item-grid__3t-ts","header-highlight":"searchResultItem_header-highlight__34DUR","post-vote-wrapper":"searchResultItem_post-vote-wrapper__2jCES","info-block-grid":"searchResultItem_info-block-grid__3thdj","tag-list-wrapper":"searchResultItem_tag-list-wrapper__sqK6I","post-metadata-wrapper":"searchResultItem_post-metadata-wrapper__3eiMZ","answers-count":"searchResultItem_answers-count__21fsV","header-wrapper":"searchResultItem_header-wrapper__1aJ5h",notification:"searchResultItem_notification__1NWT8"}},76:function(e,t,n){e.exports={transitionDuration:"400ms","search-filter-overlay":"searchFilterOverlay_search-filter-overlay__1eYsL",slideIn:"searchFilterOverlay_slideIn__2fdHa",closing:"searchFilterOverlay_closing__131ZF",slideOut:"searchFilterOverlay_slideOut__1W8cm","checkbox-wrapper":"searchFilterOverlay_checkbox-wrapper__Yogl8",header:"searchFilterOverlay_header__3ObEk","header-grid":"searchFilterOverlay_header-grid__3vftb",filters:"searchFilterOverlay_filters__1gZD3","filter-by-unanswered":"searchFilterOverlay_filter-by-unanswered__sgB6l",footer:"searchFilterOverlay_footer__1NWNM"}},86:function(e,t,n){e.exports={transitionDuration:"500ms",sticky:"toast_sticky__UWH_g",toast:"toast_toast__18dmV",show:"toast_show__3ROEa",slideInBottom:"toast_slideInBottom__3aLk8",hide:"toast_hide__izi6R",slideOutBottom:"toast_slideOutBottom__2UJLm",error:"toast_error__3LI5L",success:"toast_success__1XclQ"}},87:function(e,t,n){e.exports={animationDuration:"500ms","vote-counter":"voteCounter_vote-counter__15yS5","gradient-shadow":"voteCounter_gradient-shadow__365L2","gradient-shadow-top":"voteCounter_gradient-shadow-top__3isL- voteCounter_gradient-shadow__365L2","gradient-shadow-bottom":"voteCounter_gradient-shadow-bottom__AWutE voteCounter_gradient-shadow__365L2","slider-container":"voteCounter_slider-container__1UbLk","slide-to-top-element":"voteCounter_slide-to-top-element__28iAI",slideUp:"voteCounter_slideUp__sA1m9","slide-to-bottom-element":"voteCounter_slide-to-bottom-element__1o8yS",slideDown:"voteCounter_slideDown__knjd5"}},88:function(e,t,n){e.exports={"question-detail":"questionDetail_question-detail__ffKBM","project-link-wrapper":"questionDetail_project-link-wrapper__YUHXs","post-vote-wrapper":"questionDetail_post-vote-wrapper__1Zlbh","post-metadata-wrapper":"questionDetail_post-metadata-wrapper__2HzSG","question-error":"questionDetail_question-error__3Pvg6",content:"questionDetail_content__3HQBJ","post-content":"questionDetail_post-content__1FEe-",tags:"questionDetail_tags__1iJhd"}},932:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n.n(r),s=n(23),o=n.n(s),i=n(3),c=n(4),u=n(6),l=n(5),d=n(15),p=(n(503),n(7)),h=n.n(p),j=n(51),b=n(47),m=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"componentDidCatch",value:function(){var e=Object(j.a)(h.a.mark((function e(t,n){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:b.c((function(e){e.setExtras(n),b.a(t)}));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"render",value:function(){return this.props.children}}]),n}(a.a.Component),f=n(8),O=n.n(f),v=document.getElementById("root")||document.createElement("div"),_=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).el=void 0,r.el=document.createElement("div"),r}return Object(c.a)(n,[{key:"componentDidMount",value:function(){v.appendChild(this.el)}},{key:"componentWillUnmount",value:function(){v.removeChild(this.el)}},{key:"render",value:function(){return s.createPortal(this.props.children,this.el)}}]),n}(a.a.PureComponent),g=n(18),y=n(20),x=n.n(y),E=n(443),w=n.n(E),I=n(0),S=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){var e=this.props,t=e.className,n=e.children;return Object(I.jsx)("div",{className:"".concat(t," ").concat(w.a["fixed-width-wrapper"]),children:n})}}]),n}(a.a.PureComponent),A=n(16),T=n(66),C=n.n(T),N=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){return Object(I.jsxs)("div",{className:C.a["toast-content"],children:[Object(I.jsx)("div",{className:C.a["glyph-wrapper"],children:Object(I.jsx)(A.K,{size:"sm",title:"Alert",color:"white"})}),Object(I.jsxs)("div",{children:[Object(I.jsx)("span",{"data-ref":"message",className:C.a.phrase,children:this.props.message}),Object(I.jsx)("span",{className:C.a.phrase,children:"Please try again or contact"}),Object(I.jsx)("strong",{className:C.a.phrase,children:"support@udacity.com"}),Object(I.jsx)("span",{className:C.a.phrase,children:"for assistance."})]})]})}}]),n}(a.a.Component);N.defaultProps={message:"Request has not been processed."};var P=N,R=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){return Object(I.jsxs)("div",{className:C.a["toast-content"],children:[Object(I.jsx)("span",{className:C.a["glyph-wrapper"],children:Object(I.jsx)(A.k,{size:"sm",title:"Confirmation",color:"white"})}),Object(I.jsx)("span",{"data-ref":"message",className:C.a.phrase,children:this.props.message})]})}}]),n}(a.a.Component);R.defaultProps={message:"Your action completed successfully!"};var k=R,D=n(86),L=n.n(D),F=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).state={visibility:"initial"},e.hideTimeoutId=void 0,e.setVisibleState=function(){e.setState({visibility:"visible"})},e.clearToast=function(){var t=e.props.clearAlert;e.setState({visibility:"hidden"}),O.a.isFunction(t)&&t()},e}return Object(c.a)(n,[{key:"componentDidMount",value:function(){this.showToast(),this.autohideToast()}},{key:"componentDidUpdate",value:function(){var e=this.props.message,t=this.state.visibility;e&&"hidden"===t&&(this.showToast(),this.autohideToast())}},{key:"componentWillUnmount",value:function(){window.clearTimeout(this.hideTimeoutId)}},{key:"showToast",value:function(){var e=this.props.delayShow;O.a.delay(this.setVisibleState,e)}},{key:"autohideToast",value:function(){var e=this.props,t=e.autohide,n=e.delayShow;t&&(window.clearTimeout(this.hideTimeoutId),this.hideTimeoutId=O.a.delay(this.clearToast,5e3+n))}},{key:"render",value:function(){var e,t=this.props,n=t.message,r=t.type,a=this.state.visibility,s="success"===r?k:P,o=x()(L.a.toast,L.a[r],(e={},Object(g.a)(e,L.a.show,"visible"===a),Object(g.a)(e,L.a.hide,"hidden"===a),e));return Object(I.jsx)("div",{className:L.a.sticky,children:Object(I.jsx)(S,{children:Object(I.jsx)("div",{className:o,children:Object(I.jsx)(s,{message:n})})})})}}]),n}(a.a.PureComponent);F.defaultProps={delayShow:0,type:"success",clearAlert:O.a.noop};var U,M=F,q=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){var e=this.props,t=e.children,n=e.type,r=e.message,a=e.clearAlert,s=e.delayShow,o=void 0===s?0:s,i=e.autohide,c=void 0!==i&&i;return Object(I.jsx)(_,{children:Object(I.jsx)(M,{type:n,message:r,clearAlert:a,delayShow:o,autohide:c,children:t})})}}]),n}(a.a.PureComponent),Q=n(13),H={ready:"ready",pending:"pending",fulfilled:"fulfilled",rejected:"rejected"},W=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(Q.Map)({});return e.get("status")===H.ready},G=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(Q.Map)({});return e.get("status")===H.pending},V=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(Q.Map)({});return e.get("status")===H.fulfilled},B=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(Q.Map)({});return e.get("status")===H.rejected},z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(Q.Map)({});return!O.a.isNull(e.get("error"))&&!O.a.isUndefined(e.get("error"))},K=H,J=function(e,t){var n=t instanceof Error;return{type:e,payload:n?{stack:t.stack,message:t.message}:t,error:n}},$=function(e,t){return["READY","START","PENDING","FULFILLED","REJECTED"].reduce((function(n,r){return n["".concat(e,"_").concat(r)]="".concat(t,"/").concat(e,"_").concat(r),n}),{})},Y=function(e,t){return{type:e,payload:{state:K.rejected,message:t.message,error:t}}},Z="ALERT/CLEAR_FIRST_ALERT",X="ALERT/ADD_ALERT",ee={clearFirstAlert:function(){return J(Z)},addAlert:function(e,t){return J(X,{type:e,message:t})}},te=n(19),ne=Object(te.a)((function(e){return e.get("alerts")}),(function(e){return e.get(0)})),re={clearFirstAlert:ee.clearFirstAlert},ae=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){var e=this.props,t=e.alert,n=e.clearFirstAlert;if(!O.a.get(t,"size"))return null;var r=O.a.partial(O.a.delay,n,parseInt(L.a.transitionDuration,10));return Object(I.jsx)(q,{clearAlert:r,message:t.get("message"),type:t.get("type"),delayShow:500,autohide:!0})}}]),n}(a.a.PureComponent),se=Object(d.b)((function(e){return{alert:ne(e)}}),re)(ae),oe=n(444),ie=n(10),ce=Object(ie.a)({},Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_ENV:"production"})),ue=oe[ce.REACT_APP_ENV],le=function(e){return e.get("session")},de=Object(te.a)(le,(function(e){return e.getIn(["me","approvedActions"])})),pe=Object(te.a)(le,(function(e){return e.getIn(["classroomMetadata","can_see_career_portal"],!1)})),he=Object(te.a)(le,(function(e){return e.getIn(["me","user"])})),je=Object(te.a)(le,(function(e){return e.getIn(["me","roles"],Object(Q.List)([])).includes("staff")})),be=Object(te.a)((function(e,t){if(t){var n=e.getIn(["sessionApi",t]);if(O.a.isUndefined(n))throw Error('Key "'.concat(t,'" not found on sessionApi.'));return n}return e.get("sessionApi")}),(function(e){return e})),me=(Object(te.a)(le,(function(e){return e.getIn(["me","enrolledNanodegrees"])})),Object(te.a)(le,(function(e){return e.getIn(["me","reviewedNanodegrees"])}))),fe=Object(te.a)(le,(function(e){return e.getIn(["me","certifications"])})),Oe=Object(te.a)(le,(function(e){return e.getIn(["classroomMetadata","preferred_language"])||"en-us"}));!function(e){e.ANY="PSEUDO_ND_ANY",e.CERTIFICATIONS="PSEUDO_ND_CERTIFICATIONS"}(U||(U={}));var ve="__pseudo_nd_";function _e(e,t){return t?e===ye(t).key:e&&e.startsWith(ve)}function ge(e){return"".concat(ve,"_").concat(e.replace(/\s+/g,"").toLowerCase())}function ye(e){switch(e){case U.ANY:return{title:"Any",key:ge("Any")};case U.CERTIFICATIONS:var t="Reviews Certified Projects";return{title:t,key:ge(t)};default:throw new Error("Unrecognized pseudo Nanodegree type")}}function xe(e,t){var n=t.map((function(e){return{title:e.title,reviewsProjectId:e.id}}));return Object(ie.a)(Object(ie.a)({},ye(e)),{},{projects:n})}var Ee=function(e){return e.get("nanodegrees")},we=Object(te.a)(Ee,(function(e){return e.enrollmentsByKey})),Ie=Object(te.a)(Ee,(function(e){return e.graduatedByKey})),Se=Object(te.a)(we,(function(e){return Object.values(e)})),Ae=Object(te.a)(Ie,(function(e){return Object.values(e)})),Te=Object(te.a)(Ee,(function(e){return e.nanodegreeTitlesByKey})),Ce=function(e,t){return Te(e)[t]},Ne=Object(te.a)(Ee,(function(e){return e.reviewsProjectsById})),Pe=function(e,t){var n=Ne(e)[t];return n?n.title:void 0},Re=Object(te.a)(fe,je,Ne,(function(e,t,n){var r=[],a=e?e.toJS():void 0;if(a&&a.length>0){var s=a.map((function(e){var t=n[e];return{id:e,title:t&&t.title}})).sort((function(e,t){return e.title<t.title?-1:e.title>t.title?1:0}));r.push(xe(U.CERTIFICATIONS,s))}if(t){var o=Object.values(n).map((function(e){return{id:e.id,title:e.title}})).sort((function(e,t){return e.title<t.title?-1:e.title>t.title?1:0}));r.push(xe(U.ANY,o))}return r})),ke=Object(te.a)(Se,Ae,(function(e,t){return e.concat(t).some((function(e){return e.hasKnowledgeReviews}))})),De=Object(te.a)((function(e,t){if(t){var n=e.getIn(["nanodegreeApi",t]);if(void 0===n)throw Error('Key "'.concat(t,'" not found on nanodegreeApi.'));return n}return e.get("nanodegreeApi")}),(function(e){return e})),Le=function(e){var t=e.goToClassroom,n=void 0===t?function(){window.location.assign(ue.classroomWebUrl)}:t,r=e.children,a=Object(d.d)(je),s=Object(d.d)(fe),o=Object(d.d)(ke),i=Object(d.d)((function(e){return De(e,"fetchNanodegreeEnrollments")}));return W(i)||G(i)||o||s.size>0||a||n(),r},Fe=n(445),Ue=n.n(Fe),Me=n(12),qe=n(446),Qe=n.n(qe),He=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){return Object(I.jsx)("div",{className:Qe.a["centered-loader"],children:Object(I.jsx)(Me.i,{})})}}]),n}(a.a.PureComponent);function We(e,t,n){var r,a=function(){r=setTimeout((function(){t(),r=void 0}),n)},s=function(){r&&clearTimeout(r),a()};e.addEventListener("mousemove",s),e.addEventListener("keypress",s),a()}var Ge=n(937),Ve="production"!==ce.REACT_APP_ENV?{debug:!0}:{};Ge.a(Object(ie.a)({dsn:ue.sentryDSN,environment:ce.REACT_APP_ENV,maxBreadcrumbs:50,ignoreErrors:["top.GLOBALS","Extension context invalidated."],blacklistUrls:[/extensions\//i,/^chrome:\/\//i]},Ve));var Be=function(e){b.b({id:e})},ze=n(124),Ke=n.n(ze),Je=n(205),$e=n.n(Je),Ye=n(206),Ze=n.n(Ye),Xe="_jwt";function et(){return Ke.a.isAuthenticated()?Ze()($e.a.get(Xe)):{}}function tt(){if(Ke.a.isAuthenticated()){var e=et();return e.key||e.uid}}var nt=function(){Ke.a.signOut(),O.a.defer((function(){window.location.href="https://www.udacity.com/account/logout"}))},rt="SESSION",at=Object(ie.a)(Object(ie.a)(Object(ie.a)({},$("BOOTSTRAP",rt)),$("FETCH_CLASSROOM_METADATA",rt)),{},{SET_ROLES:"SESSION/SET_ROLES"}),st={bootstrap:function(){return J(at.BOOTSTRAP_PENDING)},getClassroomUserMetadata:function(e){return J(at.FETCH_CLASSROOM_METADATA_START,{userId:e})},setRoles:function(e){return J(at.SET_ROLES,e)}},ot="SEARCH",it=Object(ie.a)(Object(ie.a)(Object(ie.a)({INITIALIZE_SEARCH_SESSION:"".concat(ot,"/INITIALIZE_SEARCH_SESSION")},$("SEARCH_QUESTIONS",ot)),$("SEARCH_RESULT_CLICK",ot)),{},{UPDATE_SEARCH_QUERY_STRING:"".concat(ot,"/UPDATE_SEARCH_QUERY_STRING"),RESET_SEARCH_FILTERS:"".concat(ot,"/RESET_SEARCH_FILTERS")}),ct={initializeSearchSession:function(){return J(it.INITIALIZE_SEARCH_SESSION)},resetSearchQuestions:function(){return J(it.SEARCH_QUESTIONS_READY)},resetSearchFilters:function(){return J(it.RESET_SEARCH_FILTERS)},setSearchParameters:function(e){return J(it.SEARCH_QUESTIONS_START,e)},updateSearchQueryString:function(e){return J(it.UPDATE_SEARCH_QUERY_STRING,e)},trackSearchClick:function(e,t){return J(it.SEARCH_RESULT_CLICK_START,{id:e,analyticsObject:t})}},ut={bootstrap:st.bootstrap,setRoles:st.setRoles,getClassroomUserMetadata:st.getClassroomUserMetadata,initializeSearchSession:ct.initializeSearchSession},lt=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"componentDidMount",value:function(){var e=Object(j.a)(h.a.mark((function e(){var t,n,r,a,s,o,i;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.props,n=t.bootstrap,r=t.getClassroomUserMetadata,a=t.setRoles,s=t.initializeSearchSession,Ue()(["development","test"],ce.REACT_APP_ENV)){e.next=4;break}return e.next=4,new Promise((function(e,t){return Ke.a.isAuthenticated()?e():(Ke.a.authenticate({env:"production",returnUrl:window.location.href}),t())})).catch((function(){return new Error("Auth Token is invalid or expired.")}));case 4:(o=tt())&&(Be(o),r(o)),(i=et())&&i.roles&&a(i.roles),s(),We(window,s,18e5),n();case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props,t=e.bootstrapStatus,n=e.children;return V(t)?n:Object(I.jsx)(He,{})}}]),n}(a.a.PureComponent),dt=Object(d.b)((function(e){return{bootstrapStatus:be(e,"bootstrap")}}),ut)(lt),pt=(n(522),n(523),n(67)),ht=n(33),jt=n(21),bt=n(447),mt=n.n(bt),ft=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){var e=this.props,t=e.children,n=e.color,r=void 0===n?"white":n;return Object(I.jsx)("div",{className:mt.a[r],children:t})}}]),n}(a.a.PureComponent),Ot=n(448),vt=n.n(Ot),_t=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){return Object(I.jsx)("div",{className:vt.a["content-wrapper"],children:this.props.children})}}]),n}(a.a.PureComponent),gt={SIGN_UP:"".concat(ue.AUTH_ROOT,"/sign-up"),SIGN_IN:"".concat(ue.AUTH_ROOT,"/sign-in")},yt=n(64),xt=n.n(yt),Et=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).state={isExpanded:!1},e.handleExpand=function(){e.setState({isExpanded:!0})},e.handleUnexpand=function(){e.setState({isExpanded:!1})},e}return Object(c.a)(n,[{key:"render",value:function(){var e=this.state.isExpanded;return Object(I.jsxs)(a.a.Fragment,{children:[Object(I.jsxs)("div",{className:xt.a["message-wrapper-desktop"],children:["You are in read-only mode. "," ","To participate, ",Object(I.jsx)("a",{href:gt.SIGN_UP,children:Object(I.jsx)("span",{className:xt.a["call-to-action-text"],children:"enroll"})})," "," in any Udacity Nanodegree"]}),Object(I.jsx)("div",{className:xt.a["message-wrapper-mobile"],children:Object(I.jsxs)(_t,{children:[Object(I.jsxs)("div",{className:xt.a.wrapper,children:["You are in read-only mode. ",!e&&Object(I.jsx)("button",{type:"minimal","data-ref":"unexpanded",onClick:this.handleExpand,className:x()(xt.a.button,xt.a["call-to-action-text"]),children:"Learn More"}),e&&Object(I.jsx)("button",{type:"minimal","data-ref":"expanded",onClick:this.handleUnexpand,className:x()(xt.a.button,xt.a["call-to-action-text"]),children:"See Less"})]}),e&&Object(I.jsxs)("span",{children:[Object(I.jsx)("hr",{className:xt.a.hr}),"To participate, ",Object(I.jsx)("a",{className:xt.a["call-to-action-text"],href:gt.SIGN_IN,"data-ref":"sign-in-link",children:"sign in"})," or ",Object(I.jsx)("a",{className:xt.a["call-to-action-text"],href:gt.SIGN_UP,children:"enroll"})," "," in any Udacity Nanodegree or free course!"]})]})})]})}}]),n}(a.a.Component),wt=n(449),It=n.n(wt),St=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){return Object(I.jsx)("h1",{className:It.a.logo,children:"Knowledge"})}}]),n}(a.a.PureComponent),At=n(301),Tt=n.n(At),Ct=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){var e=this.props,t=e.navText,n=e.navIcon,r=e.navLink;return Object(I.jsx)(Me.f,{size:"h6",spacing:"none",children:Object(I.jsx)("div",{className:Tt.a["nav-list-item"],children:Object(I.jsxs)(ht.b,{to:r,children:[n,Object(I.jsx)("span",{className:Tt.a.text,children:t})]})})})}}]),n}(a.a.PureComponent),Nt=n(215),Pt=n.n(Nt),Rt=function(e){var t=e.unreadTotal,n=t&&t>99?"99+":t;return Object(I.jsx)("div",{title:"Notification",className:Pt.a.notificationOuter,children:n?Object(I.jsx)("span",{title:"Unread post count",className:Pt.a.count,children:Object(I.jsx)(Me.k,{size:"xs",spacing:"none",color:"white",children:n})}):Object(I.jsx)("span",{title:"Unread posts",className:Pt.a.notificationInner})})},kt=n(28),Dt=Object(te.a)((function(e){return e.get("entities")}),(function(e){return Object(Q.Map)({answers:e.getIn(["answers","byId"]),comments:e.getIn(["comments","byId"]),questions:e.getIn(["questions","byId"]),moderatePostReasons:e.getIn(["moderatePostReasons","byId"]),users:e.getIn(["users","byId"])})})),Lt=new kt.schema.Entity("users"),Ft=new kt.schema.Entity("comments",{user:Lt}),Ut=[Ft],Mt=(new kt.schema.Object({comments:[Ft]}),new kt.schema.Entity("answers",{comments:[Ft],user:Lt,lockedBy:Lt})),qt=new kt.schema.Object({answers:[Mt]}),Qt=[Mt],Ht=new kt.schema.Entity("questions",{comments:[Ft],answers:[Mt],user:Lt,lockedBy:Lt}),Wt=new kt.schema.Object({questions:[Ht]}),Gt=[new kt.schema.Entity("moderatePostReasons")],Vt=function(e){return Object(kt.normalize)(e,Gt)},Bt=function(e){return Object(kt.normalize)(e,Ht)},zt=function(e){return Object(kt.normalize)(e,Mt)},Kt=function(e){return Object(kt.normalize)(e,Ft)},Jt=function(e){return Object(kt.normalize)(e,Wt)},$t=function(e){return Object(kt.normalize)(e,qt)},Yt=function(e,t){return e.getIn(["entities","questions","byId",t])},Zt=Object(te.a)((function(e){return e.getIn(["posts","questionForm"])}),(function(e){return e.get("latestFileInputRef")})),Xt=function(e,t){return e.getIn(["entities","answers","byId",t])},en=function(e,t){return e.getIn(["entities","comments","byId",t])},tn=Object(te.a)((function(e){return e.getIn(["posts","moderatePostReasons"])}),Dt,(function(e,t){return e.size?Object(kt.denormalize)(e,Gt,t):Object(Q.List)([])})),nn=Object(te.a)((function(e){return e.getIn(["posts","question"])}),(function(e){return e.getIn(["entities","questions","byId"])}),Dt,(function(e,t,n){if(e){var r=t.get(e);if(r)return Object(kt.denormalize)(r,Ht,n)}})),rn=Object(te.a)(Yt,Xt,en,(function(e,t,n){return e||(t||(n||Object(Q.Map)({})))})),an=Object(te.a)(Yt,(function(e){return e.get("answers")})),sn=Object(te.a)(Xt,(function(e){return e})),on=Object(te.a)(en,(function(e){return e})),cn=Object(te.a)(rn,Dt,(function(e,t){if(!e||e===Object(Q.Map)({}))return Object(Q.List)([]);var n=e.get("comments",Object(Q.List)([]));return Object(kt.denormalize)(n,Ut,t)})),un=Object(te.a)(rn,(function(e){return e.get("isArchived",!1)})),ln=Object(te.a)(rn,(function(e){return e&&e!==Object(Q.Map)({})?e.get("comments",Q.List).size:0})),dn=Object(te.a)((function(e,t){return e.getIn(["posts","commentThreadsExpanded",t])}),(function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return e})),pn=Object(te.a)((function(e,t){return e.getIn(["posts","answerFormsExpanded",t])}),(function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return e})),hn=function(e,t){return e.getIn(["posts","commentFormsExpanded",t])},jn=Object(te.a)((function(e,t){if(t){var n=e.getIn(["postsApi",t]);if(O.a.isUndefined(n))throw Error('Key "'.concat(t,'" not found on postsApi.'));return n}return e.get("postsApi")}),(function(e){return e})),bn=Object(te.a)(jn,(function(e){return G(e.get("upvotePost"))||G(e.get("downvotePost"))||G(e.get("clearvotePost"))})),mn=Object(te.a)(jn,(function(e){return G(e.get("acceptAnswer"))||G(e.get("unacceptAnswer"))})),fn=Object(te.a)(jn,(function(e){return G(e.get("verifyAnswer"))||G(e.get("unverifyAnswer"))})),On=Object(te.a)(rn,Dt,(function(e,t){if(!e||e===Object(Q.Map)({}))return Object(Q.List)([]);var n=e.get("answers",Object(Q.List)([]));return Object(kt.denormalize)(n,Qt,t)})),vn=Object(te.a)(On,(function(e){return e.filter((function(e){return e.get("fromMentor")})).sort((function(e,t){return e.get("createdAt")-t.get("createdAt")})).last()})),_n=n(101),gn=n(102),yn=["search","searchQuery"],xn=function(e,t){try{localStorage.setItem(JSON.stringify(t),JSON.stringify(e))}catch(n){console.warn("Application state could not be stored locally.")}},En=n(42);function wn(e){var t=Object(Q.Map)({status:K.ready,error:null});return function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t,r=arguments.length>1?arguments[1]:void 0,a=r.type,s=r.payload;switch(a){case e.READY:return n.merge({status:K.ready,error:null});case e.PENDING:return n.merge({payload:s,status:K.pending,error:null});case e.FULFILLED:return n.merge({payload:s,status:K.fulfilled,error:null});case e.REJECTED:return n.merge({status:K.rejected,error:s})}return n}}function In(e,t){if(e&&!t)throw new TypeError('"actionClass" is a required arg on normalizeApiActions()');return{READY:e?"".concat(t,"/").concat(e,"_READY"):"DEFAULT_API_READY",PENDING:e?"".concat(t,"/").concat(e,"_PENDING"):"DEFAULT_API_PENDING",FULFILLED:e?"".concat(t,"/").concat(e,"_FULFILLED"):"DEFAULT_API_FULFILLED",REJECTED:e?"".concat(t,"/").concat(e,"_REJECTED"):"DEFAULT_API_REJECTED"}}var Sn={PAGE_SIZE:O.a.includes(["development","staging"],ce.REACT_APP_ENV)?5:20,ALL_RESULTS:1e3,START_PAGE:1,HIGHLIGHT_OPEN_TAG:"[highlight]",HIGHLIGHT_CLOSE_TAG:"[/highlight]"},An="ACTIVITY",Tn=Object(ie.a)(Object(ie.a)(Object(ie.a)({},$("FETCH_QUESTIONS",An)),$("FETCH_ANSWERS",An)),$("FETCH_USER_ACTIVITY_STATS",An)),Cn={getQuestions:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Sn.PAGE_SIZE;return J(Tn.FETCH_QUESTIONS_START,{userId:e,offset:t,limit:n})},getAnswers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Sn.PAGE_SIZE;return J(Tn.FETCH_ANSWERS_START,{userId:e,offset:t,limit:n})},getUserActivityStats:function(e){return J(Tn.FETCH_USER_ACTIVITY_STATS_START,e)}},Nn=In("FETCH_QUESTIONS",An),Pn=In("FETCH_ANSWERS",An),Rn=In("FETCH_USER_ACTIVITY_STATS",An),kn=In("FETCH_USER_ACTIVITY_STATS",An),Dn=Object(En.combineReducers)({getQuestions:wn(Nn),getAnswers:wn(Pn),getUserPostStats:wn(Rn),getUserActivityStats:wn(kn)}),Ln=Object(Q.fromJS)({activityResults:{totalResults:0,questions:[],answers:[]},activityParams:{questions:{offset:0,limit:Sn.PAGE_SIZE},answers:{offset:0,limit:Sn.PAGE_SIZE}},userActivityStats:{}});var Fn=Object(Q.List)([]);var Un,Mn=n(71),qn=function(e,t){return t?e.mergeDeep({byId:t}):e};!function(e){e.COMMENT="COMMENT",e.NEED_MORE_HELP="NEED_MORE_HELP",e.REPLY_TO_MENTOR_COMMENT="REPLY_TO_MENTOR_COMMENT"}(Un||(Un={}));var Qn="POSTS",Hn=Object(ie.a)(Object(ie.a)(Object(ie.a)(Object(ie.a)(Object(ie.a)(Object(ie.a)(Object(ie.a)(Object(ie.a)(Object(ie.a)(Object(ie.a)(Object(ie.a)(Object(ie.a)(Object(ie.a)(Object(ie.a)(Object(ie.a)(Object(ie.a)(Object(ie.a)(Object(ie.a)(Object(ie.a)(Object(ie.a)(Object(ie.a)(Object(ie.a)({},$("FETCH_QUESTION",Qn)),$("FETCH_ANSWERS_BY_QUESTION_ID",Qn)),$("UPDATE_QUESTION",Qn)),$("CREATE_QUESTION",Qn)),$("DELETE_POST",Qn)),$("UPVOTE_POST",Qn)),$("DOWNVOTE_POST",Qn)),$("CLEARVOTE_POST",Qn)),$("UPDATE_ANSWER",Qn)),$("CREATE_ANSWER",Qn)),$("UPDATE_COMMENT",Qn)),$("CREATE_COMMENT",Qn)),$("ACCEPT_ANSWER",Qn)),$("UNACCEPT_ANSWER",Qn)),$("VERIFY_ANSWER",Qn)),$("UNVERIFY_ANSWER",Qn)),$("FETCH_MODERATE_POST_REASONS",Qn)),$("ADMIN_DELETE_POST",Qn)),$("REPORT_POST",Qn)),$("UNARCHIVE_POST",Qn)),$("MOVE_COMMENT_TO_ANSWER",Qn)),{},{EXPAND_COMMENT_THREAD:"POSTS/EXPAND_COMMENT_THREAD",COLLAPSE_COMMENT_THREAD:"POSTS/COLLAPSE_COMMENT_THREAD",EXPAND_ANSWER_FORM:"POSTS/EXPAND_ANSWER_FORM",COLLAPSE_ANSWER_FORM:"POSTS/COLLAPSE_ANSWER_FORM",EXPAND_COMMENT_FORM:"POSTS/EXPAND_COMMENT_FORM",COLLAPSE_COMMENT_FORM:"POSTS/COLLAPSE_COMMENT_FORM",SET_LATEST_FILE_INPUT_REF:"POSTS/SET_LATEST_FILE_INPUT_REF"}),Wn={moveCommentToAnswer:function(e,t){return J(Hn.MOVE_COMMENT_TO_ANSWER_START,{commentId:e,parentId:t})},setLatestFileInputRef:function(e){return J(Hn.SET_LATEST_FILE_INPUT_REF,{ref:e})},getQuestion:function(e){return J(Hn.FETCH_QUESTION_START,{id:e})},getAnswersByQuestionId:function(e){return J(Hn.FETCH_ANSWERS_BY_QUESTION_ID_START,{id:e})},resetGetQuestion:function(){return J(Hn.FETCH_QUESTION_READY)},createQuestion:function(e){return J(Hn.CREATE_QUESTION_PENDING,e)},resetCreateQuestion:function(){return J(Hn.CREATE_QUESTION_READY)},updateQuestion:function(e,t){return J(Hn.UPDATE_QUESTION_PENDING,{questionId:t,question:e})},resetUpdateQuestion:function(){return J(Hn.UPDATE_QUESTION_READY)},deletePost:function(e,t){return J(Hn.DELETE_POST_PENDING,{postId:e,parentId:t})},resetDeletePost:function(){return J(Hn.DELETE_POST_READY)},upvotePost:function(e){return J(Hn.UPVOTE_POST_PENDING,{postId:e})},downvotePost:function(e){return J(Hn.DOWNVOTE_POST_PENDING,{postId:e})},clearvotePost:function(e){return J(Hn.CLEARVOTE_POST_PENDING,{postId:e})},createAnswer:function(e,t){return J(Hn.CREATE_ANSWER_START,{questionId:e,body:t})},resetCreateAnswer:function(){return J(Hn.CREATE_ANSWER_READY)},updateAnswer:function(e,t,n){return J(Hn.UPDATE_ANSWER_START,{answerId:e,parentId:t,answer:n})},resetUpdateAnswer:function(){return J(Hn.UPDATE_ANSWER_READY)},acceptAnswer:function(e){return J(Hn.ACCEPT_ANSWER_PENDING,{answerId:e})},unacceptAnswer:function(e){return J(Hn.UNACCEPT_ANSWER_PENDING,{answerId:e})},verifyAnswer:function(e){return J(Hn.VERIFY_ANSWER_PENDING,{answerId:e})},unverifyAnswer:function(e){return J(Hn.UNVERIFY_ANSWER_PENDING,{answerId:e})},updateComment:function(e,t,n){return J(Hn.UPDATE_COMMENT_START,{commentId:e,parentId:t,comment:n})},resetUpdateComment:function(){return J(Hn.UPDATE_COMMENT_READY)},expandCommentThread:function(e){return J(Hn.EXPAND_COMMENT_THREAD,{parentId:e})},collapseCommentThread:function(e){return J(Hn.COLLAPSE_COMMENT_THREAD,{parentId:e})},expandAnswerForm:function(e){return J(Hn.EXPAND_ANSWER_FORM,{parentId:e})},collapseAnswerForm:function(e){return J(Hn.COLLAPSE_ANSWER_FORM,{parentId:e})},expandCommentForm:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Un.COMMENT;return J(Hn.EXPAND_COMMENT_FORM,{parentId:e,commentFormType:t})},collapseCommentForm:function(e){return J(Hn.COLLAPSE_COMMENT_FORM,{parentId:e})},createComment:function(e,t){return J(Hn.CREATE_COMMENT_START,{parentId:e,comment:t})},resetCreateComment:function(){return J(Hn.CREATE_COMMENT_READY)},getModeratePostReasons:function(){return J(Hn.FETCH_MODERATE_POST_REASONS_START)},adminDeletePost:function(e,t,n){return J(Hn.ADMIN_DELETE_POST_START,{postId:e,parentId:n,reasonId:t})},resetAdminDeletePost:function(){return J(Hn.ADMIN_DELETE_POST_READY)},reportPost:function(e,t){return J(Hn.REPORT_POST_START,{postId:e,reasonId:t})},unarchivePost:function(e){return J(Hn.UNARCHIVE_POST_START,{postId:e})}},Gn=Object(Q.fromJS)({byId:{}}),Vn=function(e,t,n){return e.hasIn(["byId",n,"comments"])?e.updateIn(["byId",n,"comments"],(function(e){return e.filter((function(e){return e!==t}))})):e.deleteIn(["byId",t])};var Bn=Object(Q.fromJS)({byId:{}}),zn=function(e,t){return e.deleteIn(["byId",t])};var Kn=Object(Q.fromJS)({byId:{}});var Jn=Object(Q.fromJS)({byId:{}}),$n=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Jn,t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;if(e.getIn(["byId",n,"answers"],Object(Q.List)([])).includes(t))return e.updateIn(["byId",n,"answers"],(function(e){return e.filter((function(e){return e!==t}))}));if(e.getIn(["byId",n,"comments"],Object(Q.List)([])).includes(t))return e.updateIn(["byId",n,"comments"],(function(e){return e.filter((function(e){return e!==t}))}));var r={postId:t,postType:"archivedPost"};return e.updateIn(["byId",t],(function(){return Object(Q.fromJS)(r)}))};var Yn=Object(Q.fromJS)({byId:{}});var Zn=Object(En.combineReducers)({questions:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Jn,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case Hn.UPDATE_QUESTION_FULFILLED:case Hn.CREATE_QUESTION_FULFILLED:case Hn.FETCH_QUESTION_FULFILLED:var a=r.entities.questions;return qn(e,a);case Hn.DELETE_POST_FULFILLED:var s=r.postId,o=r.parentId;return $n(e,s,o);case Hn.ADMIN_DELETE_POST_FULFILLED:var i=r.postId,c=r.parentId;return $n(e,i,c);case it.SEARCH_QUESTIONS_FULFILLED:var u=r.results.entities.questions;return qn(e,u);case Tn.FETCH_QUESTIONS_FULFILLED:var l=r.entities.questions;return qn(e,l);case Hn.CREATE_ANSWER_FULFILLED:var d=r.questionId,p=r.answerId;return e.updateIn(["byId",d,"answers"],(function(e){return e.push(p)}));case Hn.CREATE_COMMENT_FULFILLED:var h=r.parentId,j=r.commentId;return e.getIn(["byId",h])?e.updateIn(["byId",h,"comments"],(function(e){return e.push(j)})):e;case Hn.UPVOTE_POST_FULFILLED:case Hn.DOWNVOTE_POST_FULFILLED:case Hn.CLEARVOTE_POST_FULFILLED:var b=r.id,m=r.score,f=r.myVote;return e.getIn(["byId",b])?e.mergeIn(["byId",b],{score:m,myVote:f}):e;case Hn.VERIFY_ANSWER_FULFILLED:var O=r.id,v=r.parentId;return e.getIn(["byId",v])?e.setIn(["byId",v,"verifiedAnswerId"],O):e;case Hn.UNVERIFY_ANSWER_FULFILLED:var _=r.id,g=r.parentId;return e.getIn(["byId",g])&&e.getIn(["byId",g,"verifiedAnswerId"])===_?e.setIn(["byId",g,"verifiedAnswerId"],null):e;case Hn.ACCEPT_ANSWER_FULFILLED:var y=r.id,x=r.parentId;return e.getIn(["byId",x])?e.setIn(["byId",x,"acceptedAnswerId"],y):e;case Hn.UNACCEPT_ANSWER_FULFILLED:var E=r.id,w=r.parentId;return e.getIn(["byId",w])&&e.getIn(["byId",w,"acceptedAnswerId"])===E?e.setIn(["byId",w,"acceptedAnswerId"],null):e}return e},answers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Gn,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case Hn.CREATE_ANSWER_FULFILLED:case Hn.UPDATE_ANSWER_FULFILLED:case Hn.FETCH_ANSWERS_BY_QUESTION_ID_FULFILLED:case Hn.FETCH_QUESTION_FULFILLED:var a=r.entities.answers;return qn(e,a);case Hn.CREATE_COMMENT_FULFILLED:var s=r.parentId,o=r.commentId;return e.getIn(["byId",s])?e.updateIn(["byId",s,"comments"],(function(e){return e.push(o)})):e;case Hn.DELETE_POST_FULFILLED:var i=r.postId,c=r.parentId;return Vn(e,i,c);case Hn.ADMIN_DELETE_POST_FULFILLED:var u=r.postId,l=r.parentId;return Vn(e,u,l);case Hn.ACCEPT_ANSWER_FULFILLED:case Hn.VERIFY_ANSWER_FULFILLED:case Hn.UPVOTE_POST_FULFILLED:case Hn.DOWNVOTE_POST_FULFILLED:case Hn.CLEARVOTE_POST_FULFILLED:var d=r.id,p=Object(Mn.a)(r,["id"]);return e.getIn(["byId",d])?e.mergeIn(["byId",d],p):e;case Hn.UNACCEPT_ANSWER_FULFILLED:var h=r.id;return e.getIn(["byId",h])?e.mergeIn(["byId",h],{accepted:!1,acceptedAt:null}):e;case Hn.UNVERIFY_ANSWER_FULFILLED:var j=r.id;return e.getIn(["byId",j])?e.mergeIn(["byId",j],{verified:!1,verifiedAt:null}):e;case Tn.FETCH_ANSWERS_FULFILLED:var b=r.entities.answers;return qn(e,b)}return e},comments:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Bn,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case Hn.FETCH_ANSWERS_BY_QUESTION_ID_FULFILLED:case Hn.CREATE_COMMENT_FULFILLED:case Hn.UPDATE_COMMENT_FULFILLED:case Hn.FETCH_QUESTION_FULFILLED:var a=r.entities.comments;return qn(e,a);case Hn.DELETE_POST_FULFILLED:var s=r.postId;return zn(e,s);case Hn.ADMIN_DELETE_POST_FULFILLED:var o=r.postId;return zn(e,o);case Tn.FETCH_COMMENTS_FULFILLED:var i=r.entities.comments;return qn(e,i)}return e},users:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Yn,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case Hn.FETCH_QUESTION_FULFILLED:case Hn.FETCH_ANSWERS_BY_QUESTION_ID_FULFILLED:case Hn.UPDATE_QUESTION_FULFILLED:case Hn.CREATE_QUESTION_FULFILLED:case Hn.UPDATE_ANSWER_FULFILLED:case Hn.CREATE_ANSWER_FULFILLED:case Hn.UPDATE_COMMENT_FULFILLED:case Hn.CREATE_COMMENT_FULFILLED:var a=r.entities.users;return qn(e,a);case it.SEARCH_QUESTIONS_FULFILLED:var s=r.results.entities.users;return qn(e,s);case Tn.FETCH_USER_ACTIVITY_STATS_FULFILLED:var o=r.id;return e.mergeDeep({byId:Object(g.a)({},o,{activity:r.result})})}return e},moderatePostReasons:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Kn,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case Hn.FETCH_MODERATE_POST_REASONS_FULFILLED:var a=r.entities.moderatePostReasons;return qn(e,a)}return e}}),Xn=n(61),er=n.n(Xn);function tr(e){if(!e)return"0 Bytes";var t=Math.floor(Math.log(e)/Math.log(1024));return"".concat(e/Math.pow(1024,t)," ").concat(["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"][t])}function nr(e){if(e){var t=e.lastModified;return[e.name,t,e.size].join("")}return"file-placeholder"}function rr(e,t){var n=new FileReader,r=window.URL.createObjectURL(e);n.onload=function(n){var a=new Image;a.src=r,a.onload=function(){if(er()(t)){var n={localImageSrc:r,fileIdentifierString:nr(e),filename:e.name,width:a.width,height:a.height};t(n)}}},e&&n.readAsDataURL(e)}var ar="FILES",sr=Object(ie.a)(Object(ie.a)({},$("UPLOAD_IMAGE",ar)),{},{UPLOAD_IMAGE_PROGRESS:"FILES/UPLOAD_IMAGE_PROGRESS"}),or={imageUploadStart:function(e){return J(sr.UPLOAD_IMAGE_START,{file:e,fileIdentifierString:nr(e)})},imageUploadProgress:function(e,t){return J(sr.UPLOAD_IMAGE_PROGRESS,{progress:t,fileIdentifierString:e})},imageUploadSuccess:function(e,t){return J(sr.UPLOAD_IMAGE_FULFILLED,{fileIdentifierString:e,response:t})},imageUploadRejected:function(e,t){return J(sr.UPLOAD_IMAGE_REJECTED,{fileIdentifierString:e,error:t})}},ir=In("UPLOAD_IMAGE",ar),cr=Object(En.combineReducers)({uploadImage:wn(ir)}),ur=n(32),lr=n.n(ur),dr=Object(Q.fromJS)({});var pr="NANODEGREE",hr=Object(ie.a)(Object(ie.a)(Object(ie.a)({},$("FETCH_NANODEGREE_ENROLLMENTS",pr)),$("FETCH_ALL_NANODEGREE_TITLES",pr)),$("FETCH_ALL_REVIEWS_PROJECTS",pr)),jr=n(216),br=n.n(jr);function mr(e){return e.map((function(e){return{key:e.key,title:e.title,projects:fr(e),hasKnowledgeReviews:!!e.enrollment.includes_knowledge_reviews}})).reduce((function(e,t){return e[t.key]=t,e}),{})}function fr(e){return br()(e.parts,(function(e){return br()(e.modules,(function(e){return br()(e.lessons,(function(e){return e.project?{title:e.project.title,rubricId:parseInt(e.project.rubric_id,10),reviewsProjectId:parseInt(e.project.reviews_project_id,10)}:null}))}))})).filter((function(e){return!!e}))}var Or={enrollmentsByKey:{},graduatedByKey:{},nanodegreeTitlesByKey:{},reviewsProjectsById:{}};var vr=In("FETCH_NANODEGREE_ENROLLMENTS",pr),_r=Object(En.combineReducers)({fetchNanodegreeEnrollments:wn(vr)}),gr=In("FETCH_QUESTION",Qn),yr=In("FETCH_ANSWERS_BY_QUESTION_ID",Qn),xr=In("CREATE_QUESTION",Qn),Er=In("UPDATE_QUESTION",Qn),wr=In("MOVE_COMMENT_TO_ANSWER",Qn),Ir=In("DELETE_POST",Qn),Sr=In("UPVOTE_POST",Qn),Ar=In("DOWNVOTE_POST",Qn),Tr=In("CLEARVOTE_POST",Qn),Cr=In("FETCH_ANSWERS",Qn),Nr=In("CREATE_ANSWER",Qn),Pr=In("UPDATE_ANSWER",Qn),Rr=In("ACCEPT_ANSWER",Qn),kr=In("UNACCEPT_ANSWER",Qn),Dr=In("VERIFY_ANSWER",Qn),Lr=In("UNVERIFY_ANSWER",Qn),Fr=In("CREATE_COMMENT",Qn),Ur=In("UPDATE_COMMENT",Qn),Mr=In("FETCH_MODERATE_POST_REASONS",Qn),qr=In("ADMIN_DELETE_POST",Qn),Qr=In("UNARCHIVE_POST",Qn),Hr=Object(En.combineReducers)({getQuestion:wn(gr),getAnswersByQuestionId:wn(yr),createQuestion:wn(xr),updateQuestion:wn(Er),deletePost:wn(Ir),upvotePost:wn(Sr),downvotePost:wn(Ar),clearvotePost:wn(Tr),getAnswers:wn(Cr),createAnswer:wn(Nr),updateAnswer:wn(Pr),acceptAnswer:wn(Rr),unacceptAnswer:wn(kr),verifyAnswer:wn(Dr),unverifyAnswer:wn(Lr),createComment:wn(Fr),updateComment:wn(Ur),moderatePostReasons:wn(Mr),adminDeletePost:wn(qr),unarchivePost:wn(Qr),moveCommentToAnswer:wn(wr)}),Wr=Object(Q.fromJS)({question:null,commentThreadsExpanded:{},commentFormsExpanded:{},answerFormsExpanded:{},moderatePostReasons:[],questionForm:{latestFileInputRef:document.createElement("input")}});var Gr="QUESTION_QUEUE",Vr=Object(ie.a)(Object(ie.a)(Object(ie.a)(Object(ie.a)(Object(ie.a)({},$("FETCH_ASSIGNMENTS",Gr)),$("UNASSIGN_QUESTION",Gr)),$("FETCH_QUESTION_STATUS",Gr)),$("POST_QUESTION_REQUEUE",Gr)),$("MARK_AT_RISK",Gr)),Br={fetchAssignments:function(){return J(Vr.FETCH_ASSIGNMENTS_START)},unassignQuestion:function(e,t){return J(Vr.UNASSIGN_QUESTION_START,{questionId:e,reason:t})},fetchQuestionStatus:function(e){return J(Vr.FETCH_QUESTION_STATUS_START,e)},postQuestionRequeue:function(e){return J(Vr.POST_QUESTION_REQUEUE_START,e)},markAtRisk:function(e){return J(Vr.MARK_AT_RISK_START,e)}},zr={assignments:[],questionStatus:{}};var Kr,Jr=In("SEARCH_QUESTIONS",ot),$r=In("SEARCH_RESULT_CLICK",ot),Yr=Object(En.combineReducers)({searchQuestions:wn(Jr),searchResultClick:wn($r)}),Zr=n(450),Xr=n.n(Zr),ea={PAGE_SIZE:O.a.includes(["development","staging"],ce.REACT_APP_ENV)?5:20,START_PAGE:1,HIGHLIGHT_OPEN_TAG:"[highlight]",HIGHLIGHT_CLOSE_TAG:"[/highlight]"},ta={id:"0",value:"Sort by Relevance",type:"RELEVANCE"},na={id:"1",value:"Sort by Popular",type:"SCORE"},ra={id:"2",value:"Sort by Recent",type:"RECENT"};!function(e){e.DEFAULT="default"}(Kr||(Kr={}));var aa=ea.START_PAGE,sa=Object(Q.fromJS)({searchResults:{totalResults:0,questions:[]},searchQuery:{query:"",page:aa,unanswered:!1,sort:ra.type},searchQueryString:"",searchSession:{searchVariant:Kr.DEFAULT,sessionID:""}});function oa(e){if(!O.a.has(e,"sort"))return e;var t=O.a.toUpper(e.sort),n=[ta.type,na.type,ra.type];return Object(ie.a)(Object(ie.a)({},e),{},{sort:O.a.defaultTo(O.a.head(O.a.filter(n,(function(e){return e===t}))),ra.type)})}var ia=In("BOOTSTRAP",rt),ca=In("FETCH_CLASSROOM_METADATA",rt),ua=Object(En.combineReducers)({bootstrap:wn(ia),getClassroomUserMetadata:wn(ca)}),la=n(152),da=n.n(la),pa=n(451),ha=n.n(pa),ja=Object(Q.fromJS)({me:{approvedActions:[],user:{}},classroomMetadata:{}});var ba={FILE_DRAG_START:"".concat("UI","/DRAG_START"),FILE_DRAG_END:"".concat("UI","/DRAG_END")},ma={fileDragStart:function(){return J(ba.FILE_DRAG_START)},fileDragEnd:function(){return J(ba.FILE_DRAG_END)}},fa=Object(Q.fromJS)({isDraggingFile:!1});var Oa="UNREADS",va=Object(ie.a)(Object(ie.a)(Object(ie.a)({},$("FETCH_UNREADS",Oa)),$("MARK_AS_READ",Oa)),{},{POLL_UNREADS_START:"".concat(Oa,"/POLL_UNREADS_START"),POLL_UNREADS_CANCEL:"".concat(Oa,"/POLL_UNREADS_CANCEL"),POLL_UNREADS_REJECTED:"".concat(Oa,"/POLL_UNREADS_REJECTED")}),_a={getUnreads:function(e){return J(va.FETCH_UNREADS_START,e)},markAsRead:function(e,t){return J(va.MARK_AS_READ_START,{postIDs:e,questionID:t})},startPollUnreads:function(){return J(va.POLL_UNREADS_START,void 0)},cancelPollUnreads:function(){return J(va.POLL_UNREADS_CANCEL,void 0)}};function ga(e,t){return e.reduce((function(e,n){var r=n[t];return e[r]||(e[r]={}),e[r]=Object(ie.a)(Object(ie.a)({},e[r]),{},Object(g.a)({},n.id,n)),e}),{})}var ya=n(452),xa=n.n(ya),Ea={byParentId:{}};var wa=Object(En.combineReducers)({activity:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ln,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case Tn.FETCH_QUESTIONS_START:return e.setIn(["activityParams","questions"],Object(Q.fromJS)(r));case Tn.FETCH_ANSWERS_START:return e.setIn(["activityParams","answers"],Object(Q.fromJS)(r));case Tn.FETCH_QUESTIONS_FULFILLED:var a=r.result;if(a.questions.length>0)return e.merge(Object(Q.fromJS)({activityResults:a}));var s=e.getIn(["activityParams","questions"]).toJS();return e.setIn(["activityParams","questions"],Object(Q.fromJS)(Object(ie.a)(Object(ie.a)({},s),{},{offset:Math.max(s.offset-s.limit,0)})));case Tn.FETCH_ANSWERS_FULFILLED:var o=r.result;if(o.answers.length>0)return e.merge(Object(Q.fromJS)({activityResults:o}));var i=e.getIn(["activityParams","answers"]).toJS();return e.setIn(["activityParams","answers"],Object(Q.fromJS)(Object(ie.a)(Object(ie.a)({},i),{},{offset:Math.max(i.offset-i.limit,0)})));case Tn.FETCH_USER_ACTIVITY_STATS_FULFILLED:var c=r.result;return e.merge(Object(Q.fromJS)({userActivityStats:c}))}return e},activityApi:Dn,alerts:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fn,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case X:return e.push(Object(Q.fromJS)({type:r.type,message:r.message}));case Z:return e.shift()}return e},entities:Zn,files:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:dr,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload,a=lr()(r,"fileIdentifierString","file-placeholder");switch(n){case sr.UPLOAD_IMAGE_START:return e.setIn([a,"status"],K.pending);case sr.UPLOAD_IMAGE_PROGRESS:var s=r.progress;return e.setIn([a,"progress"],s);case sr.UPLOAD_IMAGE_REJECTED:var o=r.error;return e.setIn([a,"status"],K.rejected).setIn([a,"error"],o);case sr.UPLOAD_IMAGE_FULFILLED:var i=r.response;return e.setIn([a,"status"],K.fulfilled).setIn([a,"attachments"],lr()(i,"attachments",{}))}return e},filesApi:cr,nanodegrees:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Or,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case hr.FETCH_NANODEGREE_ENROLLMENTS_FULFILLED:return Object(ie.a)(Object(ie.a)({},e),{},{enrollmentsByKey:mr(r.enrolled),graduatedByKey:mr(r.graduated)});case hr.FETCH_ALL_NANODEGREE_TITLES_FULFILLED:var a=r.reduce((function(e,t){return t.title&&(e[t.key]=t.title),e}),{});return Object(ie.a)(Object(ie.a)({},e),{},{nanodegreeTitlesByKey:a});case hr.FETCH_ALL_REVIEWS_PROJECTS_FULFILLED:var s=r.reduce((function(e,t){return e[t.id]={id:t.id,title:t.name,isCareer:!!t.is_career},e}),{});return Object(ie.a)(Object(ie.a)({},e),{},{reviewsProjectsById:s});default:return e}},nanodegreeApi:_r,posts:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wr,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case Hn.SET_LATEST_FILE_INPUT_REF:return e.setIn(["questionForm","latestFileInputRef"],r.ref);case Hn.CREATE_QUESTION_FULFILLED:case Hn.FETCH_QUESTION_FULFILLED:return e.set("question",Object(Q.fromJS)(r.result));case Hn.EXPAND_COMMENT_THREAD:return e.mergeDeep(Object(Q.Map)({commentThreadsExpanded:Object(Q.Map)(Object(g.a)({},r.parentId,!0))}));case Hn.COLLAPSE_COMMENT_THREAD:return e.mergeDeep(Object(Q.Map)({commentThreadsExpanded:Object(Q.Map)(Object(g.a)({},r.parentId,!1))}));case Hn.EXPAND_COMMENT_FORM:return e.mergeDeep(Object(Q.Map)({commentFormsExpanded:Object(Q.Map)(Object(g.a)({},r.parentId,r.commentFormType))}));case Hn.COLLAPSE_COMMENT_FORM:case Hn.CREATE_COMMENT_FULFILLED:return e.mergeDeep(Object(Q.Map)({commentFormsExpanded:Object(Q.Map)(Object(g.a)({},r.parentId,void 0))}));case Hn.EXPAND_ANSWER_FORM:return e.mergeDeep(Object(Q.Map)({answerFormsExpanded:Object(Q.Map)(Object(g.a)({},r.parentId,!0))}));case Hn.COLLAPSE_ANSWER_FORM:return e.mergeDeep(Object(Q.Map)({answerFormsExpanded:Object(Q.Map)(Object(g.a)({},r.parentId,!1))}));case Hn.CREATE_ANSWER_FULFILLED:return e.mergeDeep(Object(Q.Map)({answerFormsExpanded:Object(Q.Map)(Object(g.a)({},r.questionId,!1))}));case Hn.CREATE_QUESTION_READY:case Hn.FETCH_QUESTION_READY:return e.set("question",null);case Hn.FETCH_MODERATE_POST_REASONS_FULFILLED:var a=r.result;return e.set("moderatePostReasons",Object(Q.fromJS)(a))}return e},postsApi:Hr,questionQueue:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:zr,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case Vr.MARK_AT_RISK_FULFILLED:var a=e.questionStatus;return Object(ie.a)(Object(ie.a)({},e),{},{questionStatus:Object(ie.a)(Object(ie.a)({},a),{},Object(g.a)({},r.id,{state:a[r.id].state,atRisk:!0}))});case Vr.FETCH_ASSIGNMENTS_FULFILLED:case Vr.UNASSIGN_QUESTION_FULFILLED:return Object(ie.a)(Object(ie.a)({},e),{},{assignments:r.map((function(e){return{questionId:e.question.id,answerPayment:e.opportunity.answerPayment,commentPayment:e.opportunity.commentPayment}}))});case Vr.FETCH_QUESTION_STATUS_FULFILLED:case Vr.POST_QUESTION_REQUEUE_FULFILLED:var s=e.questionStatus;return Object(ie.a)(Object(ie.a)({},e),{},{questionStatus:Object(ie.a)(Object(ie.a)({},s),{},Object(g.a)({},r.id,{state:r.state,atRisk:r.atRisk}))});default:return e}},search:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:sa,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case it.INITIALIZE_SEARCH_SESSION:return e.mergeDeep({searchSession:{searchVariant:Kr.DEFAULT,sessionID:Xr()()}});case it.SEARCH_QUESTIONS_START:return e.mergeDeep({searchQuery:oa(r)});case it.SEARCH_QUESTIONS_FULFILLED:var a=r.results;return e.merge(Object(Q.fromJS)({searchResults:a.result}));case it.SEARCH_QUESTIONS_READY:return sa;case it.UPDATE_SEARCH_QUERY_STRING:return e.set("searchQueryString",r);case it.RESET_SEARCH_FILTERS:var s=e.setIn(["searchQuery","unanswered"],sa.getIn(["searchQuery","unanswered"]));return s}return e},searchApi:Yr,session:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ja,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case at.BOOTSTRAP_FULFILLED:return e.mergeDeep({me:da()(r,ha.a)});case at.FETCH_CLASSROOM_METADATA_FULFILLED:return e.set("classroomMetadata",Object(Q.fromJS)(r.user));case at.SET_ROLES:return e.setIn(["me","roles"],Object(Q.fromJS)(r))}return e},sessionApi:ua,ui:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fa,t=arguments.length>1?arguments[1]:void 0,n=t.type;switch(n){case ba.FILE_DRAG_START:return e.set("isDraggingFile",!0);case ba.FILE_DRAG_END:return e.set("isDraggingFile",!1)}return e},unreads:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ea,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case va.FETCH_UNREADS_FULFILLED:var a=r.result.postsToRead.posts,s=ga(a,"parentID"),o=ga(a,"questionID");return Object(ie.a)(Object(ie.a)({},e),{},{byParentId:Object(ie.a)(Object(ie.a)({},s),o)});case va.MARK_AS_READ_FULFILLED:var i=r.id.questionID;return Object(ie.a)(Object(ie.a)({},e),{},{byParentId:xa()(e.byParentId,i)})}return e}}),Ia=n(9);function Sa(e,t,n){var r="".concat(t,"_PENDING"),a="".concat(t,"_REJECTED");return h.a.mark((function t(s){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(Ia.e)({type:n[r]});case 3:return t.next=5,e(s);case 5:t.next=13;break;case 7:return t.prev=7,t.t0=t.catch(0),t.next=11,Object(Ia.e)(ee.addAlert("error","Request has not been processed."));case 11:return t.next=13,Object(Ia.e)(Y(n[a],t.t0));case 13:case"end":return t.stop()}}),t,null,[[0,7]])}))}var Aa=n(213);function Ta(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ue.graphqlEndpoint;return Aa.a.makeGqlRequest(t,e)}var Ca=Sn.ALL_RESULTS;function Na(e){var t=e.limit,n=void 0===t?Ca:t,r=e.userUid,a=void 0===r?"":r,s=e.offset;return Ta({query:"query UserActivityQuestions(\n      $limit: Int!,\n      $userUid: String!,\n      $offset: Int!\n    ) {\n      userActivityQuestions(\n        offset: $offset\n        limit: $limit\n        userUid: $userUid\n      )  {\n        title\n        createdAt\n        id\n        score\n        summary\n        commentCount\n        answerCount\n      }\n    }\n    ",variables:{limit:n,userUid:a,offset:void 0===s?0:s}}).then((function(e){return e.data.userActivityQuestions}))}function Pa(e){var t=e.limit,n=void 0===t?Ca:t,r=e.userUid,a=void 0===r?"":r,s=e.offset;return Ta({query:"query UserActivityAnswers(\n      $limit: Int!,\n      $userUid: String!,\n      $offset: Int!\n    ) {\n      userActivityAnswers(\n        offset: $offset\n        limit: $limit\n        userUid: $userUid\n      )  {\n        id\n        questionId\n        question {\n          title\n        }\n        score\n        summary\n        createdAt\n        acceptedAt\n        commentCount\n      }\n    }\n    ",variables:{limit:n,userUid:a,offset:void 0===s?0:s}}).then((function(e){return e.data.userActivityAnswers}))}function Ra(e){return Ta({query:"query UserActivity(\n      $userId: String!\n    ) {\n    userActivity(\n        userUid: $userId\n    ) {\n      upVotesReceived\n      upVotesGiven\n      answersAccepted\n      answersPosted\n    }}",variables:{userId:e}}).then((function(e){return e.data.userActivity}))}var ka=h.a.mark(Qa),Da=h.a.mark(Ha),La=h.a.mark(Wa),Fa=h.a.mark(Ga),Ua=h.a.mark(Va),Ma=h.a.mark(Ba),qa=h.a.mark(za);function Qa(e){var t,n,r,a,s,o,i,c,u;return h.a.wrap((function(l){for(;;)switch(l.prev=l.next){case 0:return t=e.payload,n=(t=void 0===t?{}:t).userId,r=void 0===n?"":n,a=t.offset,s=void 0===a?0:a,o=t.limit,i={userUid:r,offset:s,limit:void 0===o?Sn.PAGE_SIZE:o},l.next=6,Object(Ia.b)(Na,i);case 6:return c=l.sent,u=Jt({questions:c}),l.next=10,Object(Ia.e)({type:Tn.FETCH_QUESTIONS_FULFILLED,payload:u});case 10:case"end":return l.stop()}}),ka)}function Ha(e){var t,n,r,a,s,o,i,c,u;return h.a.wrap((function(l){for(;;)switch(l.prev=l.next){case 0:return t=e.payload,n=(t=void 0===t?{}:t).userId,r=void 0===n?"":n,a=t.offset,s=void 0===a?0:a,o=t.limit,i={userUid:r,offset:s,limit:void 0===o?Sn.PAGE_SIZE:o},l.next=6,Object(Ia.b)(Pa,i);case 6:return c=l.sent,u=$t({answers:c}),l.next=10,Object(Ia.e)({type:Tn.FETCH_ANSWERS_FULFILLED,payload:u});case 10:case"end":return l.stop()}}),Da)}function Wa(e){var t,n;return h.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.payload,r.next=3,Object(Ia.b)(Ra,t);case 3:return n=r.sent,r.next=6,Object(Ia.e)({type:Tn.FETCH_USER_ACTIVITY_STATS_FULFILLED,payload:{result:n,id:t}});case 6:case"end":return r.stop()}}),La)}function Ga(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ia.i)(Tn.FETCH_QUESTIONS_START,Sa(Qa,"FETCH_QUESTIONS",Tn));case 2:case"end":return e.stop()}}),Fa)}function Va(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ia.i)(Tn.FETCH_ANSWERS_START,Sa(Ha,"FETCH_ANSWERS",Tn));case 2:case"end":return e.stop()}}),Ua)}function Ba(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ia.i)(Tn.FETCH_USER_ACTIVITY_STATS_START,Sa(Wa,"FETCH_USER_ACTIVITY_STATS",Tn));case 2:case"end":return e.stop()}}),Ma)}function za(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ia.a)([Ga(),Va(),Ba()]);case 2:case"end":return e.stop()}}),qa)}function Ka(e,t){var n=new FormData;return n.append("uploadFile",t),Object(gn.d)((function(t){var r=new XMLHttpRequest,a=function(e){if(e.lengthComputable){var n=e.loaded/e.total*100;t({progress:n})}},s=function(e){t({err:new Error("Upload failed")}),t(gn.a)};return r.upload.addEventListener("progress",a),r.upload.addEventListener("error",s),r.upload.addEventListener("abort",s),r.onreadystatechange=function(){var e=r.readyState,n=r.status,a=r.response;4===e&&(200===n?(t({success:!0,response:JSON.parse(a)}),t(gn.a)):s())},r.open("POST",e,!0),r.setRequestHeader("Authorization","Bearer ".concat(function(e){var t=new RegExp("".concat(e,"=([^;]+)")).exec(document.cookie);return null!=t?unescape(t[1]):null}("_jwt"))),r.send(n),function(){r.upload.removeEventListener("progress",a),r.upload.removeEventListener("error",s),r.upload.removeEventListener("abort",s),r.onreadystatechange=null,r.abort()}}),gn.b.sliding(2))}var Ja=h.a.mark(Za),$a=h.a.mark(Xa),Ya=h.a.mark(es);function Za(e){var t,n,r,a,s,o,i,c,u,l;return h.a.wrap((function(d){for(;;)switch(d.prev=d.next){case 0:return t=e.payload,n=t.file,r=t.fileIdentifierString,d.next=3,Object(Ia.b)(Ka,ue.imageUploadEndpoint,n);case 3:a=d.sent;case 4:return d.next=7,Object(Ia.h)(a);case 7:if(s=d.sent,o=s.progress,i=void 0===o?0:o,c=s.err,u=s.success,l=s.response,!c){d.next=17;break}return d.next=16,Object(Ia.e)(or.imageUploadRejected(r,c));case 16:return d.abrupt("return");case 17:if(!u){d.next=21;break}return d.next=20,Object(Ia.e)(or.imageUploadSuccess(r,l));case 20:return d.abrupt("return");case 21:return d.next=23,Object(Ia.e)(or.imageUploadProgress(r,i));case 23:d.next=4;break;case 25:case"end":return d.stop()}}),Ja)}function Xa(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ia.i)(sr.UPLOAD_IMAGE_START,Sa(Za,"UPLOAD_IMAGE",sr));case 2:case"end":return e.stop()}}),$a)}function es(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ia.a)([Xa()]);case 2:case"end":return e.stop()}}),Ya)}var ts="{\n  key\n  title\n  parts {\n    modules {\n      lessons {\n        project {\n          title\n          reviews_project_id\n          rubric_id\n        }\n      }\n    }\n  }\n  enrollment {\n    includes_knowledge_reviews\n  }\n}",ns="KnowledgeWeb";function rs(){return as.apply(this,arguments)}function as(){return(as=Object(j.a)(h.a.mark((function e(){var t,n,r,a,s,o,i,c,u;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={query:"\n      query ".concat(ns,"_FetchNanodegrees {\n        user {\n          enrolled:nanodegrees ").concat(ts,"\n          graduated:nanodegrees(is_graduated: true) ").concat(ts,"\n        }\n      }\n    ")},e.next=3,Ta(t,ue.classroomGraphqlEndpoint);case 3:return n=e.sent,r=(n||{}).data,a=(r||{}).user,o=(s=a||{}).enrolled,i=void 0===o?[]:o,c=s.graduated,u=void 0===c?[]:c,e.abrupt("return",{enrolled:i,graduated:u});case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ss(e){return os.apply(this,arguments)}function os(){return(os=Object(j.a)(h.a.mark((function e(t){var n,r,a,s;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={query:"\n      query ".concat(ns,"_FetchAllNanodegreeTitles($locale: String!) {\n        nanodegrees(locale: $locale) {\n          key\n          title\n        }\n      }\n    "),variables:{locale:t}},e.next=3,Ta(n,ue.classroomGraphqlEndpoint);case 3:return r=e.sent,a=(r||{}).data,s=(a||{}).nanodegrees,e.abrupt("return",s||[]);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function is(){return cs.apply(this,arguments)}function cs(){return(cs=Object(j.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Aa.a.makeGetRequest(ue.reviewApiUrl,"/projects.json"));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var us=h.a.mark(Os),ls=h.a.mark(vs),ds=h.a.mark(_s),ps=h.a.mark(gs),hs=h.a.mark(ys),js=h.a.mark(xs),bs=h.a.mark(Es),ms=h.a.mark(ws),fs=h.a.mark(Is);function Os(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ia.a)([Object(Ia.e)(J(hr.FETCH_NANODEGREE_ENROLLMENTS_START)),Object(Ia.e)(J(hr.FETCH_ALL_NANODEGREE_TITLES_START)),Object(Ia.e)(J(hr.FETCH_ALL_REVIEWS_PROJECTS_START))]);case 2:case"end":return e.stop()}}),us)}function vs(){var e;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(Ia.b)(rs);case 2:return e=t.sent,t.next=5,Object(Ia.e)(J(hr.FETCH_NANODEGREE_ENROLLMENTS_FULFILLED,e));case 5:case"end":return t.stop()}}),ls)}function _s(){var e,t;return h.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(Ia.g)(Oe);case 2:return e=n.sent,n.next=5,Object(Ia.b)(ss,e.toLowerCase());case 5:return t=n.sent,n.next=8,Object(Ia.e)(J(hr.FETCH_ALL_NANODEGREE_TITLES_FULFILLED,t));case 8:case"end":return n.stop()}}),ds)}function gs(){var e;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(Ia.b)(is);case 2:return e=t.sent,t.next=5,Object(Ia.e)(J(hr.FETCH_ALL_REVIEWS_PROJECTS_FULFILLED,e));case 5:case"end":return t.stop()}}),ps)}function ys(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ia.i)(at.FETCH_CLASSROOM_METADATA_FULFILLED,Os);case 2:case"end":return e.stop()}}),hs)}function xs(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ia.i)(hr.FETCH_NANODEGREE_ENROLLMENTS_START,Sa(vs,"FETCH_NANODEGREE_ENROLLMENTS",hr));case 2:case"end":return e.stop()}}),js)}function Es(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ia.i)(hr.FETCH_ALL_NANODEGREE_TITLES_START,Sa(_s,"FETCH_ALL_NANODEGREE_TITLES",hr));case 2:case"end":return e.stop()}}),bs)}function ws(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ia.i)(hr.FETCH_ALL_REVIEWS_PROJECTS_START,Sa(gs,"FETCH_ALL_REVIEWS_PROJECTS",hr));case 2:case"end":return e.stop()}}),ms)}function Is(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ia.a)([ys(),xs(),Es(),ws()]);case 2:case"end":return e.stop()}}),fs)}var Ss=n(304);function As(e){return encodeURIComponent(JSON.stringify(e))}function Ts(e){return JSON.parse(decodeURIComponent(e))}function Cs(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e.replace(/"/g,'\\"')}function Ns(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e.replace(/\\"/g,'"')}var Ps="{\n  id,\n  displayName,\n  roleId,\n  profileImageUrl,\n  displayTitle,\n  enrollments,\n  location\n}",Rs="{\n  content,\n  createdAt,\n  fromMentor,\n  id,\n  modifiedAt,\n  user ".concat(Ps,"\n  userUid,\n  parentId\n}"),ks="{\n  accepted,\n  acceptedAt,\n  comments ".concat(Rs,"\n  content,\n  createdAt,\n  fromMentor,\n  id,\n  lockedAt,\n  lockedBy ").concat(Ps,",\n  lockedReason,\n  modifiedAt,\n  myVote,\n  parentId,\n  score,\n  user ").concat(Ps,",\n  userUid,\n  verified,\n  verifiedAt\n}"),Ds={Question:"{\n  acceptedAnswerId,\n  answers {\n    id\n  },\n  comments ".concat(Rs,",\n  content,\n  createdAt,\n  duplicateId,\n  id,\n  lockedAt,\n  lockedBy ").concat(Ps,",\n  lockedReason,\n  modifiedAt,\n  myVote,\n  score,\n  summary,\n  title,\n  user ").concat(Ps,",\n  userUid,\n  verifiedAnswerId,\n  postType,\n  link,\n  nanodegreeKey,\n  projectID,\n  rubricID\n}"),AnswersAndComments:"{\n  answers ".concat(ks,",\n  comments ").concat(Rs,",\n}"),ArchivedPost:"{\n    id\n    userUid\n    postType\n  }",Answer:ks,Comment:Rs,VotePost:"{\n  id,\n  score,\n  myVote\n}",AcceptVerifyAnswer:"{\n  id,\n  parentId,\n  accepted,\n  acceptedAt,\n  verified,\n  verifiedAt\n}"},Ls=Ds.Question,Fs=Ds.AnswersAndComments,Us=Ds.ArchivedPost,Ms=Ds.Answer,qs=Ds.AcceptVerifyAnswer,Qs=Ds.Comment,Hs=Ds.VotePost;function Ws(e){return Ta({query:"\n      mutation MoveCommentToAnswer($commentId: String!) {\n        moveCommentToAnswer(id: $commentId) {\n          answer {\n            ...answer\n          }\n        }\n      }\n      fragment answer on Answer ".concat(Ms,"\n    "),variables:{commentId:e}}).then((function(e){return e.data.moveCommentToAnswer.answer}))}function Gs(e){return Ta({query:"\n      query GetQuestion($id: String!) {\n        question(id: $id) { ...question, ...archivedQuestion }\n      }\n      fragment question on Question ".concat(Ls,"\n      fragment archivedQuestion on ArchivedPost ").concat(Us,"\n\n    "),variables:{id:e}}).then((function(e){return e.data.question}))}function Vs(e){return Ta({query:"\n      query GetAnswersByQuestionId($questionId: String!) {\n        question(id: $questionId) { id, ...answersAndComments }\n      }\n      fragment answersAndComments on Question ".concat(Fs,"\n    "),variables:{questionId:e}}).then((function(e){return e.data.question}))}function Bs(e,t,n){var r=Object(ie.a)(Object(ie.a)({},t),n);return Ta({query:"\n      query GetQuestionAndLogClick($questionId: String!, $analytics: SearchAnalytics) {\n        question(id: $questionId, analytics: $analytics) { ...question }\n      }\n      fragment question on Question ".concat(Ls,"\n    "),variables:{questionId:e,analytics:r}}).then((function(e){return e.data.question}))}function zs(e){var t=e.title,n=e.body,r=e.projectLink,a=e.nanodegreeKey,s=e.projectId,o=e.rubricId;return Ta({query:"mutation CreateQuestion($title: String!, $content: String!, $link: String, $nanodegreeKey: String, $projectId: Int, $rubricId: Int) {\n      createQuestion(\n        input: {\n          title: $title,\n          content: $content,\n          link: $link,\n          nanodegreeKey: $nanodegreeKey,\n          projectID: $projectId,\n          rubricID: $rubricId\n        }\n      ) { question {...question }}\n    }\n    fragment question on Question ".concat(Ls,"\n    "),variables:{link:r,title:Cs(t),content:As(n),nanodegreeKey:a,projectId:s,rubricId:o}}).then((function(e){return e.data.createQuestion.question}))}function Ks(e,t){var n=t.title,r=t.body,a=t.projectLink,s=t.nanodegreeKey,o=t.projectId,i=t.rubricId;return Ta({query:"mutation UpdateQuestion($questionId: String!, $title: String!, $content: String!, $link: String, $nanodegreeKey: String, $projectId: Int, $rubricId: Int) {\n        updateQuestion(\n          id: $questionId\n          input: {\n            title: $title,\n            content: $content,\n            link: $link,\n            nanodegreeKey: $nanodegreeKey,\n            projectID: $projectId,\n            rubricID: $rubricId\n          }\n        ) { question {...question }}\n      }\n      fragment question on Question ".concat(Ls,"\n    "),variables:{link:a,questionId:e,title:Cs(n),content:As(r),nanodegreeKey:s,projectId:o,rubricId:i}}).then((function(e){return e.data.updateQuestion.question}))}function Js(e){return Ta({query:"mutation ArchivePost($id: String!) {\n      archivePost(\n        id: $id\n      ) { post {id, userUid, postType}}\n    }\n    ",variables:{id:e}}).then((function(e){return e.data.archivePost}))}function $s(e){return Ta({query:"\n      mutation UpvotePost($id: String!) {\n        upvotePost(\n          id: $id\n        ) { post { ...post } }\n      }\n      fragment post on Post ".concat(Hs,"\n    "),variables:{id:e}}).then((function(e){return e.data.upvotePost.post}))}function Ys(e){return Ta({query:"\n      mutation DownvotePost($id: String!) {\n        downvotePost(\n          id: $id\n        ) { post { ...post } }\n      }\n      fragment post on Post ".concat(Hs,"\n    "),variables:{id:e}}).then((function(e){return e.data.downvotePost.post}))}function Zs(e){return Ta({query:"\n      mutation ClearvotePost($id: String!) {\n        clearvotePost(\n          id: $id\n        ) { post { ...post } }\n      }\n      fragment post on Post ".concat(Hs,"\n    "),variables:{id:e}}).then((function(e){return e.data.clearvotePost.post}))}function Xs(e){var t=e.body,n=e.questionId;return Ta({query:'mutation {\n      createAnswer(\n        questionId: "'.concat(n,'"\n        input: {\n          content: "').concat(As(t),'",\n        }\n      ) { answer { ...answer } }\n    }\n    fragment answer on Answer ').concat(Ms,"\n    ")}).then((function(e){return e.data.createAnswer.answer}))}function eo(e,t){var n=t.content;return Ta({query:"mutation UpdateAnswer($answerId: String!, $content: String!) {\n      updateAnswer(\n        id: $answerId\n        input: {\n          content: $content\n        }\n      ) { answer {...answer }}\n    }\n    fragment answer on Answer ".concat(Ms,"\n    "),variables:{answerId:e,content:As(n)}}).then((function(e){return e.data.updateAnswer.answer}))}function to(e,t){return Ta({query:"mutation CreateComment(\n        $postId: String!,\n        $content: String!\n      ) {\n      createComment(\n        postId: $postId\n        input: {\n          content: $content,\n        }\n      ) { comment { ...comment } }\n    }\n    fragment comment on Comment ".concat(Qs,"\n    "),variables:{postId:e,content:As(t)}}).then((function(e){return e.data.createComment.comment}))}function no(e,t){var n=t.content;return Ta({query:"mutation UpdateComment($commentId: String!, $content: String!) {\n      updateComment(\n        id: $commentId\n        input: {\n          content: $content\n        }\n      ) { comment {...comment }}\n    }\n    fragment comment on Comment ".concat(Qs,"\n    "),variables:{commentId:e,content:As(n)}}).then((function(e){return e.data.updateComment.comment}))}function ro(e){return Ta({query:"mutation AcceptAnswer($id: String!) {\n      acceptAnswer(\n        id: $id\n      ) { answer ".concat(qs," }\n    }\n    "),variables:{id:e}}).then((function(e){return e.data.acceptAnswer.answer}))}function ao(e){return Ta({query:"mutation UnacceptAnswer($id: String!) {\n      unacceptAnswer(\n        id: $id\n      ) { answer ".concat(qs," }\n    }\n    "),variables:{id:e}}).then((function(e){return e.data.unacceptAnswer.answer}))}function so(e){return Ta({query:"mutation VerifyAnswer($id: String!) {\n      verifyAnswer(\n        id: $id\n      ) { answer ".concat(qs," }\n    }\n    "),variables:{id:e}}).then((function(e){return e.data.verifyAnswer.answer}))}function oo(e){return Ta({query:"mutation UnverifyAnswer($id: String!) {\n      unverifyAnswer(\n        id: $id\n      ) { answer ".concat(qs," }\n    }\n    "),variables:{id:e}}).then((function(e){return e.data.unverifyAnswer.answer}))}function io(){return Ta({query:"\n      query {\n        reportReasons{\n          id\n          value\n        }\n      }\n      "}).then((function(e){return e.data.reportReasons}))}function co(e,t){return Ta({query:"mutation ArchivePost($id: String!, $reasonId: String) {\n      archivePost(\n        id: $id,\n        reasonId: $reasonId\n      ) { post {id, userUid, postType}}\n    }\n    ",variables:{id:e,reasonId:t}}).then((function(e){return e.data.archivePost}))}function uo(e,t){return Ta({query:"mutation ReportPost($id: String!, $reasonId: String) {\n      reportPost(\n        id: $id,\n        input: {reasonId: $reasonId}\n      ) { id }\n    }\n    ",variables:{id:e,reasonId:t}}).then((function(e){return e.data.reportPost}))}function lo(e){return Ta({query:"mutation UnarchivePost($id: String!) {\n      unarchivePost(\n        id: $id\n      ) { post {\n        id} }\n    }\n    ",variables:{id:e}}).then((function(e){return e.data.unarchivePost}))}var po=h.a.mark(ei),ho=h.a.mark(ti),jo=h.a.mark(ni),bo=h.a.mark(ri),mo=h.a.mark(ai),fo=h.a.mark(si),Oo=h.a.mark(oi),vo=h.a.mark(ii),_o=h.a.mark(ci),go=h.a.mark(ui),yo=h.a.mark(li),xo=h.a.mark(di),Eo=h.a.mark(pi),wo=h.a.mark(hi),Io=h.a.mark(ji),So=h.a.mark(bi),Ao=h.a.mark(mi),To=h.a.mark(fi),Co=h.a.mark(Oi),No=h.a.mark(vi),Po=h.a.mark(_i),Ro=h.a.mark(gi),ko=h.a.mark(yi),Do=h.a.mark(xi),Lo=h.a.mark(Ei),Fo=h.a.mark(wi),Uo=h.a.mark(Ii),Mo=h.a.mark(Si),qo=h.a.mark(Ai),Qo=h.a.mark(Ti),Ho=h.a.mark(Ci),Wo=h.a.mark(Ni),Go=h.a.mark(Pi),Vo=h.a.mark(Ri),Bo=h.a.mark(ki),zo=h.a.mark(Di),Ko=h.a.mark(Li),Jo=h.a.mark(Fi),$o=h.a.mark(Ui),Yo=h.a.mark(Mi),Zo=h.a.mark(qi),Xo=h.a.mark(Qi);function ei(e){var t,n,r,a,s;return h.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return t=e.payload,n=t.commentId,r=t.parentId,o.next=3,Object(Ia.e)({type:Hn.MOVE_COMMENT_TO_ANSWER_PENDING});case 3:return o.next=5,Object(Ia.b)(Ws,n);case 5:return a=o.sent,s=zt(a),window.location.hash=a.id,o.next=10,Object(Ia.e)({type:Hn.ADMIN_DELETE_POST_FULFILLED,payload:{postId:n,parentId:r}});case 10:return o.next=12,Object(Ia.e)({type:Hn.CREATE_ANSWER_FULFILLED,payload:{questionId:a.parentId,answerId:s.result,entities:s.entities}});case 12:return o.next=14,Object(Ia.e)({type:Hn.MOVE_COMMENT_TO_ANSWER_FULFILLED});case 14:case"end":return o.stop()}}),po)}function ti(e){var t,n,r;return h.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.payload.id,a.next=3,Object(Ia.b)(Gs,t);case 3:return n=a.sent,r=Bt(n),a.next=7,Object(Ia.e)({type:Hn.FETCH_QUESTION_FULFILLED,payload:r});case 7:case"end":return a.stop()}}),ho)}function ni(e){var t,n,r;return h.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.payload.id,a.next=3,Object(Ia.b)(Vs,t);case 3:return n=a.sent,r=Bt(n),a.next=7,Object(Ia.e)({type:Hn.FETCH_ANSWERS_BY_QUESTION_ID_FULFILLED,payload:r});case 7:case"end":return a.stop()}}),jo)}function ri(e){var t,n;return h.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,Object(Ia.b)(zs,e.payload);case 3:return t=r.sent,n=Bt(t),r.next=7,Object(Ia.e)({type:Hn.CREATE_QUESTION_FULFILLED,payload:n});case 7:return r.next=9,Object(Ia.e)(ee.addAlert("success","Question created!"));case 9:r.next=15;break;case 11:return r.prev=11,r.t0=r.catch(0),r.next=15,Object(Ia.e)(Y(Hn.CREATE_QUESTION_REJECTED,r.t0));case 15:case"end":return r.stop()}}),bo,null,[[0,11]])}function ai(e){var t,n,r,a,s;return h.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=0,t=e.payload,n=t.questionId,r=t.question,o.next=4,Object(Ia.b)(Ks,n,r);case 4:return a=o.sent,s=Bt(a),o.next=8,Object(Ia.e)({type:Hn.UPDATE_QUESTION_FULFILLED,payload:s});case 8:return o.next=10,Object(Ia.e)(ee.addAlert("success","Question updated!"));case 10:o.next=16;break;case 12:return o.prev=12,o.t0=o.catch(0),o.next=16,Object(Ia.e)(Y(Hn.UPDATE_QUESTION_REJECTED,o.t0));case 16:case"end":return o.stop()}}),mo,null,[[0,12]])}function si(e){var t,n,r,a;return h.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,t=e.payload,n=t.postId,r=t.parentId,a=t.postType,s.next=4,Object(Ia.b)(Js,n);case 4:return s.next=6,Object(Ia.e)({type:Hn.DELETE_POST_FULFILLED,payload:{postId:n,parentId:r,postType:a}});case 6:return s.next=8,Object(Ia.e)(ee.addAlert("success","Post deleted."));case 8:s.next=14;break;case 10:return s.prev=10,s.t0=s.catch(0),s.next=14,Object(Ia.e)(Y(Hn.DELETE_POST_REJECTED,s.t0));case 14:case"end":return s.stop()}}),fo,null,[[0,10]])}function oi(e){var t;return h.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.payload.postId,n.next=3,Object(Ia.b)(lo,t);case 3:return n.next=5,Object(Ia.e)({type:Hn.FETCH_QUESTION_START,payload:{id:t}});case 5:return n.next=7,Object(Ia.e)({type:Hn.UNARCHIVE_POST_FULFILLED,payload:null});case 7:return n.next=9,Object(Ia.e)(ee.addAlert("success","Question unarchived!"));case 9:case"end":return n.stop()}}),Oo)}function ii(e){var t;return h.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(Ia.b)($s,e.payload.postId);case 3:return t=n.sent,n.next=6,Object(Ia.e)({type:Hn.UPVOTE_POST_FULFILLED,payload:t});case 6:n.next=12;break;case 8:return n.prev=8,n.t0=n.catch(0),n.next=12,Object(Ia.e)(Y(Hn.UPVOTE_POST_REJECTED,n.t0));case 12:case"end":return n.stop()}}),vo,null,[[0,8]])}function ci(e){var t;return h.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(Ia.b)(Ys,e.payload.postId);case 3:return t=n.sent,n.next=6,Object(Ia.e)({type:Hn.DOWNVOTE_POST_FULFILLED,payload:t});case 6:n.next=12;break;case 8:return n.prev=8,n.t0=n.catch(0),n.next=12,Object(Ia.e)(Y(Hn.DOWNVOTE_POST_REJECTED,n.t0));case 12:case"end":return n.stop()}}),_o,null,[[0,8]])}function ui(e){var t;return h.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(Ia.b)(Zs,e.payload.postId);case 3:return t=n.sent,n.next=6,Object(Ia.e)({type:Hn.CLEARVOTE_POST_FULFILLED,payload:t});case 6:n.next=12;break;case 8:return n.prev=8,n.t0=n.catch(0),n.next=12,Object(Ia.e)(Y(Hn.CLEARVOTE_POST_REJECTED,n.t0));case 12:case"end":return n.stop()}}),go,null,[[0,8]])}function li(e){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.t0=e.type,t.next=t.t0===Hn.UPVOTE_POST_PENDING?3:t.t0===Hn.DOWNVOTE_POST_PENDING?6:9;break;case 3:return t.next=5,ii(e);case 5:return t.abrupt("return",t.sent);case 6:return t.next=8,ci(e);case 8:return t.abrupt("return",t.sent);case 9:return t.next=11,ui(e);case 11:return t.abrupt("return",t.sent);case 12:case"end":return t.stop()}}),yo)}function di(e){var t,n;return h.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Object(Ia.b)(Xs,e.payload);case 2:return t=r.sent,n=zt(t),r.next=6,Object(Ia.e)({type:Hn.CREATE_ANSWER_FULFILLED,payload:{questionId:e.payload.questionId,answerId:n.result,entities:n.entities}});case 6:return r.next=8,Object(Ia.e)(ee.addAlert("success","Answer created!"));case 8:case"end":return r.stop()}}),xo)}function pi(e){var t,n,r,a,s,o;return h.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return t=e.payload,n=t.answer,r=t.answerId,a=t.parentId,i.next=3,Object(Ia.b)(eo,r,n);case 3:return s=i.sent,o=zt(s),i.next=7,Object(Ia.e)({type:Hn.UPDATE_ANSWER_FULFILLED,payload:{answerId:r,questionId:a,entities:o.entities}});case 7:return i.next=9,Object(Ia.e)(ee.addAlert("success","Answer updated!"));case 9:case"end":return i.stop()}}),Eo)}function hi(e){var t,n,r,a,s,o,i,c;return h.a.wrap((function(u){for(;;)switch(u.prev=u.next){case 0:return u.prev=0,t=e.payload.answerId,u.next=4,Object(Ia.b)(ro,t);case 4:return n=u.sent,u.next=7,Object(Ia.e)({type:Hn.ACCEPT_ANSWER_FULFILLED,payload:n});case 7:return r=n.parentId,u.next=10,Object(Ia.g)(an,n.parentId);case 10:a=u.sent,s=a.filter((function(e){return e!==t})),o=Object(Ss.a)(s.toJS()),u.prev=13,o.s();case 15:if((i=o.n()).done){u.next=21;break}return c=i.value,u.next=19,Object(Ia.e)({type:Hn.UNACCEPT_ANSWER_FULFILLED,payload:{parentId:r,id:c}});case 19:u.next=15;break;case 21:u.next=26;break;case 23:u.prev=23,u.t0=u.catch(13),o.e(u.t0);case 26:return u.prev=26,o.f(),u.finish(26);case 29:u.next=35;break;case 31:return u.prev=31,u.t1=u.catch(0),u.next=35,Object(Ia.e)(Y(Hn.ACCEPT_ANSWER_REJECTED,u.t1));case 35:case"end":return u.stop()}}),wo,null,[[0,31],[13,23,26,29]])}function ji(e){var t,n;return h.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,t=e.payload.answerId,r.next=4,Object(Ia.b)(ao,t);case 4:return n=r.sent,r.next=7,Object(Ia.e)({type:Hn.UNACCEPT_ANSWER_FULFILLED,payload:n});case 7:r.next=13;break;case 9:return r.prev=9,r.t0=r.catch(0),r.next=13,Object(Ia.e)(Y(Hn.UNACCEPT_ANSWER_REJECTED,r.t0));case 13:case"end":return r.stop()}}),Io,null,[[0,9]])}function bi(e){var t,n,r,a,s,o,i,c;return h.a.wrap((function(u){for(;;)switch(u.prev=u.next){case 0:return u.prev=0,t=e.payload.answerId,u.next=4,Object(Ia.b)(so,t);case 4:return n=u.sent,u.next=7,Object(Ia.e)({type:Hn.VERIFY_ANSWER_FULFILLED,payload:n});case 7:return r=n.parentId,u.next=10,Object(Ia.g)(an,n.parentId);case 10:a=u.sent,s=a.filter((function(e){return e!==t})),o=Object(Ss.a)(s.toJS()),u.prev=13,o.s();case 15:if((i=o.n()).done){u.next=21;break}return c=i.value,u.next=19,Object(Ia.e)({type:Hn.UNVERIFY_ANSWER_FULFILLED,payload:{parentId:r,id:c}});case 19:u.next=15;break;case 21:u.next=26;break;case 23:u.prev=23,u.t0=u.catch(13),o.e(u.t0);case 26:return u.prev=26,o.f(),u.finish(26);case 29:u.next=35;break;case 31:return u.prev=31,u.t1=u.catch(0),u.next=35,Object(Ia.e)(Y(Hn.VERIFY_ANSWER_REJECTED,u.t1));case 35:case"end":return u.stop()}}),So,null,[[0,31],[13,23,26,29]])}function mi(e){var t,n;return h.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,t=e.payload.answerId,r.next=4,Object(Ia.b)(oo,t);case 4:return n=r.sent,r.next=7,Object(Ia.e)({type:Hn.UNVERIFY_ANSWER_FULFILLED,payload:n});case 7:r.next=13;break;case 9:return r.prev=9,r.t0=r.catch(0),r.next=13,Object(Ia.e)(Y(Hn.UNVERIFY_ANSWER_REJECTED,r.t0));case 13:case"end":return r.stop()}}),Ao,null,[[0,9]])}function fi(e){var t,n,r,a,s;return h.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return t=e.payload,n=t.parentId,r=t.comment,o.next=3,Object(Ia.b)(to,n,r);case 3:return a=o.sent,s=Kt(a),o.next=7,Object(Ia.e)({type:Hn.CREATE_COMMENT_FULFILLED,payload:{parentId:n,commentId:s.result,entities:s.entities}});case 7:return o.next=9,Object(Ia.e)(ee.addAlert("success","Comment created!"));case 9:case"end":return o.stop()}}),To)}function Oi(e){var t,n,r,a,s,o;return h.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return t=e.payload,n=t.comment,r=t.parentId,a=t.commentId,i.next=3,Object(Ia.b)(no,a,n);case 3:return s=i.sent,o=Kt(s),i.next=7,Object(Ia.e)({type:Hn.UPDATE_COMMENT_FULFILLED,payload:{commentId:a,parentId:r,entities:o.entities}});case 7:return i.next=9,Object(Ia.e)(ee.addAlert("success","Comment updated!"));case 9:case"end":return i.stop()}}),Co)}function vi(){var e,t;return h.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(Ia.b)(io);case 2:return e=n.sent,t=Vt(e),n.next=6,Object(Ia.e)({type:Hn.FETCH_MODERATE_POST_REASONS_FULFILLED,payload:t});case 6:case"end":return n.stop()}}),No)}function _i(e){var t,n,r,a;return h.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return t=e.payload,n=t.postId,r=t.parentId,a=t.reasonId,s.next=3,Object(Ia.b)(co,n,a);case 3:return s.next=5,Object(Ia.e)({type:Hn.ADMIN_DELETE_POST_FULFILLED,payload:{postId:n,parentId:r}});case 5:return s.next=7,Object(Ia.e)(ee.addAlert("success","Post deleted."));case 7:case"end":return s.stop()}}),Po)}function gi(e){var t,n,r;return h.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.payload,n=t.postId,r=t.reasonId,a.next=3,Object(Ia.b)(uo,n,r);case 3:return a.next=5,Object(Ia.e)({type:Hn.REPORT_POST_FULFILLED,payload:{postId:n}});case 5:return a.next=7,Object(Ia.e)(ee.addAlert("success","Post reported."));case 7:case"end":return a.stop()}}),Ro)}function yi(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ia.j)(Hn.MOVE_COMMENT_TO_ANSWER_START,Sa(ei,"MOVE_COMMENT_TO_ANSWER",Hn));case 2:case"end":return e.stop()}}),ko)}function xi(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ia.j)(Hn.CREATE_QUESTION_PENDING,ri);case 2:case"end":return e.stop()}}),Do)}function Ei(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ia.j)(Hn.FETCH_QUESTION_START,Sa(ti,"FETCH_QUESTION",Hn));case 2:case"end":return e.stop()}}),Lo)}function wi(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ia.j)(Hn.FETCH_ANSWERS_BY_QUESTION_ID_START,Sa(ni,"FETCH_ANSWERS_BY_QUESTION_ID",Hn));case 2:case"end":return e.stop()}}),Fo)}function Ii(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ia.j)(Hn.DELETE_POST_PENDING,si);case 2:case"end":return e.stop()}}),Uo)}function Si(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ia.k)(500,[Hn.UPVOTE_POST_PENDING,Hn.DOWNVOTE_POST_PENDING,Hn.CLEARVOTE_POST_PENDING],li);case 2:case"end":return e.stop()}}),Mo)}function Ai(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ia.k)(2e3,Hn.CREATE_ANSWER_START,Sa(di,"CREATE_ANSWER",Hn));case 2:case"end":return e.stop()}}),qo)}function Ti(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ia.k)(2e3,Hn.UPDATE_ANSWER_START,Sa(pi,"UPDATE_ANSWER",Hn));case 2:case"end":return e.stop()}}),Qo)}function Ci(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ia.k)(500,Hn.ACCEPT_ANSWER_PENDING,hi);case 2:case"end":return e.stop()}}),Ho)}function Ni(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ia.k)(500,Hn.UNACCEPT_ANSWER_PENDING,ji);case 2:case"end":return e.stop()}}),Wo)}function Pi(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ia.k)(500,Hn.VERIFY_ANSWER_PENDING,bi);case 2:case"end":return e.stop()}}),Go)}function Ri(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ia.k)(500,Hn.UNVERIFY_ANSWER_PENDING,mi);case 2:case"end":return e.stop()}}),Vo)}function ki(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ia.k)(2e3,Hn.CREATE_COMMENT_START,Sa(fi,"CREATE_COMMENT",Hn));case 2:case"end":return e.stop()}}),Bo)}function Di(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ia.k)(2e3,Hn.UPDATE_COMMENT_START,Sa(Oi,"UPDATE_COMMENT",Hn));case 2:case"end":return e.stop()}}),zo)}function Li(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ia.k)(2e3,Hn.UPDATE_QUESTION_PENDING,ai);case 2:case"end":return e.stop()}}),Ko)}function Fi(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ia.j)(Hn.FETCH_MODERATE_POST_REASONS_START,Sa(vi,"FETCH_MODERATE_POST_REASONS",Hn));case 2:case"end":return e.stop()}}),Jo)}function Ui(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ia.j)(Hn.ADMIN_DELETE_POST_START,Sa(_i,"ADMIN_DELETE_POST",Hn));case 2:case"end":return e.stop()}}),$o)}function Mi(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ia.j)(Hn.REPORT_POST_START,Sa(gi,"REPORT_POST",Hn));case 2:case"end":return e.stop()}}),Yo)}function qi(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ia.j)(Hn.UNARCHIVE_POST_START,Sa(oi,"UNARCHIVE_POST",Hn));case 2:case"end":return e.stop()}}),Zo)}function Qi(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ia.a)([Ei(),wi(),xi(),Li(),Ii(),Si(),Ai(),Ti(),Ci(),Ni(),Pi(),Ri(),ki(),Di(),Fi(),Ui(),Mi(),qi(),yi()]);case 2:case"end":return e.stop()}}),Xo)}function Hi(){return Wi.apply(this,arguments)}function Wi(){return(Wi=Object(j.a)(h.a.mark((function e(){var t,n,r,a,s;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={query:"\n      query KnowledgeWeb_FetchAssignments {\n        queue {\n          assigned {\n            question {\n              id\n            }\n            opportunity {\n              answerPayment {\n                amount\n                currencyCode\n              }\n              commentPayment {\n                amount\n                currencyCode\n              }\n            }\n          }\n        }\n      }\n    "},e.next=3,Ta(t);case 3:return n=e.sent,r=(n||{}).data,a=(r||{}).queue,s=(a||{}).assigned,e.abrupt("return",s||[]);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Gi(e,t){return Vi.apply(this,arguments)}function Vi(){return(Vi=Object(j.a)(h.a.mark((function e(t,n){var r,a,s,o,i;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={query:"\n      mutation KnowledgeWeb_UnassignQuestion($id: Int!, $reason: String!) {\n        queue {\n          unassign(questionId: $id, reason: $reason) {\n            question {\n              id\n            }\n            opportunity {\n              answerPayment {\n                amount\n                currencyCode\n              }\n              commentPayment {\n                amount\n                currencyCode\n              }\n            }\n          }\n        }\n      }\n    ",variables:{id:t,reason:n}},e.next=3,Ta(r);case 3:return a=e.sent,s=(a||{}).data,o=(s||{}).queue,i=(o||{}).unassign,e.abrupt("return",i||[]);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Bi(e){return zi.apply(this,arguments)}function zi(){return(zi=Object(j.a)(h.a.mark((function e(t){var n,r,a,s,o;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={query:"\n      query KnowledgeWeb_FetchQuestionStatus($id: Int) {\n        queue {\n          question(id: $id) {\n            state\n            atRisk\n          }\n        }\n      }\n    ",variables:{id:t}},e.next=3,Ta(n);case 3:return r=e.sent,a=(r||{}).data,s=(a||{}).queue,o=(s||{}).question,e.abrupt("return",{state:o.state,atRisk:o.atRisk});case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ki(e){return Ji.apply(this,arguments)}function Ji(){return(Ji=Object(j.a)(h.a.mark((function e(t){var n,r,a,s,o;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={query:"\n      mutation KnowledgeWeb_QuestionRequeue($id: Int!) {\n        queue {\n          requeue(questionId: $id) {\n            state\n            atRisk\n          }\n        }\n      }\n    ",variables:{id:t}},e.next=3,Ta(n);case 3:return r=e.sent,a=(r||{}).data,s=(a||{}).queue,o=(s||{}).requeue,e.abrupt("return",{state:o.state,atRisk:o.atRisk});case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $i(e){return Yi.apply(this,arguments)}function Yi(){return(Yi=Object(j.a)(h.a.mark((function e(t){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={query:"\n      mutation KnowledgeWeb_MarkAtRisk($id: Int!) {\n        queue {\n          markAtRisk(questionId: $id) {\n            success\n          }\n        }\n      }\n    ",variables:{id:t}},e.abrupt("return",Ta(n).then((function(e){return e.data})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Zi=h.a.mark(uc),Xi=h.a.mark(lc),ec=h.a.mark(dc),tc=h.a.mark(pc),nc=h.a.mark(hc),rc=h.a.mark(jc),ac=h.a.mark(bc),sc=h.a.mark(mc),oc=h.a.mark(fc),ic=h.a.mark(Oc),cc=h.a.mark(vc);function uc(){var e;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(Ia.b)(Hi);case 2:return e=t.sent,t.next=5,Object(Ia.e)(J(Vr.FETCH_ASSIGNMENTS_FULFILLED,e));case 5:case"end":return t.stop()}}),Zi)}function lc(e){var t,n,r,a;return h.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return t=e.payload,n=t.questionId,r=t.reason,s.next=3,Object(Ia.b)(Gi,n,r);case 3:return a=s.sent,s.next=6,Object(Ia.e)(J(Vr.UNASSIGN_QUESTION_FULFILLED,a));case 6:case"end":return s.stop()}}),Xi)}function dc(e){var t;return h.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(Ia.b)(Bi,e.payload);case 2:return t=n.sent,n.next=5,Object(Ia.e)(J(Vr.FETCH_QUESTION_STATUS_FULFILLED,{id:e.payload,state:t.state,atRisk:t.atRisk}));case 5:case"end":return n.stop()}}),ec)}function pc(e){var t;return h.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(Ia.b)(Ki,e.payload);case 2:return t=n.sent,n.next=5,Object(Ia.e)(J(Vr.POST_QUESTION_REQUEUE_FULFILLED,{id:e.payload,state:t.state,atRisk:t.atRisk}));case 5:return n.next=7,Object(Ia.e)(ee.addAlert("success","Requested more help!"));case 7:case"end":return n.stop()}}),tc)}function hc(e){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(Ia.b)($i,e.payload);case 2:return t.next=4,Object(Ia.e)(J(Vr.MARK_AT_RISK_FULFILLED,{id:e.payload}));case 4:return t.next=6,Object(Ia.e)(ee.addAlert("success","Question marked At Risk!"));case 6:case"end":return t.stop()}}),nc)}function jc(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ia.i)(Vr.FETCH_ASSIGNMENTS_START,Sa(uc,"FETCH_ASSIGNMENTS",Vr));case 2:case"end":return e.stop()}}),rc)}function bc(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ia.i)(Vr.UNASSIGN_QUESTION_START,Sa(lc,"UNASSIGN_QUESTION",Vr));case 2:case"end":return e.stop()}}),ac)}function mc(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ia.i)(Vr.FETCH_QUESTION_STATUS_START,Sa(dc,"FETCH_QUESTION_STATUS",Vr));case 2:case"end":return e.stop()}}),sc)}function fc(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ia.i)(Vr.POST_QUESTION_REQUEUE_START,Sa(pc,"POST_QUESTION_REQUEUE",Vr));case 2:case"end":return e.stop()}}),oc)}function Oc(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ia.i)(Vr.MARK_AT_RISK_START,Sa(hc,"MARK_AT_RISK",Vr));case 2:case"end":return e.stop()}}),ic)}function vc(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ia.a)([jc(),bc(),mc(),fc(),Oc()]);case 2:case"end":return e.stop()}}),cc)}var _c=Object(ie.a)({},$("CREATE_RATING","RATINGS")),gc=function(e,t){return J(_c.CREATE_RATING_START,{postId:e,input:t})};function yc(e){return Ta({query:"mutation CreateRating($postId: String!, $input: RatingInput) {\n      createRating(postId: $postId, input: $input) {\n        rating {\n          postId\n        }\n      }\n    }",variables:{postId:e.postId,input:e.input}}).then((function(e){return e.data}))}var xc=h.a.mark(Ic),Ec=h.a.mark(Sc),wc=h.a.mark(Ac);function Ic(e){var t,n,r,a;return h.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return t=e.payload,n=t.postId,r=t.input,s.next=3,Object(Ia.b)(yc,{postId:n,input:r});case 3:return a=s.sent,s.next=6,Object(Ia.e)({type:_c.CREATE_RATING_FULFILLED,payload:{ratings:[a.postId]}});case 6:case"end":return s.stop()}}),xc)}function Sc(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ia.i)(_c.CREATE_RATING_START,Sa(Ic,"CREATE_RATING",_c));case 2:case"end":return e.stop()}}),Ec)}function Ac(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ia.a)([Sc()]);case 2:case"end":return e.stop()}}),wc)}var Tc=ea.PAGE_SIZE,Cc=ea.START_PAGE,Nc="{\n  acceptedAnswerId,\n  createdAt,\n  highlightedSummary,\n  highlightedTitle,\n  id,\n  lockedAt,\n  modifiedAt,\n  score,\n  myVote,\n  summary,\n  title,\n  totalAnswers,\n  user {\n    id,\n    displayName,\n    roleId,\n    profileImageUrl,\n    displayTitle,\n    enrollments,\n    location\n  },\n  verifiedAnswerId,\n  nanodegreeKey,\n  projectID\n}";function Pc(e){var t=e.query,n=void 0===t?"":t,r=e.page,a=void 0===r?Cc:r,s=e.sort,o=void 0===s?ra.type:s,i=e.results,c=void 0===i?Tc:i,u=e.nanodegreeKey,l=e.projectIDs,d=e.rubricIDs,p=e.unanswered,h=void 0!==p&&p,j=e.sessionID,b=void 0===j?"":j,m=e.searchVariant,f=void 0===m?Kr.DEFAULT:m;return Ta({query:"query SearchQuestions(\n      $query: String!,\n      $results: Int!,\n      $sort: SearchSort!\n      $page: Int!,\n      $unanswered: Boolean,\n      $sessionID: String!,\n      $searchVariant: String!,\n      $nanodegreeKey: String,\n      $projectIDs: [Int],\n      $rubricIDs: [Int]\n    ) {\n    searchQuestions(input: {\n        query: $query,\n        results: $results,\n        sort: $sort,\n        page: $page,\n        unanswered: $unanswered,\n        searchVariant: $searchVariant,\n        nanodegreeKey: $nanodegreeKey,\n        projectIDs: $projectIDs,\n        rubricIDs: $rubricIDs\n    }, sessionID: $sessionID) {\n      questions ".concat(Nc,"\n      totalResults,\n      unansweredResults\n    }}"),variables:{query:n,results:c,sort:o,page:a,nanodegreeKey:u,projectIDs:l,rubricIDs:d,unanswered:h,sessionID:b,searchVariant:f}}).then((function(e){return e.data.searchQuestions}))}var Rc=function(e){var t=new kt.schema.Object({questions:[Ht]});return Object(kt.normalize)(e,t)},kc=ea.PAGE_SIZE,Dc=ea.START_PAGE,Lc=Object(Q.fromJS)({totalResults:0,questions:[]}),Fc=function(e){var t=e.getIn(["search","searchResults"]);return t.get("questions",Object(Q.List)([])).isEmpty()?Lc:t},Uc=function(e){return e.getIn(["search","searchQuery"])},Mc=function(e){return e.getIn(["search","searchQueryString"])},qc=function(e){var t=Qc(e),n=t.get("totalResults"),r=t.get("unansweredResults");return Math.floor((n-r)/n*100)},Qc=Object(te.a)(Fc,Dt,(function(e,t){var n=new kt.schema.Object({questions:[Ht]});return Object(kt.denormalize)(e,n,t)})),Hc=Object(te.a)(Fc,(function(e){var t=e.get("totalResults",0);return Math.ceil(t/kc)})),Wc=Object(te.a)(Fc,(function(e){return e.get("totalResults",0)})),Gc=Object(te.a)(Uc,(function(e){return e.get("page",Dc)})),Vc=Object(te.a)(Gc,(function(e){return(e-1)*kc+1})),Bc=Object(te.a)(Gc,Fc,(function(e,t){var n=t.get("totalResults",0);return e===Math.ceil(n/kc)?n:e*kc})),zc=Object(te.a)(Uc,(function(e){return{nanodegreeKey:e.get("nanodegreeKey"),projectID:e.get("projectID"),rubricID:e.get("rubricID")}})),Kc=Object(te.a)(Uc,(function(e){return e.get("unanswered")})),Jc=function(e){var t=zc(e),n=t.nanodegreeKey,r=t.projectID;if(r)return[r];if(n&&!_e(n,U.ANY)){var a=function(e,t){var n;return(n=_e(t)?Re(e).find((function(e){return e.key===t})):we(e)[t]||Ie(e)[t])?n.projects.map((function(e){return e.reviewsProjectId})):[]}(e,n),s=Ne(e);return a.filter((function(e){return s[e]&&!s[e].isCareer}))}},$c=Object(te.a)((function(e,t){if(t){var n=e.getIn(["searchApi",t]);if(O.a.isUndefined(n))throw Error('Key "'.concat(t,'" not found on searchApi.'));return n}return e.get("searchApi")}),(function(e){return e})),Yc=function(e){return e.getIn(["search","searchSession"])},Zc=h.a.mark(au),Xc=h.a.mark(su),eu=h.a.mark(ou),tu=h.a.mark(iu),nu=h.a.mark(cu),ru=h.a.mark(uu);function au(){var e,t,n,r,a,s,o,i,c,u,l,d,p,j,b,m,f,O;return h.a.wrap((function(h){for(;;)switch(h.prev=h.next){case 0:return h.next=2,Object(Ia.g)(Uc);case 2:return e=h.sent,t=e.toJS(),n=t.query,r=void 0===n?"":n,a=t.page,s=void 0===a?1:a,o=t.unanswered,i=void 0!==o&&o,c=t.sort,u=void 0===c?na:c,l=t.rubricID,h.next=6,Object(Ia.g)(Yc);case 6:return d=h.sent,p=d.toJS(),h.next=10,Object(Ia.g)(Jc);case 10:return j=h.sent,b=l?[l]:void 0,m=Object(ie.a)(Object(ie.a)({results:ea.PAGE_SIZE,query:r,page:s,sort:u,unanswered:i,projectIDs:j},b&&{rubricIDs:b}),p),h.next=15,Object(Ia.b)(Pc,m);case 15:return f=h.sent,O=Rc(f),h.next=19,Object(Ia.e)({type:it.SEARCH_QUESTIONS_FULFILLED,payload:{results:O}});case 19:case"end":return h.stop()}}),Zc)}function su(e){var t,n,r,a,s,o;return h.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return t=e.payload,n=t.id,r=t.analyticsObject,i.next=3,Object(Ia.e)({type:Hn.FETCH_QUESTION_PENDING});case 3:return i.next=5,Object(Ia.g)(Yc);case 5:return a=i.sent,i.next=8,Object(Ia.b)(Bs,n,r,a.toJS());case 8:return s=i.sent,o=Bt(s),i.next=12,Object(Ia.e)({type:Hn.FETCH_QUESTION_FULFILLED,payload:o});case 12:return i.next=14,Object(Ia.e)({type:it.SEARCH_RESULT_CLICK_FULFILLED});case 14:case"end":return i.stop()}}),Xc)}function ou(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ia.c)(100,it.SEARCH_QUESTIONS_START,Sa(au,"SEARCH_QUESTIONS",it));case 2:case"end":return e.stop()}}),eu)}function iu(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ia.j)(it.RESET_SEARCH_FILTERS,Sa(au,"SEARCH_QUESTIONS",it));case 2:case"end":return e.stop()}}),tu)}function cu(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ia.j)(it.SEARCH_RESULT_CLICK_START,Sa(su,"SEARCH_RESULT_CLICK",it));case 2:case"end":return e.stop()}}),nu)}function uu(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ia.a)([ou(),iu(),cu()]);case 2:case"end":return e.stop()}}),ru)}var lu=n(454),du=n.n(lu);function pu(e){var t=e.id,n=e.name;O.a.isFunction(O.a.get(window,"analytics.identify"))&&analytics.identify(t,{name:n})}function hu(e,t){O.a.isFunction(O.a.get(window,"analytics.track"))&&analytics.track(e,Object(ie.a)({path:window.location.pathname},t))}function ju(e){O.a.isFunction(O.a.get(window,"analytics.page"))&&analytics.page(e)}var bu="{\n  approvedActions,\n  user {\n    id,\n    displayName,\n    profileImageUrl,\n    displayTitle,\n    roleId\n  },\n  enrolledNanodegrees,\n  reviewedNanodegrees,\n  certifications\n}";function mu(){return Ta({query:"{\n      me ".concat(bu,"\n    }")}).then((function(e){return e.data.me}))}function fu(e){return Ta({query:"query getClassroomUserMetadata($userId: String!) {\n      user(id: $userId) {\n        can_see_career_portal,\n        graduated_nanodegrees_count,\n        subscribed_nanodegrees_count,\n        image_url,\n        preferred_language\n      }\n    }",variables:{userId:e}},ue.classroomGraphqlEndpoint).then((function(e){return e.data}))}var Ou=h.a.mark(Eu),vu=h.a.mark(wu),_u=h.a.mark(Iu),gu=h.a.mark(Su),yu=h.a.mark(Au),xu=!1;function Eu(e){var t,n;return h.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.payload.userId,r.next=3,Object(Ia.b)(fu,t);case 3:return n=r.sent,r.next=6,Object(Ia.e)({type:at.FETCH_CLASSROOM_METADATA_FULFILLED,payload:n});case 6:case"end":return r.stop()}}),Ou)}function wu(){var e,t,n,r;return h.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Object(Ia.b)(mu);case 3:if(e=a.sent,t=e.user,n=t.id,r=t.displayName,xu){a.next=10;break}return xu=!0,pu({id:n,name:r}),a.next=10,Object(Ia.e)(_a.startPollUnreads());case 10:return a.next=12,Object(Ia.e)({payload:e,type:at.BOOTSTRAP_FULFILLED});case 12:a.next=18;break;case 14:return a.prev=14,a.t0=a.catch(0),a.next=18,Object(Ia.e)(Y(at.BOOTSTRAP_REJECTED,a.t0));case 18:case"end":return a.stop()}}),vu,null,[[0,14]])}function Iu(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ia.i)(at.FETCH_CLASSROOM_METADATA_START,Sa(Eu,"FETCH_CLASSROOM_METADATA",at));case 2:case"end":return e.stop()}}),_u)}function Su(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ia.i)(at.BOOTSTRAP_PENDING,wu);case 2:case"end":return e.stop()}}),gu)}function Au(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ia.a)([Su(),Iu()]);case 2:case"end":return e.stop()}}),yu)}var Tu=new(function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document;Object(i.a)(this,e),this.faviconElement=void 0,this.faviconElement=t.getElementById("favicon")||null}return Object(c.a)(e,[{key:"updateFavicon",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"default";if(this.faviconElement)switch(e){case"notification":this.faviconElement.href="/favicon-notification.ico";break;default:this.faviconElement.href="/favicon.ico"}}}]),e}());function Cu(e){var t=e.postsToRead.posts.length>0?"notification":"default";Tu.updateFavicon(t)}function Nu(e){return Ta({query:"query PostsToRead($questionIDs: [String]) {\n      postsToRead(questionIDs: $questionIDs) {\n        posts {\n          id\n          questionID\n          parentID\n          type\n        }\n      }\n    }",variables:{questionIDs:e}}).then((function(e){return e.data}))}function Pu(e){return Ta({query:"mutation MarkRead($postIDs: [String]) {\n      markRead(postIDs: $postIDs) {\n        success\n      }\n    }\n    ",variables:{postIDs:e}}).then((function(e){return e.data}))}var Ru=h.a.mark(qu),ku=h.a.mark(Qu),Du=h.a.mark(Hu),Lu=h.a.mark(Wu),Fu=h.a.mark(Gu),Uu=h.a.mark(Vu),Mu=h.a.mark(Bu);function qu(e){var t,n;return h.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.payload,r.next=3,Object(Ia.b)(Nu,t);case 3:return Cu(n=r.sent),r.next=7,Object(Ia.e)({type:va.FETCH_UNREADS_FULFILLED,payload:{result:n}});case 7:case"end":return r.stop()}}),Ru)}function Qu(e){var t,n;return h.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.payload,r.next=3,Object(Ia.b)(Pu,t.postIDs);case 3:return n=r.sent,r.next=6,Object(Ia.e)({type:va.MARK_AS_READ_FULFILLED,payload:{result:n,id:t}});case 6:case"end":return r.stop()}}),ku)}function Hu(){var e,t=arguments;return h.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:e=t.length>0&&void 0!==t[0]?t[0]:6e4;case 1:return n.prev=2,n.next=5,Object(Ia.e)(_a.getUnreads());case 5:return n.next=7,Object(Ia.d)(e);case 7:n.next=12;break;case 9:return n.prev=9,n.t0=n.catch(2),n.abrupt("return");case 12:n.next=1;break;case 14:case"end":return n.stop()}}),Du,null,[[2,9]])}function Wu(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ia.j)(va.FETCH_UNREADS_START,Sa(qu,"FETCH_UNREADS",va));case 2:case"end":return e.stop()}}),Lu)}function Gu(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ia.c)(1500,va.MARK_AS_READ_START,Sa(Qu,"MARK_AS_READ",va));case 2:case"end":return e.stop()}}),Fu)}function Vu(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,Object(Ia.h)(va.POLL_UNREADS_START);case 3:return e.next=5,Object(Ia.f)({poll:Object(Ia.b)(Hu),cancel:Object(Ia.h)(va.POLL_UNREADS_CANCEL)});case 5:e.next=0;break;case 7:case"end":return e.stop()}}),Uu)}function Bu(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ia.a)([Wu(),Gu(),Vu()]);case 2:case"end":return e.stop()}}),Mu)}var zu={searchSagas:uu,postsSagas:Qi,sessionSagas:Au,activitySagas:za,filesSagas:es,questionQueueSagas:vc,nanodegreeSagas:Is,ratingsSagas:Ac,unreadsSagas:Bu};var Ku,Ju=Object(gn.c)(),$u=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||_n.b,Yu=Object(_n.c)(wa,Q.Map(),$u(Object(_n.a)(Ju),Object(_n.a)((Ku=yn,function(e){return function(t){return function(n){var r=e.getState().getIn(Ku),a=t(n),s=e.getState().getIn(Ku);return r!==s&&xn(s,Ku),a}}}))));O.a.forEach(zu,(function(e){Ju.run(e)}));var Zu=Yu,Xu="lockPost",el="verifyPost",tl="deletePost",nl="updateOtherPost",rl="canAsk",al="canComment",sl="canAnswer",ol="moveCommentToAnswer",il=function(e){var t=function(){return e.getState()},n=function(e){return e===le(t()).getIn(["me","user","id"])},r=function(e){var n=de(t());return!!n&&n.includes(e)},a=function(e){var r=Yt(t(),e);if(!r)return!1;var a=r.get("user");return n(a)},s=function(e){var r=Xt(t(),e);if(!r)return!1;var a=r.get("user");return n(a)},o=function(e){var n=Xt(t(),e);return!!n&&!!n.get("fromMentor")},i=function(e){var r=en(t(),e);if(!r)return!1;var a=r.get("user");return n(a)},c=function(e,n){return vn(t(),e).get("id")===n},u=function(e){return a(e)||s(e)&&!o(e)||i(e)&&!function(e){var n=en(t(),e);return!!n&&n.get("fromMentor")}(e)},l=function(){return r(tl)};return{isQuestionAuthor:a,isAdmin:function(){return r(tl)},isStaff:function(){return je(t())},canEditQuestion:function(e){return a(e)},canEditAnswer:function(e){return s(e)},canEditComment:function(e){return i(e)},canVerifyAnswer:function(){return r(el)},canAcceptAnswer:function(e){return a(e)},canRateAnswer:function(e,t){return o(e)&&a(t)&&c(t,e)},canLockPost:function(){return r(Xu)},canDeletePost:u,canDeletePostAdmin:l,canUpdatePostTags:function(){return r(nl)},canReport:function(e){return!u(e)&&!l()},isReadOnly:function(){return!r(al)&&!r(sl)&&!r(rl)},canAsk:function(){return r(rl)},canAnswer:function(){return r(sl)},canComment:function(){return r(al)},canMoveCommentToAnswer:function(){return r(ol)},isMostRecentAnswer:c}}(Zu),cl=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){var e=this.props,t=e.showIf,n=e.children;return O.a.every(t,(function(e,t){return il[t]()===e}))?n:null}}]),n}(a.a.PureComponent),ul=n(156),ll=n.n(ul),dl=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){var e=this.props,t=e.hasKnowledgeReviews,n=e.hasUnreads,r=x()(ll.a["nav-list"],Object(g.a)({},ll.a["nav-list-reviews"],t));return Object(I.jsxs)("nav",{role:"navigation",className:r,children:[Object(I.jsx)(cl,{showIf:{canAsk:!0},children:Object(I.jsx)(Ct,{navText:t?"Ask a Mentor":"Post",navIcon:Object(I.jsx)(A.r,{size:"md",color:"white"}),navLink:"/questions/new"})}),Object(I.jsx)(cl,{showIf:{isReadOnly:!1},children:Object(I.jsxs)("div",{className:ll.a["unread-badge-container"],children:[Object(I.jsx)(Ct,{navText:"activity",navIcon:Object(I.jsx)(A.e,{size:"md",color:"white"}),navLink:"/activity/questions"}),n&&Object(I.jsx)("div",{className:ll.a["unread-badge"],children:Object(I.jsx)(Rt,{})})]})})]})}}]),n}(a.a.PureComponent),pl=n(123),hl=function(e){return e.toJS().unreads.byParentId},jl=Object(te.a)(hl,(function(e){return!!Object.keys(e).length})),bl=function(e,t){var n=function(e,t){return e.toJS().unreads.byParentId[t]}(e,t)||{};return Object.keys(n).reduce((function(e,r){var a=n[r];return"comment"===a.type&&a.parentID===t?[].concat(Object(pl.a)(e),[a]):e}),[])},ml=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){var e=this.props,t=e.reviewedNanodegrees,n=e.certifications,r=e.isStaff,a=e.hasUnreads,s=!!t.size,o=!!n;return Object(I.jsx)(dl,{hasKnowledgeReviews:s,hasUnreads:a,isMentor:o,isStaff:r})}}]),n}(a.a.Component),fl=Object(d.b)((function(e){return{reviewedNanodegrees:me(e),hasUnreads:jl(e)}}))(ml),Ol=n(41),vl=n.n(Ol),_l=n(125),gl=n.n(_l),yl=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).state={textInputValue:e.props.initialQuery||""},e.textInput=void 0,e.clearFormInput=function(){e.setState({textInputValue:""},(function(){e.textInput.focus()}))},e.handleChange=function(t){var n=t.target.value;e.setState({textInputValue:n})},e.handleFormSubmit=function(t){t.preventDefault();var n=e.props.handleSubmit,r=e.state.textInputValue;e.textInput.blur(),n(r)},e}return Object(c.a)(n,[{key:"componentDidUpdate",value:function(e,t){t.textInputValue.length>0&&!this.state.textInputValue.length&&this.props.query&&(this.props.clearForm(),this.textInput.focus())}},{key:"render",value:function(){var e=this,t=this.props.theme,n=this.state.textInputValue,r=x()(gl.a["search-form"],Object(g.a)({},gl.a["search-theme--blue"],"blue"===t));return Object(I.jsxs)("form",{onSubmit:this.handleFormSubmit,className:r,children:[Object(I.jsx)("input",{"aria-label":"Search","data-ref":"search-input",name:"textInputValue",type:"text",onChange:this.handleChange,value:n,placeholder:"Search for your question\u2026",className:gl.a["search-input"],autoComplete:"off",ref:function(t){e.textInput=t||document.createElement("input")}}),Object(I.jsx)("button",{"aria-label":"Search button",className:gl.a["search-button"],"data-ref":"search-button",type:"submit",children:Object(I.jsx)(A.F,{size:"md",color:"cerulean"})}),!!n&&Object(I.jsx)("button",{"aria-label":"Reset search",className:gl.a["reset-button"],type:"reset","data-ref":"reset-button",onClick:this.clearFormInput,children:Object(I.jsx)(A.o,{size:"md",color:"cerulean"})})]})}}]),n}(a.a.PureComponent);function xl(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=Ol.parse(t.search);e.push({pathname:n,search:Ol.stringify(O.a.omitBy(Object(ie.a)(Object(ie.a)({},a),r),(function(e){return""===e})))})}var El={setSearchParameters:ct.setSearchParameters,resetSearchQuestions:ct.resetSearchQuestions},wl=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var r;Object(i.a)(this,n),(r=t.call(this,e)).handleSubmit=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=r.props,n=t.setSearchParameters,a=t.history,s=t.location,o=e?ta.type:na.type,i="/";xl(a,s,i,{query:e,sort:o,page:1}),n({query:e,sort:o,page:1})},r.clearForm=function(){"/"===r.props.location.pathname&&r.handleSubmit("")};var a=r.props.location.search,s=void 0===a?"":a,o=Ol.parse(s),c=o.query,u=o.sort;return r.state={initialQuery:O.a.toString(c)||"",initialSort:O.a.toString(u)},r}return Object(c.a)(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.searchOnLoad,n=e.setSearchParameters,r=this.state,a=r.initialQuery,s=r.initialSort;t&&n({query:a,sort:s})}},{key:"render",value:function(){var e=this.props,t=e.searchQuestionsStatus,n=e.theme,r=this.state.initialQuery,s=this.props.location,o=Ol.parse(s.search).query,i=z(t);return Object(I.jsxs)(a.a.Fragment,{children:[Object(I.jsx)(yl,{handleSubmit:this.handleSubmit,clearForm:this.clearForm,initialQuery:r,query:O.a.toString(o),theme:n}),i&&Object(I.jsx)(q,{type:"error"})]})}}]),n}(a.a.PureComponent),Il=Object(jt.f)(Object(d.b)((function(e){return{searchQuestionsStatus:$c(e,"searchQuestions")}}),El)(wl)),Sl=n(126),Al=n.n(Sl),Tl=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){var e=this.props.searchQueryString;return Object(I.jsx)("div",{className:Al.a["nav-header-small"],children:Object(I.jsx)(_t,{children:Object(I.jsxs)("div",{className:Al.a["content-wrapper"],children:[Object(I.jsx)("div",{className:Al.a["logo-wrapper"],children:Object(I.jsx)(ht.b,{to:"/".concat(e),children:Object(I.jsx)(St,{})})}),Object(I.jsx)("div",{className:Al.a["nav-list-wrapper"],children:Object(I.jsx)(fl,{})}),Object(I.jsx)("div",{className:Al.a["input-wrapper"],children:Object(I.jsx)(Il,{theme:"blue",searchOnLoad:!1})})]})})})}}]),n}(a.a.PureComponent),Cl=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){var e=this.props.searchQueryString;return Object(I.jsx)(Tl,{searchQueryString:e})}}]),n}(a.a.PureComponent),Nl=Object(d.b)((function(e){return{searchQueryString:Mc(e)}}),{})(Cl),Pl=n(455),Rl=n.n(Pl),kl=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){var e=this.props.children;return Object(I.jsx)(ft,{color:"gray",children:Object(I.jsxs)("div",{className:Rl.a["view-wrapper"],children:[Object(I.jsx)(cl,{showIf:{isReadOnly:!0},children:Object(I.jsx)(Et,{})}),Object(I.jsx)(Nl,{}),Object(I.jsx)("div",{children:e})]})})}}]),n}(a.a.PureComponent),Dl=n(217),Ll=n.n(Dl),Fl="https://classroom.udacity.com";var Ul=function(e){var t=e.children,n=e.handleLogout;return Object(I.jsx)("div",{className:Ll.a.wrapper,children:Object(I.jsx)(pt.Layout,{nav:Object(I.jsxs)(pt.Nav,{variant:"small",children:[Object(I.jsx)("div",{className:Ll.a.navGroup,children:Object(I.jsxs)(pt.NavGroup,{children:[Object(I.jsx)(pt.NavItem,{href:"".concat(Fl,"/me"),title:"Home",children:Object(I.jsx)(A.u,{size:"lg"})}),Object(I.jsx)(pt.NavItem,{href:"https://www.udacity.com/courses/all",title:"Catalog",children:Object(I.jsx)(A.j,{size:"lg"})})]})}),Object(I.jsx)("div",{className:Ll.a.navGroup,children:Object(I.jsxs)(pt.NavGroup,{children:[Object(I.jsx)(pt.NavItem,{href:"".concat(Fl,"/settings"),title:"Settings",children:Object(I.jsx)(A.G,{size:"lg"})}),Object(I.jsx)(pt.NavItem,{href:"#",onClick:n,title:"Log Out",children:Object(I.jsx)(A.A,{size:"lg"})})]})})]}),children:t})})};function Ml(e){e.preventDefault(),nt()}function ql(e){return function(t){t.preventDefault(),e.history.push("/")}}var Ql=Object(jt.f)(Object(d.b)((function(e){return{careerPortalAccess:pe(e)}}))((function(e){var t=e.careerPortalAccess,n=e.children;return Object(I.jsx)(Ul,{careerPortalAccess:t,handleLogout:Ml,handleHomeClick:ql(e),children:n})}))),Hl=Object(te.a)((function(e){return e.getIn(["ui"])}),(function(e){return e.get("isDraggingFile")||!1})),Wl={fileDragStart:ma.fileDragStart,fileDragEnd:ma.fileDragEnd},Gl=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).exitTimeout=void 0,e.handleDrop=function(t){t.stopPropagation(),t.preventDefault(),(0,e.props.fileDragEnd)()},e.handleDragStart=function(t){t.stopPropagation(),t.preventDefault();var n=e.props,r=n.fileDragStart,a=n.isDraggingFile;clearTimeout(e.exitTimeout),a||r()},e.handleDragEnd=function(t){t.stopPropagation(),t.preventDefault();var n=e.props,r=n.fileDragEnd;n.isDraggingFile&&(e.exitTimeout=setTimeout(r,50))},e}return Object(c.a)(n,[{key:"render",value:function(){var e=this.props.children;return Object(I.jsx)("div",{"data-testid":"drag-drop-container",onDragOver:this.handleDragStart,onDragLeave:this.handleDragEnd,onDrop:this.handleDrop,children:e})}}]),n}(a.a.Component),Vl=Object(d.b)((function(e){return{isDraggingFile:Hl(e)}}),Wl)(Gl),Bl=n(49),zl=n.n(Bl),Kl=n.p+"static/media/illustration-chat-with-pencil.00952799.svg",Jl=n(127),$l=n.n(Jl),Yl=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){return Object(I.jsx)("div",{className:$l.a["message-wrapper"],children:Object(I.jsxs)("main",{className:$l.a.message,children:[Object(I.jsx)("img",{className:$l.a.image,src:Kl,alt:"pencil illustrating create post","data-ref":"image"}),Object(I.jsxs)(S,{children:[Object(I.jsx)("p",{className:$l.a.copy,"data-ref":"copy",children:"Answers you've posted will appear here. Help your fellow classmate out!"}),Object(I.jsx)("div",{className:$l.a["call-to-action-button"],children:Object(I.jsx)(Me.b,{variant:"primary",label:"Find a Question to Answer","data-testid":"button-link",href:"/"})})]})]})})}}]),n}(a.a.Component),Zl=n(121),Xl=n(50),ed=n.n(Xl),td=n(456),nd=n.n(td),rd=n(34),ad=n.n(rd),sd=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){var e=x()(ad.a["answer-status-control"],ad.a["accepted-answer"],ad.a.selected,ad.a.disabled,ad.a.noclick);return Object(I.jsx)("div",{className:ad.a["button-wrapper"],children:Object(I.jsxs)("div",{"data-ref":"accept-answer",className:e,children:[Object(I.jsx)("div",{className:ad.a.glyph,children:Object(I.jsx)(A.m,{size:"sm",color:"green"})}),Object(I.jsx)("span",{className:ad.a.text,children:"Accepted Answer"})]})})}}]),n}(a.a.Component),od=function(e,t){return 1===Math.abs(e)?t:"".concat(t,"s")},id=n(128),cd=n.n(id),ud=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){var e=this.props.totalComments,t=function(e){return!1===!!e?"No Comments":od(e,"comment")}(e),n=x()(cd.a["number-text"],Object(g.a)({},cd.a["no-comments"],!e)),r=x()(cd.a["comment-text"],Object(g.a)({},cd.a["no-comments"],!e));return Object(I.jsxs)("div",{className:cd.a["comments-wrapper"],children:[!!e&&Object(I.jsxs)("div",{className:n,children:[" ",e]}),Object(I.jsx)("div",{className:r,children:t})]})}}]),n}(a.a.PureComponent),ld=n(305),dd=n.n(ld),pd=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){var e=this.props,t=e.el,n=e.styleType,r=e.children;return Object(I.jsx)(t,{className:"".concat(dd.a.header," ").concat(dd.a[n]),children:r})}}]),n}(a.a.PureComponent),hd=n(40),jd=n(457),bd=n.n(jd),md=ea.HIGHLIGHT_CLOSE_TAG,fd=ea.HIGHLIGHT_OPEN_TAG,Od=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){var e=this.props,t=e.text,n=e.className,r=function(e){return e.split(md).reduce((function(e,t){var n=t.split(fd),r=Object(hd.a)(n,2),a=r[0],s=r[1],o=[].concat(Object(pl.a)(e),[a,s&&Object(I.jsx)("strong",{children:s})]);return O.a.compact(o)}),[])}(Ns(t));return Object(I.jsx)("span",{className:"".concat(bd.a["highlighted-text"]," ").concat(n),children:O.a.map(r,(function(e,t){return Object(I.jsx)(a.a.Fragment,{children:e},t)}))})}}]),n}(a.a.PureComponent),vd=n(87),_d=n.n(vd),gd=_d.a["slide-to-top-element"],yd=_d.a["slide-to-bottom-element"],xd=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).state={prevScore:e.props.score,transitionClass:""},e.timeoutID=void 0,e}return Object(c.a)(n,[{key:"componentWillUnmount",value:function(){clearTimeout(this.timeoutID)}},{key:"componentDidUpdate",value:function(e){var t=e.score,n=this.props.score;n!==t&&this.calculateAnimation(n,t)}},{key:"calculateAnimation",value:function(e,t){var n,r=this;e>t?n=gd:e<t&&(n=yd),clearTimeout(this.timeoutID),this.setState({prevScore:t,transitionClass:n},(function(){r.timeoutID=setTimeout((function(){r.setState({transitionClass:""})}),parseInt(_d.a.animationDuration,10))}))}},{key:"render",value:function(){var e=this.props.score,t=this.state,n=t.prevScore,r=t.transitionClass,a=x()(_d.a["slider-container"],r),s=Object(I.jsx)("div",{className:a,children:e});return r===gd?s=Object(I.jsxs)("div",{className:a,children:[Object(I.jsx)("div",{children:e}),Object(I.jsx)("div",{children:n})]}):r===yd&&(s=Object(I.jsxs)("div",{className:a,children:[Object(I.jsx)("div",{children:n}),Object(I.jsx)("div",{children:e})]})),Object(I.jsxs)("div",{className:_d.a["vote-counter"],children:[Object(I.jsx)("div",{className:_d.a["gradient-shadow-top"]}),s,Object(I.jsx)("div",{className:_d.a["gradient-shadow-bottom"]})]})}}]),n}(a.a.PureComponent),Ed=n(45),wd=n.n(Ed),Id=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).state={upVoteFocused:!1,downVoteFocused:!1},e.timeoutID=void 0,e.upvotePost=function(){var t=e.props,n=t.upvotePost;t.isVotePending||(n(),e.handleButtonFocus("upVoteFocused"))},e.downvotePost=function(){var t=e.props,n=t.downvotePost;t.isVotePending||(n(),e.handleButtonFocus("downVoteFocused"))},e.handleButtonFocus=function(t){clearTimeout(e.timeoutID),e.setState(Object(ie.a)(Object(ie.a)({},e.state),{},Object(g.a)({},t,!0)),(function(){e.timeoutID=setTimeout((function(){e.setState(Object(ie.a)(Object(ie.a)({},e.state),{},Object(g.a)({},t,!1)))}),parseInt(wd.a.animationDuration,10))}))},e}return Object(c.a)(n,[{key:"componentWillUnmount",value:function(){clearTimeout(this.timeoutID)}},{key:"render",value:function(){var e,t,n=this.props,r=n.myVote,a=n.isVotePending,s=n.score,o=this.state,i=o.upVoteFocused,c=o.downVoteFocused,u=il.isReadOnly(),l=x()(wd.a["post-vote"],Object(g.a)({},wd.a["post-vote-read-only"],u)),d=x()(wd.a["up-vote-button"],(e={},Object(g.a)(e,wd.a.active,1===r),Object(g.a)(e,wd.a.inactive,1!==r),Object(g.a)(e,wd.a.focus,i),e)),p=x()(wd.a["down-vote-button"],(t={},Object(g.a)(t,wd.a.active,-1===r),Object(g.a)(t,wd.a.inactive,-1!==r),Object(g.a)(t,wd.a.focus,c),t));return Object(I.jsx)("div",{className:wd.a["post-vote-wrapper"],children:Object(I.jsxs)("div",{className:l,children:[Object(I.jsx)(cl,{showIf:{isReadOnly:!1},children:Object(I.jsx)("button",{"aria-label":"Upvote post",className:d,"data-ref":"upvote-button",onClick:this.upvotePost,disabled:a,children:Object(I.jsx)(A.i,{size:"sm"})})}),Object(I.jsx)(cl,{showIf:{isReadOnly:!1},children:Object(I.jsx)(xd,{score:s})}),Object(I.jsx)(cl,{showIf:{isReadOnly:!0},children:Object(I.jsxs)("div",{className:wd.a["read-only-score-wrapper"],children:[Object(I.jsx)("div",{className:wd.a["read-only-score-count"],children:s}),Object(I.jsx)("div",{className:wd.a["read-only-label"],children:od(s,"vote")})]})}),Object(I.jsx)(cl,{showIf:{isReadOnly:!1},children:Object(I.jsx)("button",{"aria-label":"Downvote post",className:p,"data-ref":"downvote-button",onClick:this.downvotePost,disabled:a,children:Object(I.jsx)(A.h,{size:"sm"})})})]})})}}]),n}(a.a.PureComponent),Sd={upvotePost:Wn.upvotePost,downvotePost:Wn.downvotePost,clearvotePost:Wn.clearvotePost},Ad=function(e){return 1===e},Td=function(e){return-1===e},Cd=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).upvotePost=function(){var t=e.props,n=t.upvotePost,r=void 0===n?O.a.noop:n,a=t.clearvotePost,s=void 0===a?O.a.noop:a,o=t.postId,i=t.post,c=void 0===i?Object(Q.fromJS)({}):i;if(!t.isVotePending){var u=c.get("myVote");Ad(u)?s(o):r(o)}},e.downvotePost=function(){var t=e.props,n=t.downvotePost,r=void 0===n?O.a.noop:n,a=t.clearvotePost,s=void 0===a?O.a.noop:a,o=t.postId,i=t.post,c=void 0===i?Object(Q.fromJS)({}):i;if(!t.isVotePending){var u=c.get("myVote");Td(u)?s(o):r(o)}},e}return Object(c.a)(n,[{key:"render",value:function(){var e=this.props,t=e.post,n=void 0===t?Object(Q.fromJS)({}):t,r=e.isVotePending,a=n.get("score"),s=n.get("myVote");return Object(I.jsx)(Id,{isVotePending:r,upvotePost:this.upvotePost,downvotePost:this.downvotePost,score:a,myVote:s})}}]),n}(a.a.PureComponent);Cd.defaultProps={post:Object(Q.fromJS)({})};var Nd,Pd=Object(d.b)((function(e,t){return{post:rn(e,t.postId),isVotePending:bn(e,"")}}),Sd)(Cd),Rd=n(57),kd=n.n(Rd),Dd=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){var e=this.props,t=e.post,n=t.title,r=t.summary,a=t.createdAt,s=t.id,o=t.questionId,i=t.acceptedAt,c=t.commentCount,u=void 0===c?0:c,l=e.unreads,d=void 0===l?{}:l,p=nd()(r,{length:140}),h=Object.keys(d).length;return Object(I.jsxs)("article",{className:kd.a["post-item-grid"],children:[Object(I.jsx)("div",{className:kd.a["post-vote-wrapper"],children:Object(I.jsx)(Pd,{postId:s})}),Object(I.jsxs)("div",{className:kd.a["header-wrapper"],children:[Object(I.jsx)(pd,{el:"h2",styleType:"medium-header-base","data-ref":"title",children:Object(I.jsx)(ht.b,{to:"/questions/".concat(o,"#").concat(s),"data-ref":"header-link",children:Object(I.jsx)(Od,{text:n,className:kd.a["header-highlight"]})})}),h>0&&Object(I.jsx)("div",{className:kd.a.notification,children:Object(I.jsx)(Rt,{unreadTotal:h})})]}),!ed()(i)&&Object(I.jsx)("div",{className:kd.a["accepted-answer"],children:Object(I.jsx)(sd,{"data-ref":"accepted-at"})}),Object(I.jsx)("div",{className:kd.a["highlight-text-wrapper"],"data-ref":"summary",children:Object(I.jsx)(Od,{text:p})}),Object(I.jsxs)("div",{className:kd.a["info-block-grid"],children:[Object(I.jsx)("div",{className:kd.a["post-metadata-wrapper"],children:Object(I.jsxs)("span",{className:kd.a["created-at"],"data-ref":"created-at",children:["Answered ",Object(Zl.distanceInWords)(parseInt(a,10),Date.now())," ","ago"]})}),Object(I.jsx)("div",{className:kd.a["answer-comment-wrapper"],children:Object(I.jsx)("div",{className:kd.a["comment-wrapper"],"data-ref":"comment-count",children:Object(I.jsx)(ht.b,{to:"/questions/".concat(o,"#").concat(s),"data-ref":"comment-link",children:Object(I.jsx)(ud,{totalComments:u})})})})]})]})}}]),n}(a.a.PureComponent),Ld=n(103),Fd=n.n(Ld),Ud=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){return Object(I.jsx)("div",{className:Fd.a["message-wrapper"],children:Object(I.jsxs)("main",{className:Fd.a.message,children:[Object(I.jsx)("img",{className:Fd.a.image,src:Kl,alt:"pencil illustrating create post","data-ref":"image"}),Object(I.jsx)(cl,{showIf:{canAsk:!0},children:Object(I.jsxs)(S,{children:[Object(I.jsx)("p",{className:Fd.a.copy,"data-ref":"copy",children:"Questions you ask will appear here. Feeling stuck? Post your first question!"}),Object(I.jsx)("div",{className:Fd.a["call-to-action-button"],children:Object(I.jsx)(Me.b,{variant:"primary",label:"Post a Question",icon:Object(I.jsx)(A.r,{}),"data-ref":"button-link",href:"/questions/new"})})]})}),Object(I.jsx)(cl,{showIf:{canAsk:!1},children:Object(I.jsx)(S,{children:Object(I.jsx)("p",{className:Fd.a.copy,"data-ref":"copy",children:"You have not asked any questions."})})})]})})}}]),n}(a.a.Component),Md=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){var e=this.props,t=e.totalPosts,n=e.verifiedId,r=void 0===n?null:n,a=e.acceptedId,s=void 0===a?null:a;return r?Object(I.jsx)(A.d,{color:"purple",size:"sm"}):s?Object(I.jsx)(A.m,{color:"blue",size:"sm"}):t>0?Object(I.jsx)(A.l,{color:"cerulean",size:"sm"}):Object(I.jsx)(A.l,{color:"silver",size:"sm"})}}]),n}(a.a.PureComponent),qd=n(104),Qd=n.n(qd),Hd=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){var e=this.props,t=e.totalAnswers,n=e.acceptedId,r=e.verifiedId,a=od(t,"answer"),s=x()(Qd.a["number-text"],Object(g.a)({},Qd.a["no-answers"],0===t)),o=x()(Qd.a["answer-text"],Object(g.a)({},Qd.a["no-answers"],0===t));return Object(I.jsxs)("div",{className:Qd.a["answers-wrapper"],children:[Object(I.jsx)("div",{className:Qd.a["answer-icon"],children:Object(I.jsx)(Md,{totalPosts:t,verifiedId:r,acceptedId:n})}),Object(I.jsxs)("div",{className:s,children:[" ",t]}),Object(I.jsx)("div",{className:o,children:a})]})}}]),n}(a.a.PureComponent),Wd=n(68),Gd=n.n(Wd),Vd=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){var e=this.props,t=e.post,n=t.title,r=t.createdAt,a=t.id,s=t.commentCount,o=t.answerCount,i=t.acceptedAnswerId,c=e.unreads,u=void 0===c?{}:c,l=Object.keys(u).length;return Object(I.jsxs)("article",{className:Gd.a["post-item-grid"],children:[Object(I.jsx)("div",{className:Gd.a["post-vote-wrapper"],children:Object(I.jsx)(Pd,{postId:a})}),Object(I.jsx)(pd,{el:"h2",styleType:"medium-header-base","data-ref":"title",children:Object(I.jsxs)("div",{className:Gd.a["header-wrapper"],children:[Object(I.jsx)(ht.b,{to:"/questions/".concat(a),"data-ref":"header-link",children:Object(I.jsx)(Od,{text:n,className:Gd.a["header-highlight"]})}),l>0&&Object(I.jsx)("div",{className:Gd.a.notification,children:Object(I.jsx)(Rt,{unreadTotal:l})})]})})," ",Object(I.jsxs)("div",{className:Gd.a["info-block-grid"],children:[Object(I.jsx)("div",{className:Gd.a["post-metadata-wrapper"],children:Object(I.jsxs)("span",{className:Gd.a["created-at"],"data-ref":"created-at",children:[Object(Zl.distanceInWords)(parseInt(r,10),Date.now())," ago"]})}),Object(I.jsxs)("div",{className:Gd.a["answer-comment-wrapper"],children:[Object(I.jsx)("div",{className:Gd.a["comment-wrapper"],"data-ref":"comment-count",children:Object(I.jsx)(ht.b,{to:"/questions/".concat(a),"data-ref":"comment-link",children:Object(I.jsx)(ud,{totalComments:s})})}),Object(I.jsx)(ht.b,{to:"/questions/".concat(a),"data-ref":"answer-link",children:Object(I.jsx)(Hd,{totalAnswers:o,acceptedId:i||"","data-ref":"answer-count"})})]})]})]})}}]),n}(a.a.PureComponent);!function(e){e.questions="questions",e.answers="answers"}(Nd||(Nd={}));var Bd=n(458),zd=n.n(Bd),Kd=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){var e=this.props,t=e.posts,n=void 0===t?[]:t,r=e.selectedGroup,a=e.unreads,s=r===Nd.answers,o=r===Nd.questions;return O.a.isEmpty(n)?o?Object(I.jsx)(Ud,{}):s?Object(I.jsx)(Yl,{}):null:Object(I.jsx)("div",{className:zd.a.list,children:O.a.map(n,(function(e){return function(e,t,n,r){var a=n===Nd.answers;if(n===Nd.questions&&e.id){var s=r[e.id];return Object(I.jsx)(Vd,{post:e,"data-ref":"activity-question-item",unreads:s},e.id)}if(a&&e.id&&e.title){var o=r[e.questionId];return Object(I.jsx)(Dd,{post:e,"data-ref":"activity-answer-item",unreads:o},e.id)}return null}(e,e.id,r,a)}))})}}]),n}(a.a.PureComponent),Jd=n(105),$d=n.n(Jd),Yd=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).nextPage=function(){e.props.nextPage()},e.previousPage=function(){e.props.previousPage()},e}return Object(c.a)(n,[{key:"render",value:function(){var e=this.props,t=e.shouldShowNext,n=e.shouldShowPrevious,r=e.page,a=e.totalPages,s=e.isLoading,o=a?Object(I.jsxs)("div",{className:$d.a["pagination-text-wrapper"],children:[r," ",Object(I.jsx)("span",{className:$d.a["pagination-text"],children:"of"})," ",a]}):Object(I.jsx)("div",{className:$d.a["pagination-text-wrapper"],children:r});return Object(I.jsxs)("footer",{className:$d.a["pagination-wrapper"],children:[Object(I.jsx)("div",{className:$d.a["previous-page-button"],children:Object(I.jsx)(Me.b,{variant:"minimal",label:"Back",onClick:this.previousPage,"data-ref":"back-button",disabled:!n||s,icon:Object(I.jsx)(A.a,{}),small:!0})}),o,Object(I.jsx)("div",{className:$d.a["next-page-button"],children:Object(I.jsx)(Me.b,{variant:"minimal",label:"Next",onClick:this.nextPage,"data-ref":"next-button",disabled:!t||s,icon:Object(I.jsx)(A.b,{}),iconAlign:"right",small:!0})})]})}}]),n}(a.a.PureComponent),Zd=n(218),Xd=n.n(Zd),ep=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).handleTabClick=function(){var t=e.props;(0,t.handleChange)(t.id)},e}return Object(c.a)(n,[{key:"render",value:function(){var e,t=this.props,n=t.text,r=t.selectedGroup,a=t.id,s=x()((e={},Object(g.a)(e,Xd.a.tab,!0),Object(g.a)(e,Xd.a.selected,a===r),e));return Object(I.jsx)("button",{onClick:this.handleTabClick,className:s,"data-ref":"tab-button",children:Object(I.jsx)("span",{className:Xd.a["tab-text"],children:Object(I.jsx)(Me.f,{size:"h6",children:n})})})}}]),n}(a.a.PureComponent),tp=n(459),np=n.n(tp),rp=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){var e=this.props,t=e.handleChange,n=e.selectedGroup,r=e.tabs,a=void 0===r?[]:r;return Object(I.jsx)("article",{className:np.a["tab-list"],children:a.map((function(e){return Object(I.jsx)(ep,{text:e.text,id:e.id,handleChange:t,selectedGroup:n},e.id)}))})}}]),n}(a.a.PureComponent),ap=n(460),sp=n.n(ap),op=Sn.PAGE_SIZE,ip=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).handleHeaderClick=function(t){var n=e.props,r=n.pages;(0,n.getActivity)(t,(r[t]-1)*op,op)},e.handleNextPage=function(){var t=e.props,n=t.pages,r=t.getActivity,a=t.selectedGroup;r(a,(n[a]-1)*op+op,op)},e.handlePreviousPage=function(){var t=e.props,n=t.pages,r=t.getActivity,a=t.selectedGroup,s=(n[a]-1)*op;r(a,Math.max(s-op,0),op)},e}return Object(c.a)(n,[{key:"render",value:function(){var e=this.props,t=e.posts,n=e.pages,r=e.isLoading,s=e.selectedGroup,o=void 0===s?Nd.questions:s,i=e.unreads,c=[{text:"My Questions",id:Nd.questions},{text:"My Answers",id:Nd.answers}],u=t[o]&&t[o].length>0;return Object(I.jsxs)(a.a.Fragment,{children:[Object(I.jsx)(rp,{handleChange:this.handleHeaderClick,selectedGroup:o,tabs:c}),r&&!u?Object(I.jsx)(He,{}):Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)("div",{className:sp.a["override-loading-height"],children:Object(I.jsx)(Me.i,{busy:r,children:Object(I.jsx)(Kd,{posts:t[o],"data-ref":"post-list",selectedGroup:o,unreads:i})})}),u&&Object(I.jsx)(Yd,{previousPage:this.handlePreviousPage,shouldShowPrevious:n[o]>1&&!r,nextPage:this.handleNextPage,shouldShowNext:!r,page:n[o],isLoading:!1})]})]})}}]),n}(a.a.PureComponent),cp=Sn.PAGE_SIZE,up=Sn.START_PAGE,lp=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(Q.Map)({});return e.getIn(["activity","activityParams"],Object(Q.fromJS)([]))},dp=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(Q.fromJS)({}),n=arguments.length>1?arguments[1]:void 0,r=t.getIn(["activity","activityResults"]).filter((function(e,t){return"totalResults"===t||t===n}));return r.get(n,Object(Q.List)([])).isEmpty()?Object(Q.fromJS)((e={},Object(g.a)(e,n,Object(Q.List)([])),Object(g.a)(e,"totalResults",0),e)):r},pp=Object(te.a)(dp,Dt,(function(e,t){return Object(kt.denormalize)(e,Wt,t).get("questions")})),hp=Object(te.a)(dp,Dt,(function(e,t){return Object(kt.denormalize)(e,qt,t).get("answers").map((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(Q.fromJS)([]),t=e.getIn(["question","title"],""),n=e.delete("question");return n.set("title",t)}))})),jp=(Object(te.a)(dp,(function(e){var t=e.get("totalResults",0);return Math.ceil(t/cp)})),Object(te.a)(dp,(function(e){return e.get("totalResults",0)})),Object(te.a)(lp,(function(e){return e.get("page",up)}))),bp=(Object(te.a)(jp,(function(e){return(e-1)*cp+1})),Object(te.a)(jp,dp,(function(e,t){var n=t.get("totalResults",0);return e===Math.ceil(n/cp)?n:e*cp})),Object(te.a)((function(e,t){if(t){var n=e.getIn(["activityApi",t]);if(O.a.isUndefined(n))throw Error('Key "'.concat(t,'" not found on activityApi.'));return n}return e.get("activityApi")}),(function(e){return e}))),mp=function(e){return e.getIn(["activity","userActivityStats"],Object(Q.Map)({}))},fp={getQuestions:Cn.getQuestions,getAnswers:Cn.getAnswers},Op=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var r;Object(i.a)(this,n),(r=t.call(this,e)).getActivity=function(e,t,n){var a=r.props,s=a.getQuestions,o=a.getAnswers,i=a.UserData.get("id"),c=r.props,u=c.history,l=c.location;e===Nd.questions?s(i,t,n):e===Nd.answers&&o(i,t,n),xl(u,l,"/activity/".concat(e),{}),r.setState({selectedGroup:e})};var a,s=r.props.location;return O.a.includes(s.pathname,Nd.questions)?a=Nd.questions:O.a.includes(s.pathname,Nd.answers)&&(a=Nd.answers),r.state={selectedGroup:a},r}return Object(c.a)(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.getQuestions,n=e.getAnswers,r=e.UserData,a=e.activityParams,s=this.state.selectedGroup,o=r.get("id");s===Nd.questions?t(o,a.questions.offset,a.questions.limit):s===Nd.answers&&n(o,a.answers.offset,a.answers.limit)}},{key:"render",value:function(){var e=this.props,t=e.QuestionsActivity,n=e.AnswersActivity,r=e.getQuestionsStatus,a=e.getAnswersStatus,s=e.unreads,o=e.activityParams,i=this.state.selectedGroup,c=function(e){return!!O.a.isEmpty(e)||!O.a.every(e,(function(e){return V(e)||W(e)}))}([r,a]),u={questions:t.toJS(),answers:n.toJS()},l={questions:o.questions.offset/Sn.PAGE_SIZE+1,answers:o.answers.offset/Sn.PAGE_SIZE+1};return Object(I.jsx)(ip,{posts:u,pages:l,getActivity:this.getActivity,unreads:s,selectedGroup:i,isLoading:c})}}]),n}(a.a.PureComponent),vp=Object(jt.f)(Object(d.b)((function(e,t){return{QuestionsActivity:pp(e,"questions"),AnswersActivity:hp(e,"answers"),UserData:he(e),getQuestionsStatus:bp(e,"getQuestions"),getAnswersStatus:bp(e,"getAnswers"),unreads:hl(e),activityParams:lp(e).toJS()}}),fp)(Op)),_p=n(69),gp=n.n(_p),yp=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){var e=this.props,t=e.userActivityStats,n=e.isStatsFulfilled;return O.a.isEmpty(t)?O.a.isEmpty(t)&&!n?Object(I.jsxs)("div",{className:gp.a["loader-wrapper"],"data-ref":"loader-wrapper",children:[Object(I.jsx)(He,{}),";"]}):null:Object(I.jsxs)("dl",{className:gp.a["user-post-stats-wrapper"],"data-ref":"user-post-stats-wrapper",children:[Object(I.jsx)("dt",{className:gp.a.title,children:Object(I.jsxs)(Me.f,{size:"h4",children:[t.upVotesReceived," "]})}),Object(I.jsx)("dd",{className:gp.a.title,children:Object(I.jsx)(Me.j,{type:"stack",size:"4x",children:Object(I.jsx)(Me.k,{size:"sm",children:"upvotes received"})})}),Object(I.jsx)("dt",{className:gp.a.title,children:Object(I.jsx)(Me.f,{size:"h4",children:t.answersPosted})}),Object(I.jsx)("dd",{className:gp.a.title,children:Object(I.jsx)(Me.j,{type:"stack",size:"4x",children:Object(I.jsx)(Me.k,{size:"sm",children:"answers posted"})})}),Object(I.jsx)("dt",{className:gp.a.title,children:Object(I.jsx)(Me.f,{size:"h4",children:t.answersAccepted})}),Object(I.jsx)("dd",{className:gp.a.title,children:Object(I.jsx)(Me.j,{type:"stack",size:"4x",children:Object(I.jsx)(Me.k,{size:"sm",children:"answers accepted"})})}),Object(I.jsx)("dt",{className:gp.a.title,children:Object(I.jsx)(Me.f,{size:"h4",children:t.upVotesGiven})}),Object(I.jsx)("dd",{className:gp.a.title,children:Object(I.jsx)(Me.j,{type:"stack",size:"4x",children:Object(I.jsx)(Me.k,{size:"sm",children:"upvotes given"})})})]})}}]),n}(a.a.Component),xp={getUserActivityStats:Cn.getUserActivityStats},Ep=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"componentDidMount",value:function(){var e=this.props;(0,e.getUserActivityStats)(e.user.get("id",""))}},{key:"render",value:function(){var e=this.props,t=e.userActivityStats,n=e.userActivityStatsStatus,r=V(n);return Object(I.jsx)(yp,{userActivityStats:t.toJS(),isStatsFulfilled:r})}}]),n}(a.a.Component),wp=Object(d.b)((function(e){return{userActivityStats:mp(e),userActivityStatsStatus:bp(e,"getUserPostStats"),user:he(e)}}),xp)(Ep),Ip=n(129),Sp=n.n(Ip),Ap=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"componentDidMount",value:function(){this.trackEvent("activity")}},{key:"trackEvent",value:function(e){ju(e)}},{key:"render",value:function(){return Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(zl.a,{title:"Knowledge - Udacity"}),Object(I.jsx)("div",{className:Sp.a["activity-content-wrapper"],children:Object(I.jsx)(_t,{children:Object(I.jsxs)("div",{className:Sp.a["activity-wrapper"],children:[Object(I.jsxs)("div",{className:Sp.a["stats-wrapper"],children:[Object(I.jsx)("div",{className:Sp.a["header-wrapper"],children:Object(I.jsx)(Me.j,{type:"stack",size:"3x",children:Object(I.jsx)(Me.f,{size:"h2",children:"My Activity"})})}),Object(I.jsx)(wp,{})]}),Object(I.jsx)("div",{className:Sp.a["activity-dash-wrapper"],children:Object(I.jsx)(vp,{})})]})})})]})}}]),n}(a.a.PureComponent),Tp=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"componentWillMount",value:function(){this.cleanSlashes()}},{key:"componentDidUpdate",value:function(e){e.history.location.pathname!==this.props.history.location.pathname&&this.cleanSlashes()}},{key:"cleanSlashes",value:function(){var e=this.props.history,t=e.location,n=t.pathname,r=t.search,a="".concat(n).concat(r),s=O.a.compact(a.split("/")),o="/".concat(s.join("/"));o!==a&&(e.replace(o),console.warn("PATH NORMALIZED: ".concat(a," -> ").concat(o)))}},{key:"render",value:function(){return this.props.children}}]),n}(a.a.Component),Cp=Object(jt.f)(Tp),Np=n.p+"static/media/illustration_ghost-shadow.eecfe878.svg",Pp=n.p+"static/media/illustration_ghost.9c173cf2.svg",Rp=n(219),kp=n.n(Rp),Dp=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){return Object(I.jsxs)("div",{className:kp.a["image-wrapper"],children:[Object(I.jsx)("img",{className:kp.a.ghost,src:Pp,alt:"ghost indicating page not found","data-ref":"image"}),Object(I.jsx)("img",{className:kp.a["ghost-shadow"],src:Np,alt:"shadow of ghost indicating page not found","data-ref":"image"})]})}}]),n}(r.PureComponent),Lp=n(130),Fp=n.n(Lp),Up=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).handleHomeClick=function(t){t.preventDefault(),e.props.history.push("/")},e}return Object(c.a)(n,[{key:"render",value:function(){return Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(zl.a,{title:"Udacity: Page Not Found"}),Object(I.jsx)("div",{className:Fp.a["message-wrapper"],children:Object(I.jsxs)("main",{className:Fp.a.message,children:[Object(I.jsx)(Dp,{}),Object(I.jsx)("div",{className:Fp.a["header-wrapper"],children:Object(I.jsx)(pd,{el:"h2",styleType:"thin-header",children:"404 Error"})}),Object(I.jsxs)(S,{children:[Object(I.jsx)("p",{className:Fp.a.copy,"data-ref":"copy",children:"Sorry, we can't seem to find the page you are looking for."}),Object(I.jsx)("div",{className:Fp.a.button,children:Object(I.jsx)(Me.b,{variant:"primary",type:"button",testID:"button-link",label:"Return To Knowledge",onClick:this.handleHomeClick})})]})]})})]})}}]),n}(a.a.PureComponent),Mp=Object(jt.f)(Up),qp=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"componentDidMount",value:function(){this.trackEvent("404 Not Found")}},{key:"trackEvent",value:function(e){ju(e)}},{key:"render",value:function(){return Object(I.jsx)(Mp,{})}}]),n}(a.a.PureComponent),Qp=n(306),Hp=n.n(Qp),Wp=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){return Object(I.jsx)("div",{className:Hp.a["banner-wrapper"],children:Object(I.jsx)(S,{children:Object(I.jsxs)("div",{className:Hp.a["banner-grid"],children:[Object(I.jsx)("div",{children:Object(I.jsx)(Me.g,{color:"orange",size:"lg",title:"Archived Post",children:Object(I.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",children:Object(I.jsx)("path",{d:"M23 13H9v10h14V13zM9 11h16V9H7v2h2zm14 0a2 2 0 0 1 2 2zM7 13a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h18a2 2 0 0 1 2 2v2a2 2 0 0 1-2 2v10a2 2 0 0 1-2 2H9a2 2 0 0 1-2-2V13zm6 3.5a1 1 0 0 1 0-2h6a1 1 0 0 1 0 2h-6z"})})})}),Object(I.jsxs)("div",{children:[Object(I.jsx)(Me.f,{size:"h5",spacing:"half",color:"slate",children:"Incomplete Post"}),Object(I.jsx)(Me.k,{size:"sm",color:"slate",full:!0,children:"This post has been archived, or temporarily hidden, from other\n                students. This is likely because it's missing information like a\n                link to your code or a project tag. Please revise to unarchive post."})]})]})})})}}]),n}(r.PureComponent),Gp=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){return this.props.isPostArchived?Object(I.jsx)(Wp,{}):null}}]),n}(a.a.PureComponent);Gp.defaultProps={isPostArchived:!1};var Vp=Object(d.b)((function(e,t){return{isPostArchived:un(e,t.postId)}}))(Gp),Bp=n(84),zp=n.n(Bp),Kp=n(122),Jp=n.n(Kp),$p=n(100),Yp=n.n($p),Zp=n(154),Xp=n.n(Zp),eh=n(461),th=n.n(eh),nh=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){return Object(I.jsxs)("div",{className:th.a["post-legal-disclaimer"],children:["By submitting, you agree to the",Object(I.jsx)(Me.h,{href:"https://www.udacity.com/legal/community-guidelines",target:"_blank",rel:"noopener noreferrer",children:"Terms Of Use"}),"and",Object(I.jsx)(Me.h,{href:"https://www.udacity.com/legal/privacy",target:"_blank",rel:"noopener noreferrer",children:"Privacy Policy."})]})}}]),n}(a.a.PureComponent),rh=n(462),ah=n.n(rh),sh=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){var e=this.props.text;return O.a.isEmpty(e)?null:Object(I.jsx)("div",{"data-ref":"hint",className:ah.a.hint,children:e})}}]),n}(a.a.PureComponent),oh=n(220),ih=n.n(oh),ch=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){var e=this.props,t=e.children,n=e.hasError,r=e.errorText,s=e.hintText,o=x()(ih.a["text-input-wrapper"],Object(g.a)({},ih.a["has-error"],n));return Object(I.jsxs)(a.a.Fragment,{children:[Object(I.jsx)("div",{className:o,children:t}),!!n&&Object(I.jsxs)("div",{className:ih.a["error-text"],role:"alert",children:[Object(I.jsx)(A.K,{size:"sm",color:"red"}),r]})||Object(I.jsx)(sh,{text:s})]})}}]),n}(a.a.PureComponent);ch.defaultProps={errorText:"Please fill out this field.",hasError:!1};var uh=ch,lh=n(463),dh=n.n(lh),ph=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).textInput=void 0,r.handleBlur=function(){var e=r.props.handleBlur;er()(e)&&e()},r.textInput=a.a.createRef(),r}return Object(c.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.props.autofocus&&window.requestAnimationFrame((function(){e.textInput.current&&e.textInput.current.focus()}))}},{key:"render",value:function(){var e=this.props,t=e.value,n=e.handleChange,r=e.handleKeyPress,a=e.required,s=e.placeholder,o=e.hasError,i=void 0!==o&&o,c=e.errorText,u=void 0===c?"":c,l=e.hintText,d=void 0===l?"":l,p=e.name,h=e.type;return Object(I.jsx)(uh,{hintText:d,errorText:u||d,hasError:i,children:Object(I.jsx)("input",{"aria-label":"Question",ref:this.textInput,"data-ref":"text-input",className:dh.a["text-input"],type:h,name:p,onChange:n,onKeyPress:r,onBlur:this.handleBlur,placeholder:s,value:t,required:a,autoComplete:"off"})})}}]),n}(a.a.PureComponent),hh=n(464),jh=n(157),bh=n.n(jh),mh=function(e){return e.isOpen?Object(I.jsx)("span",{className:"".concat(bh.a.glyph," ").concat(bh.a["glyph--opened"]),children:Object(I.jsx)(A.h,{size:"sm"})}):Object(I.jsx)("span",{className:bh.a.glyph,children:Object(I.jsx)(A.h,{size:"sm"})})},fh=function(){return Object(I.jsx)(A.o,{size:"sm"})},Oh=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){var e=this.props,t=e.onChange,n=e.options,r=e.selectProps,a=e.hasError,s=e.errorText,o=e.onFocus,i=e.searchable,c=e.ariaLabel,u=O.a.isEmpty(this.props.value)?void 0:this.props.value;return Object(I.jsx)(uh,{hasError:a,errorText:s,children:Object(I.jsx)("div",{"aria-label":c,className:bh.a["Select-input-tag"],tabIndex:-1,role:"listbox",children:Object(I.jsx)(hh.a,Object(ie.a)({"aria-label":c,arrowRenderer:mh,clearRenderer:fh,clearable:!O.a.isEmpty(u),value:u,onChange:t,onFocus:o,valueKey:"id",labelKey:"value",placeholder:"".concat("Select","\u2026"),searchable:i,autoBlur:!0,options:n},r))})})}}]),n}(a.a.PureComponent);Oh.defaultProps={selectProps:{},hasError:!1,errorText:""};var vh=Oh,_h=n(466),gh=n.n(_h),yh=function(e){var t=e.handleChange,n=e.nanodegreeList,a=e.selectedNanodegree,s=e.selectedProject,o=e.hasNanodegreeError,i=e.hasProjectError,c=e.disableNanodegreeSelector,u=e.disableProjectSelector,l=e.showLessonQuestionTooltip,d=Object(r.useMemo)((function(){return n.map((function(e){return{id:e.key,value:e.title}}))}),[n]),p=Object(r.useMemo)((function(){return a?{id:a.key,value:a.title}:void 0}),[a]),h=Object(r.useMemo)((function(){return a?a.projects.map((function(e){return{id:e.reviewsProjectId,value:e.title}})):[]}),[a]),j=Object(r.useMemo)((function(){return s?{id:s.reviewsProjectId,value:s.title}:void 0}),[s]);return Object(I.jsxs)("div",{className:gh.a["tag-grid"],children:[Object(I.jsxs)("fieldset",{children:[Object(I.jsx)(Me.f,{size:"h5",spacing:"half",children:"Program"}),Object(I.jsx)(vh,{ariaLabel:"Select Nanodegree","data-ref":"nanodegree-select",value:p,onFocus:function(){hu("Browse Nanodegree Dropdown")},onChange:function(e){var r=e?n.find((function(t){return t.key===e.id})):void 0;t({nanodegree:r}),e&&hu("Select Nanodegree",e.id)},options:d,hasError:o,errorText:"Please select a Program",selectProps:{disabled:!!c},searchable:!0})]}),Object(I.jsxs)("fieldset",{children:[Object(I.jsx)(Me.j,{type:"stack",size:"half",children:Object(I.jsxs)(Me.d,{spacing:"none",children:[Object(I.jsx)(Me.f,{size:"h5",spacing:"none",children:"Project"}),l&&Object(I.jsx)(Me.n,{content:"If you have a question about lesson content, choose the project that comes at the end of the related lesson group.",trigger:Object(I.jsx)(A.v,{color:"slate",size:"sm"}),direction:"end"})]})}),Object(I.jsx)(vh,{ariaLabel:"Select project","data-ref":"project-select",value:j,onFocus:function(){hu("Browse Project Dropdown")},onChange:function(e){var n=e&&a?a.projects.find((function(t){return t.reviewsProjectId===e.id})):void 0;t({nanodegree:a,project:n}),e&&hu("Select Project",e.id)},options:h,hasError:i,errorText:"Please select a project tag",selectProps:{disabled:!!u||h.length<=0},searchable:!0}),!p&&Object(I.jsx)(sh,{"data-ref":"project-hint",text:"Select your Nanodegree first."})]})]})},xh=function(e){var t=e.handleChange,n=e.errors,a=e.selectedProject,s=e.selectedNanodegree,o=e.initialNanodegreeKey,i=e.initialProjectId,c=e.options,u=(c=void 0===c?{}:c).includeGraduatedNanodegrees,l=void 0!==u&&u,p=c.includePseudoNanodegrees,h=void 0!==p&&p,j=c.autoselectSingleOptions,b=void 0!==j&&j,m=c.showLessonQuestionTooltip,f=void 0!==m&&m,v=Object(d.d)(Se),_=Object(d.d)(Ae),g=Object(d.d)(Re),y=Object(r.useMemo)((function(){var e=v;return l&&(e=e.concat(_)),h&&(e=e.concat(g)),e}),[v,_,g,l,h]),x=Object(r.useMemo)((function(){return!!O.a.find(n,{field:"nanodegree"})}),[n]),E=Object(r.useMemo)((function(){return!!O.a.find(n,{field:"project"})}),[n]),w=Object(r.useMemo)((function(){return b&&1===v.length}),[b,v]),S=Object(r.useMemo)((function(){return b&&s&&1===s.projects.length}),[b,s]),A=Object(r.useCallback)((function(e){var n=e.nanodegree;b&&n&&1===n.projects.length?t({nanodegree:n,project:n.projects[0]}):t(e)}),[b,t]);return Object(r.useEffect)((function(){var e,n;(o?e=y.find((function(e){return e.key===o})):b&&1===v.length&&(e=v[0]),e)&&(i?n=e.projects.find((function(e){return e.reviewsProjectId===i})):b&&1===e.projects.length&&(n=e.projects[0]),t({nanodegree:e,project:n}))}),[v,y,o,i,t,b]),Object(I.jsx)(yh,{hasNanodegreeError:x,hasProjectError:E,handleChange:A,nanodegreeList:y,selectedNanodegree:s,selectedProject:a,disableNanodegreeSelector:w,disableProjectSelector:S,showLessonQuestionTooltip:f})},Eh=n(467),wh=n.n(Eh),Ih=n(72),Sh=n.n(Ih),Ah=n(62),Th=n(52),Ch=n(2),Nh=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).handleClick=function(){var t=e.props.atom,n=e.context.editor,r=O.a.trim(window.getSelection().toString()),a=O.a.get(n,"range.head"),s=a.isBlank,o=a.section;(s||o.isMarkerable)&&n.insertAtom(t.name,r,{newAtom:!0})},e}return Object(c.a)(n,[{key:"render",value:function(){var e=this.props,t=e.children,n=Object(Mn.a)(e,["children"]);return Object(I.jsx)("button",Object(ie.a)(Object(ie.a)({"data-ref":"atom-button"},n),{},{onClick:this.handleClick,children:t}))}}]),n}(a.a.Component);Nh.contextTypes={editor:Ch.object};var Ph=Nh,Rh=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).handleClick=function(){var t=e.props,n=t.card,r=t.afterInsertCallback,a=e.context.editor,s={content:""};if(a._hasSelection()){var o=window.getSelection().toString().replaceAll(/\n\n/g,"\n");s.content=O.a.trim(o)}a.insertCard(n.name,s,!0),O.a.isFunction(r)&&setTimeout((function(){r()}),1),a.run((function(e){var t=a.builder.createMarkupSection("p");e.insertSection(t)}))},e}return Object(c.a)(n,[{key:"render",value:function(){var e=this.props,t=e.children,n=(e.afterInsertCallback,Object(Mn.a)(e,["children","afterInsertCallback"]));return Object(I.jsx)("button",Object(ie.a)(Object(ie.a)({},n),{},{onClick:this.handleClick,children:t}))}}]),n}(a.a.Component);Rh.contextTypes={editor:Ch.object};var kh=Rh,Dh=n(27),Lh=n.n(Dh),Fh=n(296),Uh=n.n(Fh);var Mh,qh=function(e){var t=e.handleInsertImage,n=e.title,a=Object(r.useRef)(null),s=function(e){var t=Object(r.useState)(!1),n=Object(hd.a)(t,2),a=n[0],s=n[1],o=Uh()((function(){if(e.current){var t=e.current.getBoundingClientRect().y;s(t<=0)}}),50);return Object(r.useEffect)((function(){return document.addEventListener("scroll",o,!0),function(){document.removeEventListener("scroll",o)}}),[e,o]),a}(a),o=x()(Lh.a["rich-text-toolbar"],Object(g.a)({},Lh.a.sticky,s)),i=x()(Lh.a["toolbar-grid"],Object(g.a)({},Lh.a.sticky,s));return Object(I.jsxs)("div",{className:i,ref:a,children:[Object(I.jsx)("div",{className:Lh.a.heading,children:Object(I.jsx)(Me.f,{size:"h5",spacing:"half",children:n})}),Object(I.jsxs)("ul",{className:o,children:[Object(I.jsx)("li",{className:Lh.a["toolbar-grid-item"],children:Object(I.jsx)(Th.a,{placement:"top",trigger:["hover","focus"],overlay:Object(I.jsx)("div",{className:Lh.a.tooltip,children:"Bold"}),mouseEnterDelay:.1,children:Object(I.jsx)(Ah.MarkupButton,{"aria-label":"Bold button",className:Lh.a["toolbar-button"],tag:"strong",tabIndex:-1,type:"button",children:Object(I.jsx)(A.f,{size:"sm",title:"Bold"})})})}),Object(I.jsx)("li",{className:Lh.a["toolbar-grid-item"],children:Object(I.jsx)(Th.a,{placement:"top",trigger:["hover","focus"],overlay:Object(I.jsx)("div",{className:Lh.a.tooltip,children:"Italic"}),mouseEnterDelay:.1,children:Object(I.jsx)(Ah.MarkupButton,{"aria-label":"Italicize button",className:Lh.a["toolbar-button"],tag:"em",type:"button",tabIndex:-1,children:Object(I.jsx)(A.w,{size:"sm",title:"Italic"})})})}),Object(I.jsx)("li",{className:Lh.a["section-divider"]}),Object(I.jsx)("li",{className:Lh.a["toolbar-grid-item"],children:Object(I.jsx)(Th.a,{placement:"top",trigger:["hover","focus"],overlay:Object(I.jsx)("div",{className:Lh.a.tooltip,children:"Link"}),mouseEnterDelay:.1,children:Object(I.jsx)(Ph,{"aria-label":"Add link",className:Lh.a["toolbar-button"],type:"button",tabIndex:-1,atom:{name:"Link"},children:Object(I.jsx)(A.x,{size:"sm",title:"Link"})})})}),Object(I.jsx)("li",{className:Lh.a["toolbar-grid-item"],children:Object(I.jsx)(Th.a,{placement:"top",trigger:["hover","focus"],overlay:Object(I.jsx)("div",{className:Lh.a.tooltip,children:"Blockquote"}),mouseEnterDelay:.1,children:Object(I.jsx)(Ah.SectionButton,{"aria-label":"Add quote",className:Lh.a["toolbar-button"],tag:"blockquote",tabIndex:-1,type:"button",children:Object(I.jsx)(A.D,{size:"sm",title:"Blockquote"})})})}),Object(I.jsx)("li",{className:Lh.a["toolbar-grid-item"],children:Object(I.jsx)(Th.a,{placement:"top",trigger:["hover","focus"],overlay:Object(I.jsx)("div",{className:Lh.a.tooltip,children:"Image"}),mouseEnterDelay:.1,children:Object(I.jsx)(kh,{"aria-label":"Add image",className:Lh.a["toolbar-button"],tabIndex:-1,card:{name:"Image"},type:"button",afterInsertCallback:t,children:Object(I.jsx)(A.C,{size:"sm",title:"Image"})})})}),Object(I.jsx)("li",{className:Lh.a["toolbar-grid-item"],children:Object(I.jsx)(Th.a,{placement:"top",trigger:["hover","focus"],overlay:Object(I.jsx)("div",{className:Lh.a.tooltip,children:"Code Block"}),mouseEnterDelay:.1,children:Object(I.jsx)(kh,{"aria-label":"Add code block",className:Lh.a["toolbar-button"],tabIndex:-1,card:{name:"Code"},type:"button",children:Object(I.jsx)(A.p,{size:"sm",title:"Code block"})})})}),Object(I.jsx)("li",{className:Lh.a["section-divider"]}),Object(I.jsx)("li",{className:Lh.a["toolbar-grid-item"],children:Object(I.jsx)(Th.a,{placement:"top",trigger:["hover","focus"],overlay:Object(I.jsx)("div",{className:Lh.a.tooltip,children:"Numbered List"}),mouseEnterDelay:.1,children:Object(I.jsx)(Ah.SectionButton,{"aria-label":"Add numbered list",className:Lh.a["toolbar-button"],tag:"ol",type:"button",tabIndex:-1,children:Object(I.jsx)(A.z,{size:"sm",title:"Numbered List"})})})}),Object(I.jsx)("li",{className:Lh.a["toolbar-grid-item"],children:Object(I.jsx)(Th.a,{placement:"top",trigger:["hover","focus"],overlay:Object(I.jsx)("div",{className:Lh.a.tooltip,children:"Bullet List"}),mouseEnterDelay:.1,children:Object(I.jsx)(Ah.SectionButton,{"aria-label":"Add bullet list",className:Lh.a["toolbar-button"],tag:"ul",type:"button",tabIndex:-1,children:Object(I.jsx)(A.y,{size:"sm",title:"Bullet List"})})})})]})]})},Qh=n(425).default,Hh={name:"Image",type:"text",render:function(e){var t=e.payload;return O.a.get(t,"filename")}},Wh={name:"Code",type:"text",render:function(e){var t=e.payload;return O.a.get(t,"content")}},Gh={version:ue.mobiledoc,atoms:[],cards:[],markups:[],sections:[[1,"p",[]]]},Vh=function(e){return new Qh({cards:[Hh,Wh]}).render(e).result},Bh=n(212),zh=n.n(Bh),Kh=10485760;!function(e){e.bmp="image/bmp",e.gif="image/gif",e.jpeg="image/jpeg",e.png="image/png"}(Mh||(Mh={}));var Jh=n(106),$h=n.n(Jh),Yh=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){var e=this.props.isDraggingOver,t=x()($h.a["drop-target-placeholder"],Object(g.a)({},$h.a["drag-over"],e));return Object(I.jsx)("div",{className:t,"data-testid":"drop-target-placeholder",children:Object(I.jsxs)("div",{className:$h.a["placeholder-content"],children:[Object(I.jsx)("div",{className:$h.a["placeholder-icon-wrapper"],children:Object(I.jsx)(A.q,{size:"lg"})}),Object(I.jsx)("div",{className:$h.a["placeholder-title"],children:"Drag and drop an image"}),Object(I.jsx)("div",{className:$h.a["placeholder-requirements"],children:"JPG, PNG, or GIF; max size of ".concat(tr(Kh))})]})})}}]),n}(r.PureComponent),Zh=n(307),Xh=n.n(Zh),ej=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).state={isDraggingOver:!1,fileSizeError:!1},e.handleDragEnter=function(t){t.stopPropagation(),t.preventDefault(),e.setState({isDraggingOver:!0})},e.handleDragLeave=function(t){t.stopPropagation(),t.preventDefault(),e.setState({isDraggingOver:!1})},e.handleDrop=function(t){t.stopPropagation(),t.preventDefault();var n=e.props.handleDrop;if(e.setState({isDraggingOver:!1}),Sh()(window,"File")&&Sh()(window,"FileReader")){var r=lr()(t,"dataTransfer.files.0",{type:"unsupported",size:0}),a=r.type,s=r.size>Kh,o=!(a in zh()(Mh))||s;s&&e.setState({fileSizeError:!0}),o?n():(e.setState({fileSizeError:!1}),rr(r,e.insertCard),n(r))}},e.insertCard=function(t){var n=t.filename,r=t.width,a=t.height,s={localImageSrc:t.localImageSrc,filename:n,fileIdentifierString:t.fileIdentifierString,originalDimensions:{width:r,height:a}};e.context.editor.insertCard("Image",s,!0)},e}return Object(c.a)(n,[{key:"render",value:function(){var e=this.props,t=e.children,n=e.isDraggingFile,r=this.state,a=r.isDraggingOver,s=r.fileSizeError;return Object(I.jsxs)("div",{className:Xh.a["drop-target-wrapper"],children:[n&&Object(I.jsx)("div",{"data-testid":"drop-target",className:Xh.a["drop-target"],onDragEnter:this.handleDragEnter,onDragLeave:this.handleDragLeave,onDrop:this.handleDrop}),n&&Object(I.jsx)(Yh,{isDraggingOver:a}),t,s&&Object(I.jsx)(q,{type:"error",message:"ERROR: Uploaded files must be smaller than ".concat(tr(Kh),".")})]})}}]),n}(r.Component);ej.contextTypes={editor:Ch.object};var tj=ej,nj=n(308),rj=n.n(nj),aj=n(471),sj=n.n(aj),oj=n(472),ij=n.n(oj);function cj(e){var t=sj()(e," ./"),n=ij()(t);return[n.protocol||"https","://",n.authority,n.relative].join("")}function uj(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=new RegExp(/^\s*javascript:\s*/i),n=e.replace(t,"");return n.search(t)>-1?uj(n):n}var lj=n(473),dj=n.n(lj),pj=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).state={anchor:r.props.anchor,url:r.props.url},r.linkForm=void 0,r.handleBodyClick=function(e){var t=r.props.handleClose;!O.a.includes(e.path,r.linkForm.current)&&O.a.isFunction(t)&&t()},r.cancelEventBubble=function(e){e.stopPropagation()},r.handleChange=function(e){var t=e.target,n=t.name,a=t.value;r.setState((function(e){return Object(ie.a)(Object(ie.a)({},e),{},Object(g.a)({},n,a))}))},r.handleSave=function(){var e=r.state,t=e.anchor,n=e.url;r.props.handleSave({anchor:t,url:cj(n)})},r.linkForm=a.a.createRef(),r}return Object(c.a)(n,[{key:"componentDidMount",value:function(){var e=this;window.requestAnimationFrame((function(){window.addEventListener("click",e.handleBodyClick)}))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("click",this.handleBodyClick)}},{key:"render",value:function(){var e=this.state,t=e.url,n=e.anchor,r=this.props.isNewLink,a=O.a.isEmpty(n)||!O.a.isEmpty(n)&&!O.a.isEmpty(t)&&"https://"!==t,s=!a;return Object(I.jsxs)("form",{ref:this.linkForm,className:dj.a["link-dialog"],onSubmit:this.handleSave,onClick:this.cancelEventBubble,children:[Object(I.jsxs)("fieldset",{children:[Object(I.jsx)(pd,{el:"h3",styleType:"fieldset",children:"Text"}),Object(I.jsx)(ph,{type:"text",name:"anchor",handleChange:this.handleChange,value:n,errorText:"Please add a link title.",placeholder:"Udacity",autofocus:a,required:!0})]}),Object(I.jsxs)("fieldset",{children:[Object(I.jsx)(pd,{el:"h3",styleType:"fieldset",children:"Link"}),Object(I.jsx)(ph,{type:"text",name:"url",handleChange:this.handleChange,value:t,errorText:"Please add a valid url.",placeholder:"https://www.udacity.com",autofocus:s,required:!0})]}),Object(I.jsx)("fieldset",{children:Object(I.jsx)(Me.b,{type:"submit",variant:"primary",onClick:this.handleSave,label:r?"Add Link":"Update Link"})})]})}}]),n}(a.a.PureComponent),hj=n(131),jj=n.n(hj),bj=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).handleClick=function(){(0,e.props.editLink)()},e}return Object(c.a)(n,[{key:"render",value:function(){var e=this.props.url;return Object(I.jsxs)("div",{className:jj.a["link-tooltip"],children:[e.length?Object(I.jsx)("a",{"data-ref":"external-link",className:jj.a["url-wrapper"],href:e,rel:"external noopener noreferrer",target:"_blank",children:Object(I.jsx)("span",{className:jj.a["url-display"],children:e})}):Object(I.jsx)("span",{"data-ref":"external-link-fallback",className:jj.a["no-url url-wrapper"],children:"No URL Defined"}),Object(I.jsx)("button",{className:jj.a.button,onClick:this.handleClick,children:"Edit"})]})}}]),n}(a.a.PureComponent),mj=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).state={isEditing:!!e.props.payload.newAtom},e.openDialog=function(){e.setState({isEditing:!0})},e.closeDialog=function(){e.setState({isEditing:!1})},e.handleClick=function(t){e._isInEditor()&&(t.preventDefault(),e.openDialog())},e.handleSave=function(t){var n=t.anchor,r=t.url,a=e.props,s=a.save,o=a.payload;O.a.isFunction(s)&&s(n,Object(ie.a)(Object(ie.a)({},O.a.omit(o,["newAtom"])),{},{anchor:n,url:r}))},e}return Object(c.a)(n,[{key:"_isInEditor",value:function(){var e=this.props.save;return O.a.isFunction(e)}},{key:"render",value:function(){var e=this,t=this.props,n=t.payload,r=t.value,s=this.state.isEditing,o=n.newAtom,i=n.url,c=void 0===i?rj()(r)?r:"":i,u=n.anchor,l=void 0===u?rj()(r)?"":r:u,d=function(){return Object(I.jsx)(pj,{handleSave:e.handleSave,handleClose:e.closeDialog,anchor:l,url:c,isNewLink:o})},p=function(e){var t=e.children;return Object(I.jsx)(Th.a,{"data-testid":"edit-tooltip",visible:s,placement:"bottom",trigger:"click",overlay:Object(I.jsx)(d,{}),children:t})},h=function(t){var n=t.children;return Object(I.jsx)(Th.a,{"data-testid":"hover-tooltip",placement:"bottom",overlay:Object(I.jsx)(bj,{editLink:e.openDialog,url:c}),children:n})},j=Object(I.jsx)(Me.h,{href:uj(c),onClick:this.handleClick,testID:"link",external:!0,children:l||"\xa0"});return this._isInEditor()?Object(I.jsxs)(a.a.Fragment,{children:[s&&Object(I.jsx)(p,{children:j}),s||Object(I.jsx)(h,{children:j})]}):j}}]),n}(a.a.PureComponent);mj.type="dom",mj.displayName="Link";var fj=mj,Oj=Object(Q.Map)();function vj(e){var t=e.value,n=gj(e);return O.a.map(t.split("\n"),(function(e,r){var a=function(e,t,n){var r=n.substr(0,t.start),a=n.substr(t.start,t.end-t.start),s=r.split("\n"),o=a.split("\n");if(_j(t)){var i={start:O.a.initial(s).length,count:o.length};return e>=i.start&&e<i.start+i.count?0:-1}var c=O.a.last(s)||"";return s.length===e+1?c.length:-1}(r,n,t);return a>-1?Oj.get("Shift")?function(e){if("  "===e.substr(0,2))return e.substr(2);return O.a.trimStart(e)}(e):function(e,t){var n=t%2?" ":"  ";return[e.substr(0,t),n,e.substr(t)].join("")}(e,a):e})).join("\n")}function _j(e){return!(e.start===e.end)}function gj(e){return{start:e.selectionStart,end:e.selectionEnd}}var yj=n(474),xj=n.n(yj),Ej=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).textarea=void 0,e.state={value:e.props.defaultValue||"",caretRange:{start:0,end:0}},e.handleInput=function(t){var n=t.target.value;e.props.handleInput(t),e.setState({value:n})},e.tabCapture=function(t){if(!0===Oj.get("Tab")){t.preventDefault();var n=vj(e.textarea);e.setState({caretRange:gj(e.textarea)}),e.handleInput(O.a.merge(t,{target:{value:n}}))}},e}return Object(c.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.props.focusOnLoad&&window.requestAnimationFrame((function(){e.textarea.focus()}))}},{key:"componentDidUpdate",value:function(e,t){!0===Oj.get("Tab")&&this.restoreTextSelection(t)}},{key:"restoreTextSelection",value:function(e){var t=this.state.value.length-e.value.length,n=this.state.caretRange.end+t,r=_j(this.state.caretRange)?this.state.caretRange.start:n;this.textarea.setSelectionRange(r,n)}},{key:"render",value:function(){var e=this;return Object(I.jsx)("textarea",{className:xj.a["invisible-input"],rows:1,ref:function(t){e.textarea=t||document.createElement("textarea")},onKeyDown:this.tabCapture,onKeyUp:this.tabCapture,onChange:this.handleInput,value:this.state.value,autoComplete:"off",autoCorrect:"off",autoCapitalize:"off",spellCheck:!1})}}]),n}(a.a.PureComponent),wj=n(107),Ij=n.n(wj),Sj=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){var e=this.props,t=e.children,n=e.isEditing,r=e.textInput,a=t.split("\n"),s=Math.max(a.length.toString().length,2);return Object(I.jsx)("code",{className:Ij.a["code-block"],children:Object(I.jsxs)("div",{className:Ij.a["content-wrapper"],children:[n&&Object(I.jsx)("div",{className:Ij.a["editor-overlay"],children:r}),a.map((function(e,t){return Object(I.jsxs)("div",{className:Ij.a["code-line"],"data-ref":"code-line",children:[Object(I.jsx)("div",{className:Ij.a["line-number"],children:O.a.padStart("".concat(t+1),s)}),Object(I.jsx)("div",{className:Ij.a["line-content"],children:e})]},t)}))]})})}}]),n}(a.a.PureComponent);Sj.defaultProps={children:""};var Aj=Sj,Tj=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).state={content:""},e.handleInput=function(t){var n=e.props.save,r=t.target.value;e.setState({content:r}),O.a.isFunction(n)&&n({content:r},!1)},e}return Object(c.a)(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.payload,n=e.edit,r=e.isInEditor;this.setState({content:t.content}),r&&O.a.isFunction(n)&&n()}},{key:"render",value:function(){var e=this.props,t=e.isEditing,n=e.payload,r=e.isInEditor,a=this.state.content,s=Object(I.jsx)(Ej,{focusOnLoad:!(!r||!t),handleInput:this.handleInput,defaultValue:n.content});return Object(I.jsx)(Aj,{textInput:s,isEditing:!!t,children:a})}}]),n}(a.a.PureComponent);Tj.type="dom",Tj.displayName="Code";var Cj=Tj,Nj=Object(te.a)((function(e){return e.get("filesApi")}),(function(e){return G(e.get("uploadImage"))})),Pj=function(e){return e.get("files")||Object(Q.Map)({})},Rj=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=Pj(e);return n.get(t)||Object(Q.Map)({})},kj=n(295),Dj=n.n(kj),Lj=n(132),Fj=n.n(Lj),Uj=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){var e=this.props,t=e.handleClose,n=e.filename,r=e.src;return Object(I.jsx)(_,{children:Object(I.jsx)("div",{className:Fj.a.sticky,children:Object(I.jsxs)(Ql,{children:[Object(I.jsxs)("div",{className:Fj.a["lightbox-header"],children:[Object(I.jsx)("div",{className:Fj.a.filename,children:n}),Object(I.jsx)("a",{href:r,download:n,title:"".concat("Download"," ").concat(n),children:Object(I.jsx)(A.q,{size:"md",title:"".concat("Download"," ").concat(n),color:"cerulean"})}),Object(I.jsx)("button",{"data-testid":"close-buton",className:Fj.a["close-button"],onClick:t,children:Object(I.jsx)(A.o,{size:"md",title:"".concat("Close image")})})]}),Object(I.jsx)("div",{className:Fj.a["lightbox-content"],children:Object(I.jsx)("img",{src:r,alt:"User Content: ".concat(n)})})]})})})}}]),n}(a.a.PureComponent),Mj={setLatestFileInputRef:Wn.setLatestFileInputRef},qj=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).setRef=function(t){(0,e.props.setLatestFileInputRef)(t)},e}return Object(c.a)(n,[{key:"render",value:function(){var e=this.props,t=e.handleChange,n=e.accept;return Object(I.jsx)("input",{ref:this.setRef,type:"file",onChange:t,accept:n})}}]),n}(a.a.Component),Qj=Object(d.b)(null,Mj)(qj),Hj=n(158),Wj=n.n(Hj),Gj=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){return Object(I.jsxs)("div",{"data-testid":"image-placeholder",className:Wj.a["image-placeholder"],children:[Object(I.jsx)("div",{className:Wj.a["placeholder-icon-wrapper"],children:Object(I.jsx)(A.C,{size:"md"})}),Object(I.jsx)("div",{className:Wj.a.label,children:"Select an image"}),Object(I.jsx)("div",{className:Wj.a["image-requirements"],children:"JPG, PNG, or GIF; max size of ".concat(tr(Kh))})]})}}]),n}(r.PureComponent),Vj=n(221),Bj=n.n(Vj),zj=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){var e=this.props.progress,t=void 0===e?0:e;return Object(I.jsxs)("div",{className:Bj.a["progress-wrapper"],children:[Object(I.jsx)("div",{"data-testid":"transparent-overlay",className:Bj.a["progress-overlay"],style:{width:"".concat(100-t,"%")}}),Object(I.jsx)("div",{className:Bj.a["progress-bar"],"data-testid":"progress-bar",style:{width:"".concat(t,"%")}})]})}}]),n}(r.PureComponent),Kj=n(475),Jj=n.n(Kj),$j=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){var e=this.props.payload,t=e.desktopSrc,n=e.mobileSrc,r=e.filename,a=e.originalSrc,s=e.originalDimensions,o=e.localImageSrc;if(void 0===s)return Object(I.jsx)("img",{"data-testid":"static-image",src:a,alt:r});var i=s.width,c=720<i?720:i,u=2400<i?2400:i;return t?Object(I.jsx)("img",{"data-testid":"responsive-image",srcSet:"".concat(n," ").concat(c,"w,\n                   ").concat(t," ").concat(u,"w,\n                   ").concat(a," ").concat(i,"w"),sizes:"(max-width: ".concat(Jj.a.mobileWidth,") 95vw, 670px"),src:t,alt:r}):Object(I.jsx)("img",{"data-testid":"static-image",src:o,alt:r})}}]),n}(r.PureComponent),Yj=n(159),Zj=n.n(Yj),Xj=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).state={isLightboxOpen:!1},e.handleChange=function(t){var n=e.props.handleFileSelect;Sh()(window,"File")&&Sh()(window,"FileReader")&&n(lr()(t.target,"files.0"))},e.handleLightboxOpen=function(t){t.preventDefault(),e.props.isInEditor||e.setState({isLightboxOpen:!0})},e.handleLightboxClose=function(t){t.preventDefault(),e.setState({isLightboxOpen:!1})},e}return Object(c.a)(n,[{key:"render",value:function(){var e=this.props,t=e.payload,n=e.payload,r=n.desktopSrc,a=n.filename,s=n.originalSrc,o=n.localImageSrc,i=e.isEditing,c=e.fileSizeError,u=e.isInEditor,l=e.progress,d=this.state.isLightboxOpen,p=x()(Zj.a["image-card"],Object(g.a)({},Zj.a["file-size-error"],c)),h=r||o;return h||i?Object(I.jsxs)("div",{"data-testid":"image-card-wrapper",className:p,children:[i&&o&&Object(I.jsx)(zj,{progress:l}),i&&Object(I.jsx)("div",{className:Zj.a["file-input-wrapper"],children:Object(I.jsx)(Qj,{handleChange:this.handleChange,accept:Dj()(Mh).join(", ")})}),h&&Object(I.jsx)("button",{className:Zj.a["lightbox-button"],onClick:this.handleLightboxOpen,disabled:!!u,children:Object(I.jsx)($j,{payload:t,localImageSrc:o})}),!h&&Object(I.jsx)(Gj,{}),c&&Object(I.jsx)(q,{type:"error",message:"ERROR: Uploaded images must be smaller than ".concat(tr(Kh),".")}),d&&Object(I.jsx)(Uj,{handleClose:this.handleLightboxClose,filename:a,src:s})]}):null}}]),n}(a.a.PureComponent);Xj.defaultProps={payload:{desktopSrc:"",mobileSrc:"",originalSrc:"",filename:"",originalDimensions:{width:0,height:0}},handleFileSelect:zp.a,fileSizeError:!1,isEditing:!1,progress:0};var eb=Xj,tb={imageUploadStart:or.imageUploadStart},nb=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).state={fileSizeError:!1},e.handleFileSelect=function(t){if(t){var n=e.props,r=n.imageUploadStart,a=n.handleFileSelect,s=n.renderLocalFile,o=t.type,i=t.size;o in zh()(Mh)&&(i>Kh?e.setState({fileSizeError:!0}):(a(t),rr(t,s),r(t),e.state.fileSizeError&&e.setState({fileSizeError:!1})))}},e.handleSave=function(t){var n=e.props,r=n.handleSave,a=n.payload,s=t.toJS().attachments,o=Yp()(s,{label:"desktop"}),i=Yp()(s,{label:"mobile"}),c=Yp()(s,{label:"original"});r({filename:a.filename,originalDimensions:a.originalDimensions,desktopSrc:lr()(o,"url"),mobileSrc:lr()(i,"url"),originalSrc:lr()(c,"url")})},e}return Object(c.a)(n,[{key:"componentDidUpdate",value:function(e){var t=this.props.fileState;t!==e.fileState&&V(t)&&this.handleSave(t)}},{key:"render",value:function(){var e=this.props,t=e.isEditing,n=e.isInEditor,r=e.payload,a=e.fileState,s=this.state.fileSizeError;return Object(I.jsx)(eb,{handleFileSelect:this.handleFileSelect,isEditing:!!t,isInEditor:!!n,payload:r,fileSizeError:s,progress:a.get("progress",0)})}}]),n}(a.a.Component),rb=Object(d.b)((function(e,t){return{fileState:Rj(e,t.payload.fileIdentifierString)}}),tb)(nb),ab=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var r;Object(i.a)(this,n),(r=t.call(this,e)).handleFileSelect=function(e){r.setState({payload:Object(ie.a)(Object(ie.a)({},r.state.payload),{},{fileIdentifierString:nr(e)})})},r.handleSave=function(e){var t=r.props.save;er()(t)&&t(e,!0)},r.renderLocalFile=function(e){var t=e.localImageSrc,n=e.width,a=e.height,s=e.filename;r.setState({payload:Object(ie.a)(Object(ie.a)({},r.state.payload),{},{filename:s,originalDimensions:{width:n,height:a},localImageSrc:t})})};var a=r.props.payload;return r.state={payload:a},r}return Object(c.a)(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.isInEditor,n=e.payload,r=e.edit;t&&!Sh()(n,"desktopSrc")&&er()(r)&&r()}},{key:"render",value:function(){var e=this.props,t=e.isEditing,n=e.isInEditor,r=this.state.payload;return Object(I.jsx)(d.a,{store:Zu,children:Object(I.jsx)(rb,{payload:r,isEditing:!!t,isInEditor:!!n,handleSave:this.handleSave,handleFileSelect:this.handleFileSelect,renderLocalFile:this.renderLocalFile})})}}]),n}(a.a.PureComponent);ab.type="dom",ab.displayName="Image";var sb=ab,ob=n(476),ib=n.n(ob),cb={str:"META+K",run:function(){}};function ub(e,t,n){var r=n.addMarkerable,a=n.nodeFinished;if(1===e.nodeType&&"A"===e.tagName){var s={url:e.href,anchor:e.text};r(t.createAtom("Link",e.text,s)),a()}}var lb=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).mounted=void 0,r.autofocusTimeout=void 0,r.textInput=void 0,r.focusCursor=function(){Sh()(r.textInput.current,"refs.editor")&&r.textInput.current.refs.editor.focus()},r.handleInsertImage=function(){var e=r.props.latestFileInputRef;e&&e.click()},r.reMountEditor=function(){r.setState({renderEditor:!1}),window.requestAnimationFrame((function(){r.mounted&&r.setState({renderEditor:!0})}))},r.textInput=a.a.createRef(),r.state={renderEditor:!0},r}return Object(c.a)(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.autofocus,n=e.autofocusDelay;t&&(this.autofocusTimeout=wh()(this.focusCursor,n)),this.mounted=!0}},{key:"componentWillReceiveProps",value:function(e){this.props.defaultContent!==e.defaultContent&&this.reMountEditor()}},{key:"componentWillUnmount",value:function(){this.mounted=!1,window.clearTimeout(this.autofocusTimeout)}},{key:"didCreateEditor",value:function(e){e.registerKeyCommand(cb)}},{key:"render",value:function(){var e=this.props,t=e.hasError,n=e.errorText,r=e.defaultContent,a=e.handleChange,s=e.title,o=e.subtitle,i=e.isDraggingFile,c=e.handleDrop;if(!this.state.renderEditor)return null;var u={parserPlugins:[ub]};return Object(I.jsxs)(Ah.Container,{serializeVersion:ue.mobiledoc,placeholder:o,options:u,onChange:a,didCreateEditor:this.didCreateEditor,cards:[Object(Ah.classToDOMCard)(Cj),Object(Ah.classToDOMCard)(sb)],atoms:[Object(Ah.classToDOMAtom)(fj)],mobiledoc:Ts(r),children:[Object(I.jsx)(qh,{title:s,handleInsertImage:this.handleInsertImage}),Object(I.jsx)(uh,{hasError:t,errorText:n,children:Object(I.jsx)(tj,{isDraggingFile:i,handleDrop:c,children:Object(I.jsx)(Ah.Editor,{className:ib.a["rich-text-editor"],"data-gramm":"false",ref:this.textInput})})})]})}}]),n}(a.a.PureComponent);lb.defaultProps={autofocusDelay:0,defaultContent:As(Gh)};var db=lb,pb={fileDragEnd:ma.fileDragEnd,imageUploadStart:or.imageUploadStart},hb=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).handleDrop=function(t){var n=e.props,r=n.fileDragEnd,a=n.imageUploadStart;r(),t&&a(t)},e}return Object(c.a)(n,[{key:"render",value:function(){var e=this.props,t=e.latestFileInputRef,n=e.title,r=e.subtitle,a=e.hasError,s=e.errorText,o=e.autofocus,i=e.autofocusDelay,c=e.defaultContent,u=e.handleChange,l=e.isDraggingFile;return Object(I.jsx)(db,{title:n,subtitle:r,hasError:a,errorText:s,autofocus:o,autofocusDelay:i,defaultContent:c,handleChange:u,latestFileInputRef:t,isDraggingFile:l,handleDrop:this.handleDrop})}}]),n}(a.a.Component),jb=Object(d.b)((function(e){return{latestFileInputRef:Zt(e),isDraggingFile:Hl(e)}}),pb)(hb),bb=n(222),mb=n.n(bb),fb=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).state={formData:{title:"",body:Gh}},e.handleFormInput=function(t){var n=t.target,r=n.name,a=n.value,s=e.state.formData;s=Object(ie.a)(Object(ie.a)({},s),{},Object(g.a)({},r,a)),e.setState({formData:s})},e.handleMobiledocInput=function(t){var n=e.state.formData;n=Object(ie.a)(Object(ie.a)({},n),{},{body:t}),e.setState({formData:n})},e.handleNanodegreeProjectChange=function(t){e.setState({selectedNanodegree:t.nanodegree,selectedProject:t.project})},e.composePayload=function(){var t=e.state,n=t.formData,r=t.selectedNanodegree,a=t.selectedProject;return{formData:n,project:a?{projectId:a.reviewsProjectId,rubricId:a.rubricId}:void 0,nanodegreeKey:r&&r.key}},e.handleRevalidation=function(){var t=e.props,n=t.validate;t.errors.length>0&&n(e.composePayload())},e.handleSubmit=function(t){t&&t.preventDefault();var n=e.props,r=n.handleSubmit,a=n.apiStatus;G(a)||r(e.composePayload())},e.formatProjectLink=function(){var t=e.state,n=t.formData,r=t.formData.projectLink,a=void 0===r?"":r;ed()(a)||e.setState({formData:Object(ie.a)(Object(ie.a)({},n),{},{projectLink:cj(uj(a))})})},e}return Object(c.a)(n,[{key:"componentDidMount",value:function(){var e=this.props.questionData;ed()(e)||this.setDefaultFormData(e)}},{key:"componentWillReceiveProps",value:function(e){var t=e.questionData,n=this.props.questionData;ed()(t)||Xp()(t,n)||this.setDefaultFormData(t)}},{key:"componentDidUpdate",value:function(e,t){this.props.errors.length&&!Xp()(this.state,t)&&this.handleRevalidation()}},{key:"setDefaultFormData",value:function(e){var t=e.title,n=e.content,r=e.link;this.setState({formData:{title:t,body:Ts(n),projectLink:r}})}},{key:"render",value:function(){var e=this.props,t=e.errors,n=e.apiStatus,r=e.pageTitle,a=e.questionData,s=a.content,o=a.isArchived,i=a.nanodegreeKey,c=a.projectID,u=e.isImageUploadPending,l=this.state,d=l.formData,p=d.title,h=d.projectLink,j=void 0===h?"":h,b=l.selectedNanodegree,m=l.selectedProject,f=G(n),O=Yp()(t,{field:"title"}),v=Yp()(t,{field:"body"}),_=f||u,g=o?"Unarchive Question":"Submit Question";return Object(I.jsxs)("form",{"data-ref":"question-form",onSubmit:this.handleSubmit,className:mb.a["question-form"],children:[Object(I.jsx)("div",{className:mb.a["header-wrapper"],children:Object(I.jsx)(Me.f,{size:"h1",children:r})}),Object(I.jsxs)("fieldset",{children:[Object(I.jsx)(Me.f,{size:"h5",spacing:"half",children:"Question"}),Object(I.jsx)(ph,{type:"text",name:"title",handleChange:this.handleFormInput,value:p,hasError:!!O||p.length>150,errorText:lr()(O,"message"),hintText:"".concat("Character limit:"," ").concat(p.length,"/").concat(150),placeholder:"What are the differences between apples and oranges?",autofocus:!0})]}),Object(I.jsx)("fieldset",{children:Object(I.jsx)(jb,{autofocus:!1,autofocusDelay:0,title:"Details",subtitle:"Please include all information that a technical mentor would need to answer your question, such as relevant code (use the code block button to format), Github link, and any screenshots. If you are encountering an error, please include the output of the error message.",defaultContent:s,hasError:!!v,errorText:lr()(v,"message"),handleChange:this.handleMobiledocInput})}),Object(I.jsxs)("fieldset",{children:[Object(I.jsxs)(Me.f,{size:"h5",spacing:"half",children:["Github or Project Link",Object(I.jsx)("span",{className:mb.a["optional-label"],children:"(Optional)"})]}),Object(I.jsx)(ph,{type:"url",name:"projectLink",handleChange:this.handleFormInput,value:j,handleBlur:this.formatProjectLink,errorText:"",placeholder:"https://"})]}),Object(I.jsx)(xh,{errors:t,handleChange:this.handleNanodegreeProjectChange,selectedNanodegree:b,selectedProject:m,initialNanodegreeKey:i,initialProjectId:c,options:{autoselectSingleOptions:!0,showLessonQuestionTooltip:!0}}),Object(I.jsxs)("footer",{children:[Object(I.jsx)(Me.b,{label:g,variant:"primary",onClick:this.handleSubmit,disabled:_}),Object(I.jsx)(nh,{}),B(n)&&Object(I.jsx)(q,{type:"error",message:"Your question could not be saved."})]})]})}}]),n}(a.a.PureComponent);fb.defaultProps={errors:[],questionData:{}};var Ob=fb,vb=n(477),_b=n.n(vb),gb=n(108),yb=n.n(gb),xb=a.a.createContext("blue"),Eb=function(e){return Object(I.jsx)(xb.Consumer,{children:function(t){return t&&e.children(t)}})},wb=xb.Provider,Ib=document.getElementById("app")||document.createElement("div"),Sb=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){var e=this.props,t=e.theme,n=e.headerText,r=e.headerIcon,a=e.onCancel,s=e.children;return Object(I.jsx)(_b.a,{appElement:Ib,onRequestClose:a,className:yb.a.modal,isOpen:!0,children:Object(I.jsxs)(wb,{value:t,children:[Object(I.jsxs)("header",{className:"".concat(yb.a["modal-header"]," ").concat(yb.a["modal-header--".concat(t)]),children:[Object(I.jsx)("div",{children:r}),Object(I.jsxs)("div",{className:yb.a["header-title"],children:[n,Object(I.jsx)("button",{onClick:a,className:yb.a["close-button"],children:Object(I.jsx)(A.o,{size:"sm",color:"slate"})})]})]}),Object(I.jsx)("main",{className:yb.a["main-content"],children:s})]})})}}]),n}(a.a.PureComponent);Sb.defaultProps={theme:"blue",headerText:"Please confirm",headerGlyph:"alert-md"};var Ab=Sb,Tb=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){var e=this.props,t=e.primary,n=e.secondary,r=e.disabled,a="red"===e.theme?"destructive":"primary";return Object(I.jsxs)(I.Fragment,{children:[er()(lr()(t,"callback"))&&Object(I.jsx)(Me.j,{type:"inline",size:"2x",children:Object(I.jsx)(Me.b,{variant:a,label:lr()(t,"text"),onClick:lr()(t,"callback",zp.a),disabled:r,"data-ref":"primary"})}),er()(lr()(n,"callback"))&&Object(I.jsx)(Me.b,{variant:"minimal",label:lr()(n,"text"),onClick:lr()(n,"callback",zp.a),"data-ref":"secondary"})]})}}]),n}(a.a.PureComponent),Cb=function(e){return Object(I.jsx)(Eb,{children:function(t){return Object(I.jsx)(Tb,Object(ie.a)(Object(ie.a)({},e),{},{theme:t}))}})},Nb=n.p+"static/media/illustration-pencil.cd7bf634.svg",Pb=n(478),Rb=n.n(Pb),kb=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){var e=this.props,t=e.onConfirm,n=e.onCancel,r=e.isQuestionMutationPending;return Object(I.jsxs)(Ab,{headerText:"Modify your post to increase your chance of getting answers?",headerIcon:Object(I.jsx)("img",{src:Nb,width:"70",alt:"Continue editing post"}),theme:"blue",onCancel:n,children:[Object(I.jsxs)("p",{className:Rb.a["warning-description"],children:["We recommend adding a",Object(I.jsx)("strong",{children:"Github or Project Link"}),"if applicable."]}),Object(I.jsx)(Cb,{theme:"red",disabled:r,primary:{text:"No, post as-is",callback:t},secondary:{text:"Continue editing",callback:n}})]})}}]),n}(a.a.PureComponent);function Db(e){var t=O.a.has(e,"version")?O.a.trim(Vh(e)):e;return O.a.isEmpty(t)}var Lb=ue.validationRules,Fb=Lb.questionValidationRequired,Ub=Lb.questionValidationWarning,Mb={isTitleQuestionRequired:function(){return Fb.title},isBodyQuestionRequired:function(){return Fb.body},isNanodegreeQuestionRequired:function(){return Fb.nanodegree},isProjectQuestionWarning:function(){return Ub.project},isProjectQuestionRequired:function(){return Fb.project}},qb=function(e){var t=e.formData,n=t.title,r=t.body,a=t.projectLink,s=void 0===a?"":a,o=e.nanodegreeKey,i=e.project,c=[],u=[];return Db(n)&&Mb.isTitleQuestionRequired()?c.push({field:"title",message:"Please fill out this field."}):n.length>150&&c.push({field:"title",message:null}),Db(r)&&Mb.isBodyQuestionRequired()&&c.push({field:"body",message:"Please add details to your question."}),!o&&Mb.isNanodegreeQuestionRequired()&&c.push({field:"nanodegree"}),i||(!o&&Mb.isProjectQuestionWarning()&&u.push({field:"project"}),o&&Mb.isProjectQuestionRequired()&&c.push({field:"project"})),Db(s)&&u.push({field:"projectLink"}),{errors:c,warnings:u}};function Qb(e){return Object(ie.a)(Object(ie.a)(Object(ie.a)({},e.formData),e.project),{},{nanodegreeKey:e.nanodegreeKey})}var Hb=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).delayedQuestionMutation=zp.a,e.state={errors:[],warnings:[],warningModalOpen:!1},e.validate=function(t){var n=qb(t),r=n.errors,a=n.warnings;return e.setState({errors:r,warnings:a}),{errors:r,warnings:a}},e.submit=function(t){var n=e.validate(t),r=n.errors,a=n.warnings;if(0===r.length){var s=Qb(t);e.delayedQuestionMutation=Jp()(e.dispatchQuestionMutation,s),0===a.length?e.delayedQuestionMutation():e.setState({warningModalOpen:!0})}},e.closeWarningModal=function(){e.setState({warningModalOpen:!1})},e.dispatchQuestionMutation=function(t){var n=e.props;(0,n.questionMutation)(t,n.questionId)},e}return Object(c.a)(n,[{key:"componentDidUpdate",value:function(){this.checkForNewQuestionAndRedirect()}},{key:"checkForNewQuestionAndRedirect",value:function(){var e=this.props,t=e.questionId,n=e.history,r=e.apiStatus;V(r)&&t&&n.push("/questions/".concat(t))}},{key:"render",value:function(){var e=this.props.apiStatus,t=this.state,n=t.errors,r=t.warningModalOpen;return Object(I.jsxs)(a.a.Fragment,{children:[r&&Object(I.jsx)(kb,{isQuestionMutationPending:G(e),onConfirm:this.delayedQuestionMutation,onCancel:this.closeWarningModal}),Object(I.jsx)(Ob,Object(ie.a)({handleSubmit:this.submit,validate:this.validate,errors:n},this.props))]})}}]),n}(a.a.PureComponent),Wb=Object(jt.f)(Hb),Gb={getQuestion:Wn.getQuestion,updateQuestion:Wn.updateQuestion,resetUpdateQuestion:Wn.resetUpdateQuestion,resetGetQuestion:Wn.resetGetQuestion},Vb=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).state={isLoading:!0},e.handleUpdate=function(t,n){var r=e.props,a=r.updateQuestion;(0,r.resetGetQuestion)(),a(t,n)},e}return Object(c.a)(n,[{key:"componentWillMount",value:function(){this.checkEditPermissionsAndRedirect()}},{key:"componentDidMount",value:function(){var e=this.props;(0,e.getQuestion)(e.questionId)}},{key:"componentDidUpdate",value:function(){this.checkEditPermissionsAndRedirect();var e=this.props.getQuestionStatus,t=this.state.isLoading;B(e)&&this.redirect(),t&&V(e)&&this.setState({isLoading:!1})}},{key:"componentWillUnmount",value:function(){this.props.resetUpdateQuestion()}},{key:"redirect",value:function(){var e=this.props,t=e.history,n=e.questionId;t.push("/questions/".concat(n))}},{key:"checkEditPermissionsAndRedirect",value:function(){var e=this.props,t=e.currentQuestion,n=e.questionId;t.size&&(il.canEditQuestion(n)||this.redirect())}},{key:"render",value:function(){if(this.state.isLoading)return Object(I.jsx)(He,{});var e=this.props,t=e.currentQuestion,n=e.apiStatus,r=e.questionId,a=e.isImageUploadPending,s=!!e.reviewedNanodegrees.size;return Object(I.jsx)(Wb,{hasKnowledgeReviews:s,questionId:r,questionData:t.toJS(),apiStatus:n,pageTitle:"Edit Question",questionMutation:this.handleUpdate,isImageUploadPending:a})}}]),n}(a.a.PureComponent);Vb.defaultProps={currentQuestion:Object(Q.Map)()};var Bb=Object(jt.f)(Object(d.b)((function(e){return{currentQuestion:nn(e),apiStatus:jn(e,"updateQuestion"),getQuestionStatus:jn(e,"getQuestion"),isImageUploadPending:Nj(e),reviewedNanodegrees:me(e)}}),Gb)(Vb)),zb=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"componentDidMount",value:function(){this.trackEvent("Edit Question")}},{key:"trackEvent",value:function(e){ju(e)}},{key:"render",value:function(){var e=this.props.match.params.questionId;return Object(I.jsx)(zl.a,{title:"Knowledge - Udacity",children:Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(Vp,{postId:e}),Object(I.jsx)(S,{children:Object(I.jsx)(Bb,{questionId:e})})]})})}}]),n}(a.a.PureComponent),Kb={createQuestion:Wn.createQuestion,resetCreateQuestion:Wn.resetCreateQuestion},Jb=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"componentWillUnmount",value:function(){var e=this.props.resetCreateQuestion;(void 0===e?O.a.noop:e)()}},{key:"render",value:function(){var e=this.props,t=e.apiStatus,n=e.currentQuestion,r=void 0===n?Object(Q.fromJS)({}):n,a=e.createQuestion,s=e.isImageUploadPending;return Object(I.jsx)(Wb,{questionId:r.get("id"),pageTitle:"Ask a Technical Mentor",apiStatus:t,questionMutation:a,isImageUploadPending:s})}}]),n}(a.a.PureComponent);Jb.defaultProps={currentQuestion:Object(Q.Map)({})};var $b=Object(d.b)((function(e){return{currentQuestion:nn(e),apiStatus:jn(e,"createQuestion"),isImageUploadPending:Nj(e)}}),Kb)(Jb),Yb=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"componentDidMount",value:function(){this.trackEvent("New Question")}},{key:"trackEvent",value:function(e){ju(e)}},{key:"render",value:function(){return Object(I.jsx)(zl.a,{title:"Knowledge - Udacity",children:Object(I.jsx)(S,{children:Object(I.jsx)($b,{})})})}}]),n}(a.a.PureComponent),Zb=n(309),Xb=n.n(Zb),em=n(298),tm=n.n(em),nm=n(85),rm=n.n(nm),am=n(310),sm=n.n(am),om=n(311),im=n.n(om);function cm(e){return O.a.reduce(e,(function(e,t){return O.a.isEmpty(O.a.trim(t.props.children))&&O.a.isEmpty(t.props.payload)&&O.a.isEmpty(e)?e:[].concat(Object(pl.a)(e),[t])}),[])}var um=O.a.flow(cm,O.a.reverse,cm,O.a.reverse),lm={Code:function(e){var t=e.payload;return Object(I.jsx)(Cj,{payload:t})},Image:function(e){var t=e.payload;return Object(I.jsx)(sb,{payload:t})}},dm={Link:function(e){var t=e.payload;return Object(I.jsx)(fj,{value:"",payload:t})}},pm={a:function(e){var t=e.href,n=Object(Mn.a)(e,["href"]);return Object(I.jsx)("a",Object(ie.a)(Object(ie.a)({href:uj(t)},n),{},{rel:"external noopener noreferrer",target:"_blank",children:n.children}))}},hm=sm()({createElement:a.a.createElement,getCardComponent:function(e){return lm[e]},getAtomComponent:function(e){return dm[e]},getMarkupComponent:function(e){return pm[e]||Object(am.getMarkupComponentDefault)(e)}}),jm=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){var e=this.props,t=e.className,n=e.content,r=e.createdAt,a=e.modifiedAt;if(O.a.isEmpty(n))return Object(I.jsx)(He,{});var s=um(hm(Ts(n))),o=r!==a;return Object(I.jsxs)("div",{className:"".concat(im.a["post-body-content"]," ").concat(t),children:[s.map((function(e,t){return Object(ie.a)(Object(ie.a)({},e),{},{key:t})})),o&&Object(I.jsx)("span",{className:im.a.edited,children:"(edited)"})]})}}]),n}(a.a.PureComponent),bm=n(312),mm=n.n(bm),fm=function(e){switch(e.type){case"mentor":return Object(I.jsxs)("span",{className:mm.a.mentor,children:[Object(I.jsx)(A.t,{size:"sm",color:"cerulean"}),Object(I.jsx)(Me.k,{size:"xs",spacing:"none",children:"Mentor"})]});case"staff":return Object(I.jsxs)("span",{className:mm.a.staff,children:[Object(I.jsx)(A.c,{size:"sm",color:"purple"}),Object(I.jsx)(Me.k,{size:"xs",spacing:"none",children:"Udacity Staff"})]});default:return null}},Om=n(479),vm=n(313),_m=n.n(vm),gm=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){var e=this.props,t=e.isAdmin,n=e.id,r=e.displayName;return Object(I.jsxs)(a.a.Fragment,{children:[!t&&Object(I.jsx)("span",{className:_m.a.author,"data-ref":"author",children:r}),t&&Object(I.jsx)(Om.CopyToClipboard,{text:n,children:Object(I.jsx)("span",{className:_m.a["author-admin"],"data-ref":"author-admin",children:r})})]})}}]),n}(a.a.PureComponent),ym=n(480),xm=n.n(ym),Em=n(297),wm=n.n(Em),Im=n(481),Sm=n.n(Im);var Am=function(){var e={small:28,medium:36,large:44};return wm()((function(t,n){return t?"data:image/png;base64,".concat(new xm.a("".concat(Sm()(t,15,t)),e[n]).toString()):""}),(function(t,n){return"".concat(t," ").concat(e[n])}))}(),Tm={id:"",location:"",enrollments:[],displayName:"",displayTitle:"",profileImageUrl:"",roleId:0},Cm=n(223),Nm=n.n(Cm),Pm=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){var e=this.props,t=e.user,n=(t=void 0===t?Tm:t).profileImageUrl,r=t.id,a=e.size,s=void 0===a?"small":a,o=n||Am(r,s);return Object(I.jsx)("div",{className:"".concat(Nm.a["profile-image-wrapper"]," ").concat(Nm.a[s]),"data-ref":"profile-image-wrapper",children:Object(I.jsx)("img",{src:o,alt:"Profile image",className:Nm.a["profile-image"],"data-ref":"profile-image"})})}}]),n}(a.a.PureComponent);Pm.defaultProps={user:{},size:"small"};var Rm=Pm,km=n(109),Dm=n.n(km),Lm=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){var e=this.props,t=e.user,n=e.user,r=n.id,a=n.displayName,s=n.activity,o=void 0===s?{}:s,i=e.viewerIsStaff;return Object(I.jsx)("div",{className:Dm.a.container,children:Object(I.jsxs)("div",{className:Dm.a.bioContainer,children:[Object(I.jsx)("div",{className:Dm.a.avatar,children:Object(I.jsx)(Rm,{size:"large",user:t})}),Object(I.jsx)("div",{className:Dm.a.bio,children:Object(I.jsx)(Me.f,{size:"h5",spacing:"none",children:a})}),i&&Object(I.jsx)(Me.j,{type:"stack",size:"2x",children:Object(I.jsx)(Me.b,{external:!0,small:!0,label:"View in STAN",variant:"secondary",href:"".concat(ue.studentsFrontend,"/accounts/").concat(r)})}),Object(I.jsxs)("div",{className:Dm.a["stats-header"],children:["Knowledge Stats",":"]}),Object(I.jsxs)("ul",{className:Dm.a["stats-wrapper"],children:[Object(I.jsxs)("li",{children:[Object(I.jsx)(Me.k,{spacing:"none",children:o.upVotesReceived}),"\xa0",Object(I.jsx)(Me.k,{spacing:"none",children:"upvotes received"})]}),Object(I.jsxs)("li",{children:[Object(I.jsx)(Me.k,{spacing:"none",children:o.answersPosted}),"\xa0",Object(I.jsx)(Me.k,{spacing:"none",children:"answers posted"})]}),Object(I.jsxs)("li",{children:[Object(I.jsx)(Me.k,{spacing:"none",children:o.answersAccepted}),"\xa0",Object(I.jsx)(Me.k,{spacing:"none",children:"answers accepted"})]})]})]})})}}]),n}(a.a.Component);Lm.defaultProps={user:Tm,viewerIsStaff:!1};var Fm=Lm,Um={getUserActivityStats:Cn.getUserActivityStats},Mm=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.getUserActivityStats,n=e.user;O.a.isEmpty(n.activity)&&t(n.id)}},{key:"render",value:function(){var e=this.props,t=e.user,n=e.apiStatus,r=e.currentUserIsStaff;return G(n)?Object(I.jsx)("div",{}):Object(I.jsx)(Fm,{user:t,viewerIsStaff:r})}}]),n}(a.a.Component),qm=Object(d.b)((function(e){return{apiStatus:bp(e,"getUserActivityStats"),currentUserIsStaff:je(e)}}),Um)(Mm),Qm=n(482),Hm=n.n(Qm),Wm=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){var e=this.props,t=e.user,n=e.user.displayName,r=e.children;return!!n.trim()?Object(I.jsx)(Th.a,{placement:"bottom",trigger:["click","hover"],overlay:Object(I.jsx)(qm,{user:t}),mouseEnterDelay:.2,children:Object(I.jsx)("div",{className:Hm.a.children,children:r})}):r}}]),n}(a.a.Component);Wm.defaultProps={user:Tm};var Gm=Wm,Vm=n(160),Bm=n.n(Vm),zm=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){var e=this.props,t=e.user,n=e.createdAt,r=e.fromMentor,a=t.displayName,s=t.id,o=il.isAdmin();return Object(I.jsxs)("address",{className:Bm.a["post-metadata"],children:[Object(I.jsx)(Gm,{user:t,children:Object(I.jsxs)("div",{className:Bm.a["post-metadata"],children:[Object(I.jsx)("div",{className:Bm.a["user-icon-wrapper"],children:Object(I.jsx)(Rm,{user:t})}),Object(I.jsx)(gm,{displayName:a,id:s,isAdmin:o})]})}),r&&Object(I.jsx)(Me.j,{type:"inline",size:"1x",children:Object(I.jsx)(fm,{type:"mentor"})}),Object(I.jsxs)("span",{className:Bm.a["created-at"],"data-ref":"created-at",children:[Object(Zl.distanceInWords)(parseInt(n,10),Date.now())," ago"]})]})}}]),n}(a.a.PureComponent);zm.defaultProps={createdAt:"0",user:Tm};var Km=zm,Jm=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){var e,t,n=this.props,r=n.canAccept,a=n.canVerify,s=n.isAccepted,o=n.isVerified,i=n.isAcceptPending,c=n.isVerifyPending,u=n.className,l=this.props.isAccepted?"Accepted Answer":"Set as Accepted Answer",d=this.props.isVerified?"Udacity Answer":"Set as Udacity Answer",p=r?this.props.handleToggleAccepted:O.a.noop,h=a?this.props.handleToggleVerified:O.a.noop,j=x()(ad.a["answer-status-control"],ad.a["accepted-answer"],(e={},Object(g.a)(e,ad.a.selected,s),Object(g.a)(e,ad.a.noclick,!r),e)),b=x()(ad.a["answer-status-control"],ad.a["verified-answer"],(t={},Object(g.a)(t,ad.a.selected,o),Object(g.a)(t,ad.a.noclick,!a),t));return Object(I.jsx)("div",{className:u,children:Object(I.jsxs)("div",{className:ad.a["button-wrapper"],children:[(a||o)&&Object(I.jsxs)("button",{"data-ref":"verify-answer",onClick:h,className:b,disabled:c,children:[Object(I.jsx)(A.d,{size:"sm"}),Object(I.jsx)("span",{className:ad.a.text,children:d})]}),(r||s)&&Object(I.jsxs)("button",{"data-ref":"accept-answer",onClick:p,className:j,disabled:i,children:[Object(I.jsx)(A.m,{size:"sm"}),Object(I.jsx)("span",{className:ad.a.text,children:l})]})]})})}}]),n}(a.a.PureComponent),$m={acceptAnswer:Wn.acceptAnswer,unacceptAnswer:Wn.unacceptAnswer,verifyAnswer:Wn.verifyAnswer,unverifyAnswer:Wn.unverifyAnswer},Ym=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).toggleAccepted=function(){var t=e.props,n=t.answer,r=void 0===n?Object(Q.fromJS)({}):n;return!t.isAcceptPending&&(r.get("accepted")?e.unaccept():e.accept())},e.toggleVerified=function(){var t=e.props,n=t.answer,r=void 0===n?Object(Q.fromJS)({}):n;return!t.isVerifyPending&&(r.get("verified")?e.unverify():e.verify())},e}return Object(c.a)(n,[{key:"accept",value:function(){var e=this.props,t=e.acceptAnswer;(void 0===t?O.a.noop:t)(e.answerId)}},{key:"unaccept",value:function(){var e=this.props,t=e.unacceptAnswer;(void 0===t?O.a.noop:t)(e.answerId)}},{key:"verify",value:function(){var e=this.props,t=e.verifyAnswer;(void 0===t?O.a.noop:t)(e.answerId)}},{key:"unverify",value:function(){var e=this.props,t=e.unverifyAnswer;(void 0===t?O.a.noop:t)(e.answerId)}},{key:"render",value:function(){var e=this.props,t=e.answer,n=e.className,r=e.isAcceptPending,a=e.isVerifyPending;if(!t)return null;var s=!!t.get("accepted"),o=!!t.get("verified"),i=il.canAcceptAnswer(t.get("parentId")),c=il.canVerifyAnswer();return Object(I.jsx)(Jm,{className:n,isAccepted:s,isVerified:o,isAcceptPending:r,isVerifyPending:a,canAccept:i,canVerify:c,handleToggleAccepted:this.toggleAccepted,handleToggleVerified:this.toggleVerified})}}]),n}(a.a.PureComponent),Zm=Object(d.b)((function(e,t){return{answer:Xt(e,t.answerId),isAcceptPending:mn(e,""),isVerifyPending:fn(e,"")}}),$m)(Ym),Xm=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).state={isOpen:!1},e.handleToggleOpen=function(){e.setState({isOpen:!0})},e.handleToggleClose=function(){e.setState({isOpen:!1})},e}return Object(c.a)(n,[{key:"render",value:function(){var e=this.props,t=e.callToAction,n=e.isDisabled,r=e.render,s=this.state.isOpen;return Object(I.jsxs)(a.a.Fragment,{children:[s&&r(this.handleToggleClose),Object(I.jsx)(Me.b,{type:"button",variant:"minimal",onClick:this.handleToggleOpen,disabled:n,label:t,small:!0})]})}}]),n}(a.a.PureComponent),ef=function(e){var t=e.handleUnassign,n=e.handleToggleClose,a=e.initialReason,s=Object(r.useState)(a||""),o=Object(hd.a)(s,2),i=o[0],c=o[1];return Object(I.jsxs)(Ab,{headerIcon:Object(I.jsx)(A.B,{size:"lg",color:"blue"}),theme:"blue",onCancel:n,headerText:"Unassign Post",children:[Object(I.jsx)(Me.l,{id:"unassign-reason-text-area",label:"Reason for unassigning",placeholder:"Why is this question being unassigned?",onChange:function(e){var t=e.target.value;c(t)},value:i,required:!0}),Object(I.jsx)(Cb,{theme:"blue",disabled:!i,primary:{text:"Unassign",callback:function(){i&&(t(i),n())}},secondary:{text:"Cancel",callback:n}})]})},tf=n(483),nf=n.n(tf),rf=function(e){var t=e.handleMarkAtRisk,n=e.handleToggleClose;return Object(I.jsxs)(Ab,{headerIcon:Object(I.jsx)(A.t,{size:"lg",color:"blue"}),theme:"blue",onCancel:n,headerText:"Mark At Risk",children:[Object(I.jsx)(Me.k,{children:"Do you want to mark this question as At Risk of failing the student experience? This cannot be undone. At Risk questions:"}),Object(I.jsx)(Me.j,{type:"stack",size:"3x",children:Object(I.jsxs)("ul",{className:nf.a["at-risk-list"],children:[Object(I.jsx)("li",{children:"Are given priority over other questions."}),Object(I.jsx)("li",{children:"Pay reviewers twice the normal bounty."}),Object(I.jsx)("li",{children:"Can only be assigned to high level reviewers."})]})}),Object(I.jsx)(Cb,{theme:"blue",primary:{text:"Mark At Risk",callback:function(){t(),n()}},secondary:{text:"Cancel",callback:n}})]})},af=n(484),sf=n.n(af),of=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).state={selectedReason:void 0},e.handleSelectChange=function(t){e.setState({selectedReason:t})},e.handleSubmit=function(){var t=e.props,n=t.handleToggleClose,r=t.handleModeration,a=void 0===r?O.a.noop:r,s=e.state.selectedReason;s&&(a(O.a.get(s,"id")),n())},e}return Object(c.a)(n,[{key:"componentDidMount",value:function(){(0,this.props.getModeratePostReasons)()}},{key:"render",value:function(){var e=this.props,t=e.moderatePostReasons,n=e.isCallToActionPending,r=e.handleToggleClose,a=e.callToAction,s=e.optionsHeader,o=e.headerText,i=this.state.selectedReason;return Object(I.jsxs)(Ab,{headerIcon:Object(I.jsx)(A.K,{size:"lg",color:"red"}),theme:"red",onCancel:r,headerText:o,children:[Object(I.jsx)("h2",{className:sf.a["input-title"],children:s}),Object(I.jsx)(Me.j,{type:"stack",size:"3x",children:Object(I.jsx)(vh,{ariaLabel:"Moderate post select",searchable:!0,options:t,value:i,onChange:this.handleSelectChange})}),Object(I.jsx)(Cb,{theme:"red",disabled:!i||n,primary:{text:a,callback:this.handleSubmit},secondary:{text:"Nevermind",callback:r}})]})}}]),n}(a.a.PureComponent),cf={getModeratePostReasons:Wn.getModeratePostReasons},uf=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){var e=this.props,t=e.adminDeletePostStatus,n=e.moderatePostReasons,r=e.getModeratePostReasons,a=e.handleAdminDeletePost,s=e.handleToggleClose,o=G(t);return Object(I.jsx)(of,{handleToggleClose:s,handleModeration:a,isCallToActionPending:o,moderatePostReasons:n.toJS(),getModeratePostReasons:r,callToAction:"Remove Post",optionsHeader:"Reason for Removing:",headerText:"Remove Post"})}}]),n}(a.a.Component),lf=Object(d.b)((function(e){return{adminDeletePostStatus:jn(e,"adminDeletePost"),moderatePostReasons:tn(e)}}),cf)(uf),df=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){var e,t=this.props,n=t.commentCount,r=t.commentThreadExpanded,a=t.onCommentClick,s=t.postUnreads,o=void 0===s?{}:s;if(!O.a.isFunction(a))return null;if(r)e="Hide comments";else if(0===n&&il.canComment())e="Comment";else{var i=od(n,"comment");e="Show ".concat(n," ").concat(i)}var c=o.length;return O.a.isFunction(a)?Object(I.jsxs)(I.Fragment,{children:[c>0&&Object(I.jsx)(Rt,{unreadTotal:c}),Object(I.jsx)(Me.b,{type:"button",variant:"minimal",icon:Object(I.jsx)(A.E,{size:"sm"}),onClick:a,label:e,testID:"comment-button",small:!0})]}):null}}]),n}(a.a.PureComponent),pf={expandCommentThread:Wn.expandCommentThread,collapseCommentThread:Wn.collapseCommentThread,expandCommentForm:Wn.expandCommentForm,collapseCommentForm:Wn.collapseCommentForm},hf=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).toggleComments=function(){var t=e.props,n=t.postId,r=t.expandCommentThread,a=t.collapseCommentThread,s=t.expandCommentForm,o=t.collapseCommentForm,i=t.isThreadExpanded,c=t.commentCount;i?(a(n),o(n)):(r(n),c||s(n))},e}return Object(c.a)(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.expandCommentThread,n=e.initialState,r=e.postId;"expand"===n&&t(r)}},{key:"render",value:function(){var e=this.props,t=e.commentCount,n=e.isThreadExpanded,r=e.postUnreads;return Object(I.jsx)(df,{onCommentClick:this.toggleComments,commentCount:t,commentThreadExpanded:n,postUnreads:r})}}]),n}(a.a.Component);hf.defaultProps={initialState:"collapse"};var jf=Object(d.b)((function(e,t){return{commentCount:ln(e,t.postId),isThreadExpanded:dn(e,t.postId),postUnreads:bl(e,t.postId)}}),pf)(hf),bf={getModeratePostReasons:Wn.getModeratePostReasons},mf=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){var e=this.props,t=e.moderatePostReasons,n=e.getModeratePostReasons,r=e.handleReportPost,a=e.handleToggleClose,s=t?t.toJS():[];return Object(I.jsx)(of,{isCallToActionPending:!1,handleToggleClose:a,handleModeration:r,moderatePostReasons:s,getModeratePostReasons:n,callToAction:"Report Post",optionsHeader:"Reason for Reporting:",headerText:"Report Post"})}}]),n}(a.a.Component),ff=Object(d.b)((function(e){return{moderatePostReasons:tn(e)}}),bf)(mf),Of=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){var e=this.props.postObject;return e.size?Object(I.jsx)(jm,{content:e.get("content"),modifiedAt:e.get("content"),createdAt:e.get("content")}):null}}]),n}(a.a.Component),vf=Object(d.b)((function(e,t){return{postObject:rn(e,t.postId)}}))(Of),_f=n.p+"static/media/illustration-chat.5f388fa9.svg",gf=n(485),yf=n.n(gf),xf=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){var e=this.props,t=e.handleToggleClose,n=e.handleMoveCommentToAnswer,r=e.postId;return Object(I.jsxs)(Ab,{headerIcon:Object(I.jsx)("img",{src:_f,width:"70",alt:"Continue editing post"}),theme:"blue",onCancel:t,headerText:"Change comment to answer?",children:[Object(I.jsx)("div",{className:yf.a["post-content-wrapper"],children:Object(I.jsx)(vf,{postId:r})}),Object(I.jsx)(Cb,{theme:"blue",primary:{text:"Change to answer",callback:n},secondary:{text:"Cancel",callback:t}})]})}}]),n}(a.a.PureComponent),Ef=n(161),wf=n.n(Ef),If=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).state={hasReportedPost:!1,isCommentToAnswerModalOpen:!1},e.handleFollow=function(){var t=e.props.handleFollow;O.a.isFunction(t)&&t()},e.openAnswerToCommentModal=function(){e.setState({isCommentToAnswerModalOpen:!0})},e.closeAnswerToCommentModal=function(){e.setState({isCommentToAnswerModalOpen:!1})},e.handleAnswer=function(){var t=e.props.handleAnswer;O.a.isFunction(t)&&t()},e.handleEdit=function(){var t=e.props.handleEdit;O.a.isFunction(t)&&t()},e.handleReport=function(t){var n=e.props.handleReport;e.state.hasReportedPost||O.a.isFunction(n)&&(n(t),e.setState({hasReportedPost:!0}))},e.handleDelete=function(){var t=e.props.handleDelete;window.confirm("Are you sure you want to permanently delete this post?")&&O.a.isFunction(t)&&t()},e.renderReportPostModal=function(t){return Object(I.jsx)(ff,{handleReportPost:e.handleReport,handleToggleClose:t})},e.renderUnassignPostModal=function(t){return Object(I.jsx)(ef,{handleUnassign:e.props.handleUnassign,handleToggleClose:t})},e.renderRemovePostModal=function(t){var n=e.props.handleAdminDeletePost;return Object(I.jsx)(lf,{handleAdminDeletePost:n||O.a.noop,handleToggleClose:t})},e.renderMarkAtRiskModel=function(t){return Object(I.jsx)(rf,{handleMarkAtRisk:e.props.handleMarkAtRisk,handleToggleClose:t})},e}return Object(c.a)(n,[{key:"render",value:function(){var e=this.props,t=e.allowComments,n=e.postId,r=e.isDeletePostPending,a=e.initialCommentThreadState,s=e.handleAdminDeletePost,o=e.handleDelete,i=e.handleFollow,c=e.handleAnswer,u=e.handleEdit,l=e.handleReport,d=e.handleUnassign,p=e.handleMoveCommentToAnswer,h=e.handleMarkAtRisk,j=e.isMoveCommentToAnswerPending,b=e.type,m=this.state.isCommentToAnswerModalOpen,f=this.state.hasReportedPost;return Object(I.jsxs)("div",{className:wf.a["post-action-bar"],children:[Object(I.jsxs)("div",{className:wf.a["public-actions"],children:[O.a.isFunction(i)&&Object(I.jsx)(Me.b,{type:"button",label:"Follow",icon:Object(I.jsx)(A.t,{size:"sm"}),variant:"minimal","data-ref":"follow",onClick:this.handleFollow,small:!0}),t&&Object(I.jsx)(jf,{postId:n,initialState:a||"collapse"}),Object(I.jsx)(cl,{showIf:{canAnswer:!0},children:O.a.isFunction(c)&&Object(I.jsx)(Me.b,{type:"button",label:"Answer",variant:"minimal",icon:Object(I.jsx)(A.l,{size:"sm"}),"data-ref":"answer",onClick:this.handleAnswer,disabled:r,small:!0})})]}),Object(I.jsx)(cl,{showIf:{isReadOnly:!1},children:Object(I.jsxs)("div",{className:wf.a["private-actions"],children:[O.a.isFunction(p)&&Object(I.jsxs)(I.Fragment,{children:[m&&Object(I.jsx)(xf,{handleMoveCommentToAnswer:p,handleToggleClose:this.closeAnswerToCommentModal,postId:n}),Object(I.jsx)(Me.b,{testID:"move-comment-to-answer",type:"button",label:"Move to answer",variant:"minimal",onClick:this.openAnswerToCommentModal,disabled:j,small:!0})]}),O.a.isFunction(u)&&Object(I.jsx)(Me.b,{type:"button",label:"Edit",variant:"minimal","data-ref":"edit",onClick:this.handleEdit,disabled:r,small:!0}),O.a.isFunction(l)&&Object(I.jsx)(Xm,{callToAction:"Report",isDisabled:f,render:this.renderReportPostModal}),O.a.isFunction(d)&&Object(I.jsx)(Xm,{callToAction:"Unassign",render:this.renderUnassignPostModal}),O.a.isFunction(o)&&Object(I.jsx)(Me.b,{type:"button",label:"Delete",variant:"minimal","data-ref":"delete",onClick:this.handleDelete,color:"slate",small:!0}),O.a.isFunction(s)&&!O.a.isFunction(o)&&Object(I.jsx)(Xm,{callToAction:"Remove","data-ref":"admin-delete",render:this.renderRemovePostModal}),Object(I.jsx)(cl,{showIf:{isStaff:!0},children:Object(I.jsxs)("span",{className:wf.a["private-actions"],children:[O.a.isFunction(h)&&Object(I.jsx)(Xm,{callToAction:"Mark At Risk",render:this.renderMarkAtRiskModel}),"question"===b&&Object(I.jsx)(Me.b,{"data-ref":"history",label:"History",variant:"minimal",color:"slate",href:"".concat(ue.catoWebUrl,"/posts/").concat(n,"/history"),small:!0,external:!0})]})})]})})]})}}]),n}(a.a.PureComponent),Sf={deleteAnswer:Wn.deletePost,adminDeletePost:Wn.adminDeletePost,reportPost:Wn.reportPost},Af=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).report=function(t){var n=e.props,r=n.answerId;(0,n.reportPost)(r,t)},e.delete=function(){var t=e.props,n=t.answerId,r=t.answer;(0,t.deleteAnswer)(n,r.get("parentId"))},e.adminDelete=function(t){var n=e.props,r=n.answerId,a=n.answer;(0,n.adminDeletePost)(r,t,a.get("parentId"))},e}return Object(c.a)(n,[{key:"render",value:function(){var e=this.props,t=e.answerId,n=e.deletePostStatus,r=e.onEdit,a=Object(Mn.a)(e,["answerId","deletePostStatus","onEdit"]),s=il.canDeletePost(t),o=il.canEditAnswer(t),i=s?this.delete:null,c=o?r:null,u=G(n),l=il.canDeletePostAdmin()?this.adminDelete:null,d=il.canReport(t)?this.report:null;return Object(I.jsx)(If,Object(ie.a)({allowComments:!0,postId:t,handleEdit:c,handleReport:d,handleDelete:i,isDeletePostPending:u,handleAdminDeletePost:l,type:"answer"},a))}}]),n}(a.a.Component),Tf=Object(d.b)((function(e,t){return{answer:Xt(e,t.answerId),deletePostStatus:jn(e,"deletePost")}}),Sf)(Af),Cf={deleteComment:Wn.deletePost,adminDeletePost:Wn.adminDeletePost,reportPost:Wn.reportPost,moveCommentToAnswer:Wn.moveCommentToAnswer},Nf=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).delete=function(){var t=e.props,n=t.commentId,r=t.comment;(0,t.deleteComment)(n,r.get("parentId"))},e.adminDelete=function(t){var n=e.props,r=n.commentId,a=n.comment;(0,n.adminDeletePost)(r,t,a.get("parentId"))},e.report=function(t){var n=e.props,r=n.commentId;(0,n.reportPost)(r,t)},e.moveCommentToAnswer=function(){var t=e.props,n=t.commentId,r=t.comment;(0,t.moveCommentToAnswer)(n,r.get("parentId"))},e}return Object(c.a)(n,[{key:"render",value:function(){var e=this.props,t=e.commentId,n=e.deletePostStatus,r=e.onEdit,a=e.moveCommentToAnswerStatus,s=il.canMoveCommentToAnswer(),o=il.canEditComment(t),i=il.canDeletePost(t)?this.delete:null,c=o?r:null,u=s?this.moveCommentToAnswer:null,l=G(n),d=G(a),p=il.canDeletePostAdmin()?this.adminDelete:null,h=il.canReport(t)?this.report:null;return Object(I.jsx)(If,{postId:t,handleDelete:i,handleEdit:c,isDeletePostPending:l,handleAdminDeletePost:p,handleReport:h,handleMoveCommentToAnswer:u,isMoveCommentToAnswerPending:d,type:"comment"})}}]),n}(a.a.Component),Pf=Object(d.b)((function(e,t){return{comment:en(e,t.commentId),deletePostStatus:jn(e,"deletePost"),moveCommentToAnswerStatus:jn(e,"moveCommentToAnswer")}}),Cf)(Nf),Rf=n(314),kf=n.n(Rf),Df=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).state={content:{}},r.scrollDuration=500,r.editor=void 0,r.clearContent=function(){r.setState({content:{}})},r.handleSubmit=function(e){e.preventDefault(),r.props.onSubmit(r.state.content)},r.handleCancel=function(){r.props.onCancel()},r.handleMobiledocInput=function(e){var t=r.props,n=t.errorMessage,a=t.onChange;n&&a(e),r.setState({content:e})},r.editor=a.a.createRef(),r}return Object(c.a)(n,[{key:"componentDidMount",value:function(){rm()(this.editor.current,{time:this.scrollDuration})}},{key:"componentDidUpdate",value:function(e){var t=this.props.apiStatus,n=e.apiStatus;V(t)&&G(n)&&this.clearContent()}},{key:"render",value:function(){var e=this.props,t=e.errorMessage,n=e.apiStatus,r=e.title,a=e.subtitle,s=e.initialContent,o=e.onCancel,i=e.isImageUploadPending,c=e.submitButtonText,u=void 0===c?"Submit Answer":c,l=e.additionalDisclaimer,d=G(n)||i,p=t||"Please add details to your question.";return Object(I.jsx)("form",{className:kf.a["reply-form"],"data-ref":"reply-form",onSubmit:this.handleSubmit,children:Object(I.jsxs)("div",{ref:this.editor,children:[Object(I.jsx)("fieldset",{children:Object(I.jsx)(jb,{title:r,subtitle:a,hasError:!!t,defaultContent:O.a.get(s,"content"),handleChange:this.handleMobiledocInput,errorText:p,autofocus:!0,autofocusDelay:this.scrollDuration})}),Object(I.jsxs)("footer",{children:[Object(I.jsx)(Me.b,{onClick:this.handleSubmit,label:u,variant:"primary",disabled:d,isSubmit:!0}),O.a.isFunction(o)&&Object(I.jsx)(Me.b,{variant:"minimal",onClick:this.handleCancel,label:"Cancel","data-ref":"cancel-button"}),Object(I.jsxs)("div",{class:kf.a["disclaimer-container"],children:[l,Object(I.jsx)(nh,{})]})]})]})})}}]),n}(a.a.PureComponent),Lf={addAlert:ee.addAlert,updateComment:Wn.updateComment,resetUpdateComment:Wn.resetUpdateComment},Ff=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).state={validationErrors:[]},e.handleChange=function(t){e.validateComment(t)},e.dispatchUpdateComment=function(t){var n=e.props,r=n.commentId,a=n.updateComment,s=void 0===a?O.a.noop:a,o=n.comment,i=void 0===o?Object(Q.fromJS)({}):o;!!e.validateComment(t).length||s(r,i.get("parentId"),{content:t})},e}return Object(c.a)(n,[{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.updateCommentApiStatus,r=void 0===n?Object(Q.fromJS)({}):n;t.commentId===r.getIn(["payload","commentId"])&&this.checkUpdatedCommentStatus(e)}},{key:"componentWillUnmount",value:function(){var e=this.props.resetUpdateComment;(void 0===e?O.a.noop:e)()}},{key:"checkUpdatedCommentStatus",value:function(e){var t=e.updateCommentApiStatus,n=this.props,r=n.updateCommentApiStatus,a=n.onCancel;V(r)&&!V(t)&&a()}},{key:"validateComment",value:function(e){var t=function(e){var t=[];return Db(e)&&t.push({field:"content",message:"Please add details to your comment."}),t}(e);return this.setState({validationErrors:t}),t}},{key:"render",value:function(){var e=this.props,t=e.updateCommentApiStatus,n=e.comment,r=void 0===n?Object(Q.fromJS)({}):n,a=e.onCancel,s=e.isImageUploadPending,o=O.a.find(this.state.validationErrors,{field:"content"});return Object(I.jsx)(Df,{title:"Edit Comment",subtitle:"Write a comment\u2026",submitButtonText:"Submit Comment",initialContent:{content:r.get("content")},isImageUploadPending:s,onSubmit:this.dispatchUpdateComment,onChange:this.handleChange,onCancel:a,errorMessage:O.a.get(o,"message",null),apiStatus:t})}}]),n}(a.a.PureComponent);Ff.defaultProps={comment:Object(Q.fromJS)({})};var Uf=Object(d.b)((function(e,t){return{comment:on(e,t.commentId),updateCommentApiStatus:jn(e,"updateComment"),isImageUploadPending:Nj(e)}}),Lf)(Ff),Mf=n(133),qf=n.n(Mf),Qf=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).commentDomWrapper=void 0,r.state={isEdit:!1},r.showEdit=function(){r.setState({isEdit:!0})},r.hideEdit=function(){r.setState({isEdit:!1})},r.commentDomWrapper=a.a.createRef(),r}return Object(c.a)(n,[{key:"componentDidMount",value:function(){var e=this.props;e.deepLinkId===e.comment.id&&rm()(this.commentDomWrapper.current,{align:{top:0}})}},{key:"render",value:function(){var e,t=this.props,n=t.comment,r=t.comment,s=r.user,o=r.fromMentor,i=r.id,c=t.deepLinkId,u=t.unreads,l=this.state.isEdit,d=x()(qf.a["comment-list-item"],(e={},Object(g.a)(e,qf.a["focused-comment"],c===i),Object(g.a)(e,qf.a.unread,!ed()(u)&&!!u[i]),e));return Object(I.jsx)("li",{ref:this.commentDomWrapper,className:d,children:Object(I.jsxs)("article",{children:[!l&&Object(I.jsxs)(a.a.Fragment,{children:[Object(I.jsx)(jm,{content:n.content,createdAt:n.createdAt,modifiedAt:n.modifiedAt}),Object(I.jsxs)("footer",{className:qf.a.footer,children:[Object(I.jsx)(Km,{user:s,fromMentor:o,createdAt:n.createdAt}),Object(I.jsx)(Pf,{commentId:n.id,onEdit:this.showEdit})]})]}),l&&Object(I.jsx)("div",{className:qf.a["comment-edit-form"],children:Object(I.jsx)(Uf,{commentId:n.id,onCancel:this.hideEdit})})]})})}}]),n}(a.a.PureComponent),Hf=n(224),Wf=n.n(Hf),Gf=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).handleClick=function(){e.props.showRichTextInput()},e.handleKeyPress=function(t){t.preventDefault(),e.props.showRichTextInput()},e}return Object(c.a)(n,[{key:"render",value:function(){var e=this.props,t=e.placeholder,n=e.user;return Object(I.jsx)(uh,{children:Object(I.jsxs)("div",{className:Wf.a["reply-form-placeholder"],"data-ref":"reply-form-placeholder",role:"button",onKeyPress:this.handleKeyPress,onClick:this.handleClick,children:[Object(I.jsx)("div",{className:Wf.a["glyph-wrapper"],children:Object(I.jsx)(Rm,{user:n,size:"medium"})}),Object(I.jsx)("p",{className:Wf.a.placeholder,"data-ref":"placeholder",children:t})]})})}}]),n}(a.a.PureComponent),Vf=function(e){return e.get("questionQueue")},Bf=function(e,t){var n=Vf(e);return n&&n.questionStatus[t]},zf=Object(te.a)(Vf,(function(e){return e&&e.assignments}));var Kf={expandCommentForm:Wn.expandCommentForm,collapseCommentForm:Wn.collapseCommentForm,createComment:Wn.createComment,resetCreateComment:Wn.resetCreateComment,requeueParent:Br.postQuestionRequeue},Jf=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}),$f=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).state={validationErrors:[]},e.showRichTextInput=function(){var t=e.props,n=t.parentId,r=t.expandCommentForm;(void 0===r?O.a.noop:r)(n)},e.hideRichTextInput=function(){var t=e.props,n=t.parentId,r=t.collapseCommentForm;(void 0===r?O.a.noop:r)(n)},e.handleChange=function(t){e.validateComment(t)},e.dispatchCreateComment=function(t){if(!!!e.validateComment(t).length){var n=e.props,r=n.formType,a=n.parentId,s=n.createComment,o=void 0===s?O.a.noop:s,i=n.requeueParent,c=void 0===i?O.a.noop:i;o(a,t),r===Un.NEED_MORE_HELP&&c(a)}},e.renderCommentDisclaimer=function(){var t=e.props,n=t.parentId,r=(t.assignments||[]).find((function(e){return e.questionId===n}));if(r){var a=Jf.format(r.commentPayment.amount);return Object(I.jsxs)(Me.k,{size:"sm",spacing:"none",children:["Clarifying comments are compensated max ",a," per question."]})}},e}return Object(c.a)(n,[{key:"componentWillUnmount",value:function(){var e=this.props.resetCreateComment,t=void 0===e?O.a.noop:e;this.hideRichTextInput(),t()}},{key:"validateComment",value:function(e){var t=function(e){var t=[];return Db(e)&&t.push({field:"content",message:"Please add details to your comment."}),t}(e);return this.setState({validationErrors:t}),t}},{key:"render",value:function(){var e,t=this.props,n=t.formType,r=t.createCommentApiStatus,s=t.user,o=t.isImageUploadPending;z(r)&&(e=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(Q.Map)({})).get("error")||null}(r));var i=function(e){switch(e){case Un.NEED_MORE_HELP:return{title:"Post comment for more help",subtitle:"Describe the issues you are encountering so that another mentor can assist you with a new answer.",submitButtonText:"Request help"};case Un.REPLY_TO_MENTOR_COMMENT:return{title:"Post comment to reply",subtitle:"Respond to the mentor to recieve an answer to your question."};case Un.COMMENT:default:return{title:"Your comment",subtitle:"Write a comment\u2026 If you are sharing an answer, please use the answer interface below."}}}(n),c=O.a.find(this.state.validationErrors,{field:"content"});if(n)return Object(I.jsxs)(a.a.Fragment,{children:[Object(I.jsx)(Df,{title:i.title,subtitle:i.subtitle,submitButtonText:i.submitButtonText||"Submit Comment",isImageUploadPending:o,onSubmit:this.dispatchCreateComment,onChange:this.handleChange,onCancel:this.hideRichTextInput,errorMessage:O.a.get(c,"message",null),apiStatus:r,additionalDisclaimer:this.renderCommentDisclaimer()}),e&&Object(I.jsx)(q,{type:"error",message:"Your comment failed to submit."})]});var u=s?s.toJS():{};return Object(I.jsx)(Gf,{showRichTextInput:this.showRichTextInput,placeholder:"Write a comment\u2026 If you are sharing an answer, please use the answer interface below.",user:u})}}]),n}(a.a.PureComponent),Yf=Object(d.b)((function(e,t){return{formType:hn(e,t.parentId),createCommentApiStatus:jn(e,"createComment"),user:he(e),isImageUploadPending:Nj(e),assignments:zf(e)}}),Kf)($f),Zf=n(162),Xf=n.n(Zf),eO=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){var e=this.props,t=e.comments,n=e.isThreadExpanded,r=e.parentId,a=e.deepLinkId,s=e.unreads,o=x()(Xf.a["comment-list"],Object(g.a)({},Xf.a.expanded,n));return Object(I.jsx)("div",{className:o,"data-ref":"comment-list",children:Object(I.jsxs)("ul",{children:[O.a.map(t,(function(e){return Object(I.jsx)(Qf,{comment:e,unreads:s[e.parentId||-1],deepLinkId:a},e.id)})),Object(I.jsx)("li",{className:Xf.a["comment-list-item"],children:Object(I.jsx)(cl,{showIf:{canComment:!0},children:Object(I.jsx)("div",{className:Xf.a["input-wrapper"],children:Object(I.jsx)(Yf,{parentId:r})})})})]})})}}]),n}(a.a.PureComponent);eO.defaultProps={comments:[],deepLinkId:void 0};var tO=eO,nO={expandCommentThread:Wn.expandCommentThread,markPostsAsRead:_a.markAsRead},rO=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;return t.reduce((function(t,n){return t||e===n.get("id")}),!1)},aO=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.deepLinkId,n=e.comments,r=e.isThreadExpanded;rO(t,n)&&!r&&this.expandCommentThread(),r&&this.markCommentsAsRead()}},{key:"componentDidUpdate",value:function(e){var t=e.comments,n=e.deepLinkId,r=e.isThreadExpanded,a=this.props,s=a.deepLinkId,o=a.comments,i=a.isThreadExpanded;!rO(s,o)||rO(n,t)||i||this.expandCommentThread(),r!==i&&i&&this.markCommentsAsRead()}},{key:"expandCommentThread",value:function(){var e=this.props,t=e.expandCommentThread;t(e.parentId)}},{key:"markCommentsAsRead",value:function(){var e=this.props,t=e.comments,n=e.isThreadExpanded,r=e.markPostsAsRead,a=e.parentId,s=e.unreads,o=t.toJS().filter((function(e){var t,n=e.id;return null===s||void 0===s||null===(t=s[a])||void 0===t?void 0:t[n]})).map((function(e){return e.id}));n&&o.length&&r(o,a)}},{key:"render",value:function(){var e=this.props,t=e.comments,n=e.parentId,r=e.isThreadExpanded,a=e.deepLinkId,s=e.unreads;return Object(I.jsx)(tO,{parentId:n,comments:t.toJS(),unreads:s,isThreadExpanded:r,deepLinkId:a})}}]),n}(a.a.Component),sO=Object(d.b)((function(e,t){return{comments:cn(e,t.parentId),isThreadExpanded:dn(e,t.parentId),unreads:hl(e)}}),nO)(aO),oO=function(e){var t=[];return Db(e)&&t.push({field:"content",message:"Please add details to your answer."}),t},iO={updateAnswer:Wn.updateAnswer,resetUpdateAnswer:Wn.resetUpdateAnswer},cO=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).state={validationErrors:[]},e.handleChange=function(t){e.validateAnswer(t)},e.dispatchUpdateAnswer=function(t){var n=e.props,r=n.answerId,a=n.updateAnswer,s=void 0===a?O.a.noop:a,o=n.answer,i=void 0===o?Object(Q.fromJS)({}):o;!!e.validateAnswer(t).length||s(r,i.get("parentId"),{content:t})},e}return Object(c.a)(n,[{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.answerId,r=t.updateAnswerApiStatus;n===(void 0===r?Object(Q.fromJS)({}):r).getIn(["payload","answerId"])&&this.checkUpdatedAnswerStatus(e)}},{key:"componentWillUnmount",value:function(){var e=this.props.resetUpdateAnswer;(void 0===e?O.a.noop:e)()}},{key:"checkUpdatedAnswerStatus",value:function(e){var t=e.updateAnswerApiStatus,n=this.props,r=n.updateAnswerApiStatus,a=n.onCancel;V(r)&&!V(t)&&a()}},{key:"validateAnswer",value:function(e){var t=oO(e);return this.setState({validationErrors:t}),t}},{key:"render",value:function(){var e=this.props,t=e.updateAnswerApiStatus,n=e.answer,r=void 0===n?Object(Q.fromJS)({}):n,a=e.onCancel,s=e.isImageUploadPending,o=O.a.find(this.state.validationErrors,{field:"content"});return Object(I.jsx)(Df,{title:"Edit Answer",subtitle:"Write an answer\u2026",initialContent:{content:r.get("content")},isImageUploadPending:s,onSubmit:this.dispatchUpdateAnswer,onChange:this.handleChange,onCancel:a,errorMessage:O.a.get(o,"message",null),apiStatus:t})}}]),n}(a.a.PureComponent);cO.defaultProps={answer:Object(Q.fromJS)({})};var uO,lO=Object(d.b)((function(e,t){return{answer:sn(e,t.answerId),updateAnswerApiStatus:jn(e,"updateAnswer"),isImageUploadPending:Nj(e)}}),iO)(cO),dO=n(70),pO=n.n(dO),hO=function(e){var t=e.onFeedbackSubmit,n=a.a.useState(""),r=Object(hd.a)(n,2),s=r[0],o=r[1],i=a.a.useState(!1),c=Object(hd.a)(i,2),u=c[0],l=c[1],d=a.a.useCallback((function(e){u&&l(!1),o(e.target.value)}),[u]),p=a.a.useCallback((function(){!function(e){return e.trim().length>0}(s)?l(!0):t(s)}),[s,t]);return Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(Me.m,{label:"How could this answer have been more helpful?",id:"reason",value:s,onChange:d,required:!0}),u&&Object(I.jsx)("div",{className:pO.a.ratingSpacing,children:Object(I.jsx)(Me.e,{message:"Required."})}),Object(I.jsx)("div",{children:Object(I.jsx)(Me.b,{label:"Submit",type:"submit",variant:"primary",onClick:p})})]})},jO=[{id:"incomplete",value:"The answer needed more information"},{id:"unclear",value:"The answer was unclear"},{id:"accuracy",value:"The answer was incorrect"},{id:"other",value:"Other"}],bO=function(e){var t=e.onSelect,n=a.a.useState({id:"",value:""}),r=Object(hd.a)(n,2),s=r[0],o=r[1],i=a.a.useState(!1),c=Object(hd.a)(i,2),u=c[0],l=c[1],d=a.a.useCallback((function(e){e.preventDefault(),!function(e){return e.id&&e.value}(s)?l(!0):t(s.id)}),[s,t]),p=a.a.useCallback((function(e){o(e),l(!1)}),[]);return Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(Me.f,{size:"h5",children:"What could be improved about this answer?"}),Object(I.jsx)("div",{className:pO.a.ratingSpacing,children:Object(I.jsx)(vh,{"data-ref":"reason-select",value:s,onChange:p,options:jO,hasError:u,errorText:"Please select a reason to submit.",searchable:!1})}),Object(I.jsx)("div",{children:Object(I.jsx)(Me.b,{label:"Submit",type:"submit",variant:"primary",onClick:d})})]})},mO=function(e){var t=e.onClick;return Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(Me.f,{size:"h5",children:" Did the technical mentor answer your question?"}),Object(I.jsxs)("div",{className:pO.a.ratingForm,children:[Object(I.jsx)(Me.b,{"data-tst":"yes-rating-btn",label:"Yes",variant:"primary",icon:Object(I.jsx)(A.n,{}),onClick:function(){return t(!0)}}),Object(I.jsx)(Me.b,{"data-tst":"no-rating-btn",label:"No",variant:"destructive",icon:Object(I.jsx)(A.g,{}),onClick:function(){return t(!1)}})]})]})},fO=function(e){var t=e.onClose,n=e.children;return Object(I.jsxs)(I.Fragment,{children:[Object(I.jsxs)("div",{className:pO.a.ratingHeading,children:[Object(I.jsx)(Me.f,{size:"h5",spacing:"none",children:"Thank you for your feedback!"}),Object(I.jsx)("span",{children:Object(I.jsx)(Me.b,{label:"Close",variant:"minimal",icon:Object(I.jsx)(A.o,{}),onClick:t,iconOnly:!0})})]}),Object(I.jsx)(Me.k,{children:n})]})};!function(e){e[e.ANSWERED=0]="ANSWERED",e[e.SELECT_REASON=1]="SELECT_REASON",e[e.FEEDBACK=2]="FEEDBACK",e[e.REQUEUE=3]="REQUEUE",e[e.SUCCESS=4]="SUCCESS",e[e.CLOSED=5]="CLOSED"}(uO||(uO={}));var OO,vO=function(e){var t=e.state,n=e.onRatingClick,r=e.onReasonSelect,a=e.onFeedbackInputSubmit,s=e.onClose;switch(t){case uO.ANSWERED:return Object(I.jsx)(mO,{onClick:n});case uO.SELECT_REASON:return Object(I.jsx)(bO,{onSelect:r});case uO.FEEDBACK:return Object(I.jsx)(hO,{onFeedbackSubmit:a});case uO.REQUEUE:return Object(I.jsx)(fO,{onClose:s,children:"Your question will be reviewed again by a technical mentor as soon as possible. Please add a comment to help the next technical mentor answer your question."});case uO.SUCCESS:return Object(I.jsx)(fO,{onClose:s,children:"This post has been set as the answer to your question."})}return null},_O=function(e){var t=e.postId,n=e.questionId,r=e.handleRating,s=e.handleAccept,o=e.handleUpvote,i=e.handleRequeue,c=a.a.useState(uO.ANSWERED),u=Object(hd.a)(c,2),l=u[0],d=u[1],p=function(e,a,c){r(t,{answered:e,body:a,reason:c}),e?(s(t),o(t)):i(n),d(uO.CLOSED)};return l===uO.CLOSED?null:Object(I.jsx)("form",{className:pO.a.ratingFormContainer,children:Object(I.jsx)(vO,{state:l,onRatingClick:function(e){e&&p(e,"","");var t=e?uO.SUCCESS:uO.SELECT_REASON;d(t)},onReasonSelect:function(e){"other"!==e&&p(!1,"",e);var t="other"===e?uO.FEEDBACK:uO.REQUEUE;d(t)},onFeedbackInputSubmit:function(e){p(!1,e,"other"),d(uO.REQUEUE)},onClose:function(){return d(uO.CLOSED)}})})};!function(e){e.OPEN="OPEN",e.QUEUED="QUEUED",e.REVIEWED="REVIEWED",e.PENDING="PENDING",e.CLOSED="CLOSED"}(OO||(OO={}));var gO=function(e){var t=e.postId,n=Object(d.d)(nn).get("id"),r=Object(d.d)((function(e){return Bf(e,n)})),a=Object(d.c)();return(null===r||void 0===r?void 0:r.state)===OO.REVIEWED&&il.canRateAnswer(t,n)?Object(I.jsx)(_O,{postId:t,questionId:n,handleRating:function(e,t){return a(gc(e,t))},handleAccept:function(e){return a(Wn.acceptAnswer(e))},handleUpvote:function(e){return a(Wn.upvotePost(e))},handleRequeue:function(e){return a(Br.postQuestionRequeue(e))}}):null},yO=n(73),xO=n.n(yO),EO=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).answerDomWrapper=void 0,e.state={isEdit:!1},e.setRef=function(t){e.answerDomWrapper=t||document.createElement("li")},e.hideEdit=function(){e.setState({isEdit:!1})},e.showEdit=function(){e.setState({isEdit:!0})},e}return Object(c.a)(n,[{key:"componentDidMount",value:function(){var e=this.props;e.deepLinkId===e.answer.id&&rm()(this.answerDomWrapper,{align:{top:0}})}},{key:"render",value:function(){var e,t=this.props,n=t.answer,r=t.answer,s=r.user,o=r.fromMentor,i=r.id,c=t.deepLinkId,u=t.unreads,l=this.state.isEdit,d=x()(xO.a["answer-list-item"],(e={},Object(g.a)(e,xO.a["focused-answer"],c===i),Object(g.a)(e,xO.a.unread,!ed()(u)&&!!u[i]),e));return Object(I.jsxs)("li",{ref:this.setRef,className:d,children:[Object(I.jsx)("div",{className:xO.a["post-vote-wrapper"],children:Object(I.jsx)(Pd,{postId:i})}),Object(I.jsx)("div",{className:xO.a["accept-verify-wrapper"],children:Object(I.jsx)(Zm,{answerId:i})}),Object(I.jsxs)("section",{className:xO.a["answer-body"],children:[!l&&Object(I.jsxs)("div",{children:[Object(I.jsx)(jm,{content:n.content,createdAt:n.createdAt,modifiedAt:n.modifiedAt}),Object(I.jsx)("div",{className:xO.a["post-metadata-wrapper"],children:Object(I.jsx)(Km,{user:s,fromMentor:o,createdAt:n.createdAt})}),Object(I.jsx)(gO,{postId:i}),Object(I.jsx)(Tf,{answerId:i,onEdit:this.showEdit})]}),l&&Object(I.jsxs)(a.a.Fragment,{children:[Object(I.jsx)("div",{"data-ref":"answer-edit-form",className:xO.a["answer-edit-form"],children:Object(I.jsx)(lO,{answerId:i,onCancel:this.hideEdit})}),n.comments.length>0&&Object(I.jsx)("div",{className:xO.a["answer-edit-comments"],children:Object(I.jsx)(jf,{initialState:"collapse",postId:i})})]}),Object(I.jsx)(sO,{parentId:i,deepLinkId:c})]})]})}}]),n}(a.a.PureComponent),wO=n(486),IO=n.n(wO),SO=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){var e=this.props,t=e.answers,n=e.isLoading,r=e.deepLinkId,a=e.unreads;return ed()(t)?n?Object(I.jsx)(He,{}):null:Object(I.jsxs)(Me.i,{busy:n,children:[Object(I.jsxs)("div",{"data-ref":"answer-count",className:IO.a["answer-count"],children:[t.length," ",od(t.length,"Answer")]}),Object(I.jsx)("ul",{children:tm()(t,(function(e){return Object(I.jsx)(EO,{answer:e,deepLinkId:r,unreads:a[e.parentId||-1]},e.id)}))})]})}}]),n}(a.a.PureComponent);var AO=function(e){var t=e.deepLinkId,n=Object(d.d)(nn),a=Object(d.d)((function(e){return jn(e,"getAnswersByQuestionId")})),s=G(a),o=Object(d.d)(hl),i=Object(d.c)(),c=Object(r.useMemo)((function(){return n.get("id")}),[n]),u=Object(r.useMemo)((function(){return n.get("answers").toJS()}),[n]),l=Object(r.useMemo)((function(){return u.filter((function(e){var t,n=e.id;return null===o||void 0===o||null===(t=o[c])||void 0===t?void 0:t[n]})).map((function(e){return e.id}))}),[o,u,c]);return Object(r.useEffect)((function(){i(Wn.getAnswersByQuestionId(c))}),[i,c]),Object(r.useEffect)((function(){l.length&&i(_a.markAsRead(l,c))}),[i,l,c]),n?Object(I.jsx)(SO,{deepLinkId:t,answers:u,unreads:o,isLoading:s}):null},TO=n(163),CO=n.n(TO),NO=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).handleHomeClick=function(t){t.preventDefault(),e.props.history.push("/")},e}return Object(c.a)(n,[{key:"render",value:function(){var e=this.props,t=e.handleRestore,n=e.canUnarchivePost;return Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(zl.a,{title:"Knowledge - Udacity"}),Object(I.jsx)("div",{className:CO.a["message-wrapper"],children:Object(I.jsxs)("main",{className:CO.a.message,children:[Object(I.jsx)(Dp,{}),Object(I.jsxs)(S,{children:[Object(I.jsx)("p",{className:CO.a.copy,"data-ref":"copy",children:"This post has been deleted."}),Object(I.jsx)("div",{className:CO.a["call-to-action-button"],children:Object(I.jsx)(Me.b,{variant:"primary",type:"button",testID:"button-link",label:"Return To Knowledge",onClick:this.handleHomeClick})}),n&&Object(I.jsx)(Me.b,{variant:"minimal",type:"button",testID:"unarchive",onClick:t,label:"Restore Post",small:!0})||null]})]})})]})}}]),n}(a.a.PureComponent),PO=Object(jt.f)(NO),RO={unarchivePost:Wn.unarchivePost},kO=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).handleRestore=function(){var t=e.props,n=t.unarchivePost,r=t.match.params.questionId;r&&n(r)},e}return Object(c.a)(n,[{key:"render",value:function(){var e=il.canDeletePostAdmin();return Object(I.jsx)(PO,{handleRestore:this.handleRestore,canUnarchivePost:e})}}]),n}(a.a.Component),DO=Object(jt.f)(Object(d.b)(null,RO)(kO));var LO={expandAnswerForm:Wn.expandAnswerForm,collapseAnswerForm:Wn.collapseAnswerForm,deleteQuestion:Wn.deletePost,adminDeletePost:Wn.adminDeletePost,followQuestion:function(){return{type:""}},reportPost:Wn.reportPost,unassignQuestion:Br.unassignQuestion,markAtRisk:Br.markAtRisk},FO=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).follow=function(){var t=e.props,n=t.questionId;(0,t.followQuestion)(n)},e.showAnswerForm=function(){var t=e.props,n=t.expandAnswerForm,r=t.collapseAnswerForm,a=t.questionId;r(a),window.requestAnimationFrame((function(){n(a)}))},e.edit=function(){var t=e.props,n=t.history,r=t.match;n.push("".concat(r.url,"/edit"))},e.report=function(t){var n=e.props,r=n.questionId;(0,n.reportPost)(r,t)},e.unassign=function(t){var n=e.props,r=n.questionId;(0,n.unassignQuestion)(r,t)},e.delete=function(){var t=e.props,n=t.questionId;(0,t.deleteQuestion)(n)},e.adminDelete=function(t){var n=e.props,r=n.questionId;(0,n.adminDeletePost)(r,t)},e.markAtRisk=function(){var t=e.props,n=t.questionId;(0,t.markAtRisk)(n)},e}return Object(c.a)(n,[{key:"render",value:function(){var e=this.props,t=e.questionId,n=e.deletePostStatus,r=e.assignments,a=e.questionStatus,s=e.canModerateQuestion,o=il.canEditQuestion(t),i=il.canDeletePost(t),c=o?this.edit:null,u=i?this.delete:null,l=G(n),d=il.canDeletePostAdmin()||s?this.adminDelete:null,p=il.canReport(t)?this.report:null,h=!!(r||[]).find((function(e){return e.questionId===t}))?this.unassign:null,j=[OO.OPEN,OO.QUEUED,OO.PENDING],b=!(null===a||void 0===a?void 0:a.atRisk)&&j.includes(null===a||void 0===a?void 0:a.state)?this.markAtRisk:null;return Object(I.jsx)(If,{allowComments:!0,postId:t,handleFollow:null,handleAnswer:this.showAnswerForm,handleEdit:c,handleReport:p,handleDelete:u,handleUnassign:h,handleAdminDeletePost:d,isDeletePostPending:l,handleMarkAtRisk:b,type:"question"})}}]),n}(a.a.Component),UO=Object(jt.f)(Object(d.b)((function(e){var t,n=nn(e),r=fe(e),a=n&&r&&(t=n.toJS(),r.toJS().some((function(e){return t.projectID===e})));return{deletePostStatus:jn(e,"deletePost"),assignments:zf(e),questionStatus:Bf(e,n.toJS().id),canModerateQuestion:a}}),LO)(FO)),MO=n(315),qO=n.n(MO),QO=function(e){var t=e.name.split(" Nanodegree")[0];return Object(I.jsx)("li",{className:qO.a["tag-item-wrapper"],children:Object(I.jsx)("div",{className:qO.a["tag-item"],"data-ref":"tag-link",children:t})})},HO=function(e){var t=e.nanodegree,n=e.project,r=e.className;return Object(I.jsxs)("ul",{className:r,children:[t&&Object(I.jsx)(QO,{name:t,"data-ref":"nanodegree-tag"}),n&&Object(I.jsx)(QO,{name:n,"data-ref":"project-tag"})]})},WO=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){var e=this.props,t=e.nanodegreeTitle,n=e.projectTitle,r=e.className;return Object(I.jsx)(HO,{nanodegree:t,project:n,className:r})}}]),n}(a.a.PureComponent),GO=Object(jt.f)(Object(d.b)((function(e,t){return{nanodegreeTitle:t.nanodegreeKey?Ce(e,t.nanodegreeKey):void 0,projectTitle:t.projectId?Pe(e,t.projectId):void 0}}))(WO)),VO=n(88),BO=n.n(VO),zO=function(e){var t=e.question,n=t.user,r=void 0===n?Tm:n,a=t.title,s=void 0===a?"":a,o=t.createdAt,i=void 0===o?"":o,c=t.modifiedAt,u=void 0===c?"":c,l=t.content,d=void 0===l?"":l,p=t.id,h=void 0===p?"":p,j=t.link,b=void 0===j?"":j,m=t.nanodegreeKey,f=t.projectID,O=e.deepLinkId,v=void 0===O?"":O;return Object(I.jsx)(zl.a,{title:"Knowledge - Udacity",children:Object(I.jsxs)("div",{"data-ref":"question-detail",className:BO.a["question-detail"],children:[Object(I.jsx)("div",{className:BO.a["post-vote-wrapper"],children:Object(I.jsx)(Pd,{postId:h})}),Object(I.jsxs)("div",{children:[Object(I.jsxs)("article",{className:BO.a.content,children:[Object(I.jsx)(pd,{el:"h1",styleType:"heavy-header",children:Ns(s)}),Object(I.jsx)("div",{className:BO.a["post-metadata-wrapper"],children:Object(I.jsx)(Km,{user:r,createdAt:i})}),Object(I.jsx)(jm,{className:BO.a["post-content"],content:d,modifiedAt:u,createdAt:i}),b&&Object(I.jsx)("div",{className:BO.a["project-link-wrapper"],children:Object(I.jsxs)(Me.h,{href:b,external:!0,children:["Github or Project Link",Object(I.jsx)(A.I,{size:"sm"})]})}),Object(I.jsx)(GO,{className:BO.a.tags,nanodegreeKey:m,projectId:f})]}),Object(I.jsx)(UO,{questionId:h}),Object(I.jsx)(sO,{parentId:h,deepLinkId:v})]})]})})},KO={resetDeletePost:Wn.resetDeletePost,resetAdminDeletePost:Wn.resetAdminDeletePost,fetchQuestionStatus:Br.fetchQuestionStatus},JO=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).state={canShowBanner:!0},e.handleCloseBanner=function(){e.setState({canShowBanner:!1})},e}return Object(c.a)(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.question,n=e.fetchQuestionStatus,r=e.currentUserIsStaff,a=t.get("id");(il.isQuestionAuthor(a)||r)&&n(a)}},{key:"componentWillUnmount",value:function(){this.props.resetDeletePost(),this.props.resetAdminDeletePost()}},{key:"renderBannerForQuestionStatus",value:function(){var e=this.props,t=e.question,n=e.questionStatus,r=e.currentUserIsStaff;if(il.isQuestionAuthor(t.get("id"))||r)switch(null===n||void 0===n?void 0:n.state){case OO.OPEN:case OO.QUEUED:return Object(I.jsx)(Me.a,{icon:Object(I.jsx)(A.J,{}),role:"alertdialog",variant:"information",embedded:!0,closeable:!0,onClose:this.handleCloseBanner,children:"Your question is queued and awaiting a technical mentor answer."},"queuedBanner");case OO.PENDING:return Object(I.jsx)(Me.a,{icon:Object(I.jsx)(A.E,{}),role:"alertdialog",variant:"information",embedded:!0,closeable:!0,onClose:this.handleCloseBanner,children:"A technical mentor commented on your question."},"pendingBanner");case OO.REVIEWED:return Object(I.jsx)(Me.a,{icon:Object(I.jsx)(A.n,{}),role:"alertdialog",variant:"information",embedded:!0,closeable:!0,onClose:this.handleCloseBanner,children:"A technical mentor answered your question."},"reviewedBanner");default:return}}},{key:"render",value:function(){var e=this.props,t=e.question,n=e.questionStatus,r=e.deepLinkId,a=e.currentUserIsStaff,s=this.state.canShowBanner,o=this.renderBannerForQuestionStatus(),i=a&&(null===n||void 0===n?void 0:n.atRisk),c=Object(I.jsx)(Me.a,{icon:Object(I.jsx)(A.K,{}),role:"alert",variant:"warning",embedded:!0,children:"Heads up! This question needs special attention."},"atRiskBanner");return Object(I.jsxs)(I.Fragment,{children:[i&&c,s&&o,Object(I.jsx)(zO,{question:t.toJS(),deepLinkId:r})]})}}]),n}(a.a.Component);JO.defaultProps={question:Object(Q.Map)(),questionStatus:{state:OO.OPEN,atRisk:!1}};var $O=Object(d.b)((function(e){var t=nn(e),n=t?Bf(e,t.get("id")):void 0;return{question:t,questionStatus:n,currentUserIsStaff:je(e)}}),KO)(JO),YO={addAlert:ee.addAlert,expandAnswerForm:Wn.expandAnswerForm,collapseAnswerForm:Wn.collapseAnswerForm,createAnswer:Wn.createAnswer,resetCreateAnswer:Wn.resetCreateAnswer},ZO=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).state={validationErrors:[]},e.showRichTextInput=function(){var t=e.props,n=t.questionId,r=void 0===n?"":n,a=t.expandAnswerForm;(void 0===a?O.a.noop:a)(r)},e.hideRichTextInput=function(){var t=e.props,n=t.questionId,r=void 0===n?"":n,a=t.collapseAnswerForm;(void 0===a?O.a.noop:a)(r)},e.handleChange=function(t){e.validateAnswer(t)},e.dispatchCreateAnswer=function(t){var n=e.props,r=n.questionId,a=void 0===r?"":r,s=n.createAnswer,o=void 0===s?O.a.noop:s;!!e.validateAnswer(t).length||o(a,t)},e}return Object(c.a)(n,[{key:"componentDidUpdate",value:function(e){this.checkCreateAnswerStatus(e)}},{key:"componentWillUnmount",value:function(){var e=this.props.resetCreateAnswer,t=void 0===e?O.a.noop:e;this.hideRichTextInput(),t()}},{key:"checkCreateAnswerStatus",value:function(e){var t=e.createAnswerApiStatus,n=this.props,r=n.createAnswerApiStatus,a=n.addAlert,s=void 0===a?O.a.noop:a;z(r)&&!z(t)&&s("error","Your answer failed to submit.")}},{key:"validateAnswer",value:function(e){var t=oO(e);return this.setState({validationErrors:t}),t}},{key:"render",value:function(){var e=this.props,t=e.isFormExpanded,n=e.createAnswerApiStatus,r=e.getQuestionApiStatus,a=e.user,s=void 0===a?Object(Q.fromJS)({}):a,o=e.isImageUploadPending;if(!V(r))return null;var i=O.a.find(this.state.validationErrors,{field:"content"});return t?Object(I.jsx)(Df,{title:"Your Answer",subtitle:"Write an answer\u2026 If you are not sharing an answer to the question, please use the comment interface above.",onSubmit:this.dispatchCreateAnswer,onChange:this.handleChange,onCancel:this.hideRichTextInput,errorMessage:O.a.get(i,"message",null),apiStatus:n,isImageUploadPending:o}):Object(I.jsx)(Gf,{showRichTextInput:this.showRichTextInput,placeholder:"Write an answer\u2026 If you are not sharing an answer to the question, please use the comment interface above.",user:s.toJS()})}}]),n}(a.a.PureComponent),XO=Object(d.b)((function(e,t){return{isFormExpanded:pn(e,t.questionId),getQuestionApiStatus:jn(e,"getQuestion"),createAnswerApiStatus:jn(e,"createAnswer"),user:he(e),isImageUploadPending:Nj(e)}}),YO)(ZO),ev={getQuestion:Wn.getQuestion,resetGetQuestion:Wn.resetGetQuestion,fetchQuestionAssignments:Br.fetchAssignments},tv=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.getQuestion,n=e.getQuestionStatus,r=e.match.params.questionId,a=e.fetchQuestionAssignments;this.trackEvent("View Question"),W(n)&&t(r),a()}},{key:"componentWillUnmount",value:function(){this.props.resetGetQuestion()}},{key:"trackEvent",value:function(e){ju(e)}},{key:"render",value:function(){var e=this.props,t=e.match.params.questionId,n=e.location.hash.replace(/#/,""),r=this.props,a=r.question,s=r.getQuestionStatus,o=!V(s),i=Xb()(a)&&(z(s)||!o);return o&&!i?Object(I.jsx)(He,{}):i?Object(I.jsx)(Mp,{}):Xb()(a)||"archivedPost"!==a.get("postType")?Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(Vp,{postId:t}),Object(I.jsx)(ft,{color:"white",children:Object(I.jsxs)(S,{children:[Object(I.jsx)(m,{children:Object(I.jsx)($O,{deepLinkId:n,"data-ref":"question-detail"})}),Object(I.jsx)(m,{children:Object(I.jsx)(AO,{deepLinkId:n,"data-ref":"answer-list"})})]})}),Object(I.jsx)(cl,{showIf:{canAnswer:!0},children:Object(I.jsx)(S,{className:"pt2 pb6",children:Object(I.jsx)(m,{children:Object(I.jsx)(XO,{questionId:t})})})})]}):Object(I.jsx)(DO,{})}}]),n}(a.a.Component),nv=Object(jt.f)(Object(d.b)((function(e){return{question:nn(e),getQuestionStatus:jn(e,"getQuestion")}}),ev)(tv)),rv=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){var e=this.props.match,t={newQuestion:"".concat(e.url,"/new"),viewQuestion:"".concat(e.url,"/:questionId"),editQuestion:"".concat(e.url,"/:questionId/edit")},n=il.canAsk();return Object(I.jsxs)(jt.c,{children:[n&&Object(I.jsx)(jt.a,{exact:!0,path:t.newQuestion,component:Yb}),Object(I.jsx)(jt.a,{exact:!0,path:t.viewQuestion,component:nv}),Object(I.jsx)(jt.a,{exact:!0,path:t.editQuestion,component:zb}),Object(I.jsx)(jt.a,{component:qp})]})}}]),n}(a.a.PureComponent),av=n(487),sv=n.n(av),ov=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){return Object(I.jsxs)("div",{className:sv.a["search-filter-title"],children:[Object(I.jsx)(A.s,{size:"sm",color:"silver"}),Object(I.jsx)(Me.f,{size:"h6",children:"Filter"})]})}}]),n}(a.a.PureComponent),iv=n(316),cv=n.n(iv),uv=function(e){var t=e.handleNanodegreeProjectChange,n=e.handleFilterByUnanswered,a=e.selectedNanodegree,s=e.selectedProject,o=e.initialNanodegreeKey,i=e.initialProjectId,c=e.filterByUnanswered,u=Object(r.useCallback)((function(e){var t=e.target.checked;n(t)}),[n]);return Object(I.jsxs)("div",{className:cv.a["search-filter"],children:[Object(I.jsx)(ov,{}),Object(I.jsxs)("div",{className:cv.a["filter-options"],children:[Object(I.jsx)(xh,{handleChange:t,selectedNanodegree:a,selectedProject:s,initialNanodegreeKey:o,initialProjectId:i,options:{includeGraduatedNanodegrees:!0,includePseudoNanodegrees:!0}}),Object(I.jsx)(Me.c,{id:"filter-by-unanswered",checked:c,onChange:u,label:"Unanswered"})]})]})},lv=n(76),dv=n.n(lv),pv=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).state={closing:!1},e.timeoutID=void 0,e.handleCloseTransition=function(){var t=e.props.handleClose;clearTimeout(e.timeoutID),e.setState({closing:!0},(function(){e.timeoutID=setTimeout(t,parseInt(dv.a.transitionDuration,10)-1)}))},e.handleUnansweredChange=function(t){var n=t.target.checked;(0,e.props.handleFilterByUnanswered)(n)},e}return Object(c.a)(n,[{key:"componentWillUnmount",value:function(){clearTimeout(this.timeoutID)}},{key:"render",value:function(){var e=this.props,t=e.handleNanodegreeProjectChange,n=e.selectedNanodegree,r=e.selectedProject,a=e.initialNanodegreeKey,s=e.initialProjectId,o=e.filterByUnanswered,i=this.state.closing,c=x()(dv.a["search-filter-overlay"],Object(g.a)({},dv.a.closing,i));return Object(I.jsx)(_,{children:Object(I.jsxs)("div",{className:c,children:[Object(I.jsx)("header",{className:dv.a.header,children:Object(I.jsx)(_t,{children:Object(I.jsxs)("div",{className:dv.a["header-grid"],children:[Object(I.jsx)(ov,{}),Object(I.jsx)("button",{"data-ref":"close-button",onClick:this.handleCloseTransition,children:Object(I.jsx)(A.o,{size:"sm"})})]})})}),Object(I.jsx)("div",{className:dv.a.filters,children:Object(I.jsxs)(_t,{children:[Object(I.jsx)("div",{className:dv.a["checkbox-wrapper"],children:Object(I.jsx)(Me.c,{id:"overlay-filter-by-unanswered",checked:o,onChange:this.handleUnansweredChange,label:"Unanswered"})}),Object(I.jsx)(xh,{handleChange:t,selectedNanodegree:n,selectedProject:r,initialNanodegreeKey:a,initialProjectId:s,options:{includeGraduatedNanodegrees:!0,includePseudoNanodegrees:!0}})]})}),Object(I.jsx)("footer",{className:dv.a.footer,children:Object(I.jsx)(_t,{children:Object(I.jsx)(Me.b,{"data-ref":"submit-button",type:"submit",variant:"primary",size:"small",onClick:this.handleCloseTransition,label:"View Results"})})})]})})}}]),n}(a.a.PureComponent),hv={setSearchParameters:ct.setSearchParameters},jv=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var r;Object(i.a)(this,n),(r=t.call(this,e)).handleNanodegreeProjectChange=function(e){var t=r.props.setSearchParameters,n={page:1,nanodegreeKey:e.nanodegree?e.nanodegree.key:void 0,projectID:e.project?e.project.reviewsProjectId:void 0,rubricID:e.project?e.project.rubricId:void 0};t(n),r.setUrlQueryString({nanodegree:n.nanodegreeKey,project:n.projectID,rubric:n.rubricID,page:1}),r.setState({selectedNanodegree:e.nanodegree,selectedProject:e.project})},r.handleFilterByUnanswered=function(e){(0,r.props.setSearchParameters)({page:1,unanswered:e}),r.setUrlQueryString({page:1,unanswered:e})},r.state={};var a=r.props.location,s=function(e){try{var t=localStorage.getItem(JSON.stringify(e));if(t)return JSON.parse(t)}catch(n){console.warn("Unable to restore state from local storage.")}return{}}(yn),o=s.nanodegreeKey,c=s.projectID,u=s.rubricID,l=s.unanswered;return ed()(a.search)?(o||c||u||l)&&r.restoreFiltersFromLocalState({nanodegreeKey:o,projectID:c,rubricID:u,unanswered:l}):r.restoreFiltersFromQueryString(a.search),r}return Object(c.a)(n,[{key:"restoreFiltersFromQueryString",value:function(e){var t=this.props.setSearchParameters,n=Ol.parse(e,{parseNumbers:!0,parseBooleans:!0});t({nanodegreeKey:n.nanodegree,projectID:n.project,rubricID:n.rubric,unanswered:!!n.unanswered})}},{key:"restoreFiltersFromLocalState",value:function(e){var t=e.nanodegreeKey,n=e.projectID,r=e.rubricID,a=e.unanswered;(0,this.props.setSearchParameters)({nanodegreeKey:t,projectID:n,rubricID:r,unanswered:a}),this.setUrlQueryString(da()({nanodegree:t,project:n,rubric:r,unanswered:a},(function(e){return!e})))}},{key:"setUrlQueryString",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.props,n=t.history,r=t.location,a=Ol.parse(r.search);n.push({search:Ol.stringify(da()(Object(ie.a)(Object(ie.a)({},a),e),(function(e){return!e})))})}},{key:"render",value:function(){var e=this.props,t=e.layout,n=e.handleClose,r=e.nanodegreeProjectFilter,a=e.filterByUnanswered,s=this.state,o=s.selectedNanodegree,i=s.selectedProject;return"default"===t?Object(I.jsx)(uv,{handleNanodegreeProjectChange:this.handleNanodegreeProjectChange,handleFilterByUnanswered:this.handleFilterByUnanswered,selectedNanodegree:o,selectedProject:i,initialNanodegreeKey:r.nanodegreeKey,initialProjectId:r.projectID,filterByUnanswered:a}):Object(I.jsx)(pv,{handleNanodegreeProjectChange:this.handleNanodegreeProjectChange,handleFilterByUnanswered:this.handleFilterByUnanswered,selectedNanodegree:o,selectedProject:i,initialNanodegreeKey:r.nanodegreeKey,initialProjectId:r.projectID,handleClose:n,filterByUnanswered:a})}}]),n}(a.a.PureComponent);jv.defaultProps={layout:"default"};var bv=Object(jt.f)(Object(d.b)((function(e){return{nanodegreeProjectFilter:zc(e),filterByUnanswered:Kc(e)}}),hv)(jv)),mv=n(488),fv=n.n(mv),Ov=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).state={isOpen:!1},e.openOverlay=function(){e.setState({isOpen:!0})},e.closeOverlay=function(){e.setState({isOpen:!1})},e}return Object(c.a)(n,[{key:"render",value:function(){var e=this.state.isOpen;return Object(I.jsxs)(a.a.Fragment,{children:[e&&Object(I.jsx)(bv,{handleClose:this.closeOverlay,layout:"fullscreen"}),Object(I.jsx)("button",{className:fv.a["filter-toggle"],onClick:this.openOverlay,children:Object(I.jsx)(A.s,{size:"sm",color:"cerulean"})})]})}}]),n}(a.a.PureComponent),vv=n(164),_v=n.n(vv),gv=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){return Object(I.jsx)("div",{className:_v.a["nav-header-large"],children:Object(I.jsxs)(_t,{children:[Object(I.jsxs)("div",{className:_v.a["logo-nav-wrapper"],children:[Object(I.jsx)("a",{href:"/",target:"_self",children:Object(I.jsx)(St,{})}),Object(I.jsx)(fl,{})]}),Object(I.jsxs)("div",{className:_v.a["input-grid"],children:[Object(I.jsx)(Il,{theme:"default",searchOnLoad:!0}),Object(I.jsx)("div",{className:_v.a["search-filter-toggle"],children:Object(I.jsx)(Ov,{})})]})]})})}}]),n}(a.a.PureComponent),yv=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).scrollTargetDomWrapper=void 0,r.scrollTargetDomWrapper=a.a.createRef(),r}return Object(c.a)(n,[{key:"componentDidUpdate",value:function(e){rm()(this.scrollTargetDomWrapper.current,{time:500,align:{top:.075}})}},{key:"render",value:function(){return Object(I.jsx)("div",{ref:this.scrollTargetDomWrapper})}}]),n}(a.a.PureComponent),xv=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){var e=this.props.searchPage;return Object(I.jsx)(yv,{searchPage:e})}}]),n}(a.a.PureComponent),Ev=Object(d.b)((function(e){return{searchPage:Gc(e)}}))(xv),wv=function(){return Object(I.jsx)(cl,{showIf:{canAsk:!0},children:Object(I.jsxs)(Me.k,{spacing:"none",size:"sm",children:["Not finding a relevant question?"," ",Object(I.jsx)(ht.b,{to:"/questions/new",children:"Ask a technical mentor a new question!"})]})})},Iv=n(225),Sv=n.n(Iv),Av=n(489),Tv=n.n(Av),Cv=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){return Object(I.jsxs)("div",{className:Tv.a["tip-icon-wrapper"],children:[Object(I.jsx)(Me.j,{type:"inline",size:"1x",children:Object(I.jsx)(A.H,{size:"md",color:"purple"})}),Object(I.jsx)(pd,{el:"h3",styleType:"small-header",children:"Tip"})]})}}]),n}(a.a.PureComponent),Nv=n(165),Pv=n.n(Nv),Rv=["Try searching different keywords or making your search terms less specific","Searching error messages can give more related results","Udacity Knowledge is a great place to start, but you can also try other sites like Google, Stack Overflow, or Quora for help"].map((function(e){return e})),kv=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){return Object(I.jsx)(ft,{children:Object(I.jsxs)("main",{children:[Object(I.jsx)(pd,{el:"h2",styleType:"medium-header--gray-dark",children:"No results found."}),Object(I.jsx)(Cv,{}),Object(I.jsx)("ul",{className:Pv.a["search-no-results-list"],children:Rv.map((function(e,t){return Object(I.jsx)("li",{children:Object(I.jsx)("span",{className:Pv.a["search-no-results-list-item"],children:e})},t)}))}),Object(I.jsx)(cl,{showIf:{canAsk:!0},children:Object(I.jsxs)("p",{className:Pv.a["search-no-results-tip-copy"],children:["Still can't find an answer?",Object(I.jsx)(ht.b,{to:"/questions/new",className:Pv.a["search-no-results-link"],children:"Post your question"})]})})]})})}}]),n}(a.a.PureComponent),Dv=n(74),Lv=n.n(Dv),Fv=function(e){var t=e.question,n=t.id,r=t.title,a=t.highlightedTitle,s=t.totalAnswers,o=t.acceptedAnswerId,i=t.verifiedAnswerId,c=t.createdAt,u=t.user,l=t.nanodegreeKey,d=t.projectID,p=e.handleClick,h=e.unreads,j=void 0===h?{}:h,b=a||r,m=Object.keys(j).length;return Object(I.jsxs)("article",{className:Lv.a["search-result-item-grid"],children:[Object(I.jsx)("div",{className:Lv.a["post-vote-wrapper"],children:Object(I.jsx)(Pd,{postId:n})}),Object(I.jsxs)("div",{className:Lv.a["header-wrapper"],children:[Object(I.jsx)(Me.f,{size:"h4",as:"h2",spacing:"none",children:Object(I.jsx)(ht.b,{to:"/questions/".concat(n),onClick:p,children:Object(I.jsx)(Od,{text:b,className:Lv.a["header-highlight"]})})}),m>0&&Object(I.jsx)("div",{className:Lv.a.notification,children:Object(I.jsx)(Rt,{unreadTotal:m})})]}),Object(I.jsxs)("div",{className:Lv.a["info-block-grid"],children:[Object(I.jsx)("div",{className:Lv.a["post-metadata-wrapper"],children:Object(I.jsx)(Km,{user:u,createdAt:c})}),Object(I.jsx)("div",{className:Lv.a["answers-count"],children:Object(I.jsx)(ht.b,{to:"/questions/".concat(n),onClick:p,children:Object(I.jsx)(Hd,{totalAnswers:s,acceptedId:o||"",verifiedId:i||""})})})]}),Object(I.jsx)("div",{className:Lv.a["tag-list-wrapper"],children:Object(I.jsx)(GO,{nanodegreeKey:l,projectId:d})})]})},Uv=n(490),Mv=n.n(Uv),qv=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){var e=this.props,t=e.searchQuestionsStatus,n=e.questions,r=e.handleSearchResultClick,a=e.unreads;if(!Sv()(n)&&V(t))return Object(I.jsx)(kv,{});var s=G(t);if(!Sv()(n)&&s)return Object(I.jsx)(He,{});var o=x()(Object(g.a)({},Mv.a["z-index-negative"],s));return Object(I.jsx)("div",{className:o,children:Object(I.jsx)(Me.i,{busy:s,children:Object(I.jsx)("ul",{children:!!Sv()(n)&&n.map((function(e,t){var n=e.id,s=Jp()(r,e.id,t+1);return e?Object(I.jsx)("li",{children:Object(I.jsx)(Fv,{handleClick:s,question:e,unreads:a[n]},n)},n):null}))})})})}}]),n}(a.a.PureComponent);qv.defaultProps={questions:[]};var Qv=qv;function Hv(e,t,n){var r=e.searchQuery;(0,e.trackSearchClick)(t,{page:r.get("page"),query:r.get("query"),searchPosition:n,sort:r.get("sort"),nanodegreeKey:r.get("nanodegreeKey"),projectID:r.get("projectID"),rubricID:r.get("rubricID")})}var Wv={trackSearchClick:ct.trackSearchClick};var Gv=Object(d.b)((function(e){return{searchResults:Qc(e),searchQuestionsStatus:$c(e,"searchQuestions"),searchQuery:Uc(e),unreads:hl(e)}}),Wv)((function(e){var t=e.searchResults,n=e.searchQuestionsStatus,r=e.unreads,a=t.get("questions",Object(Q.List)([]));return Object(I.jsx)(Qv,{handleSearchResultClick:Jp()(Hv,e),searchQuestionsStatus:n,questions:a.toJS(),unreads:r})})),Vv=n(491),Bv=n.n(Vv),zv=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){var e=this.props,t=e.currentPaginationStart,n=void 0===t?0:t,r=e.currentPaginationEnd,a=void 0===r?0:r,s=e.searchResultsTotalCount,o=void 0===s?0:s,i=e.totalAnsweredPercent,c=void 0===i?0:i;return Object(I.jsx)("div",{children:o>0&&Object(I.jsx)("p",{className:Bv.a["current-pagination-text"],"data-ref":"current-pagination",children:"".concat(n,"-").concat(a," of ").concat(o.toLocaleString()," ").concat(od(a,"question")," (").concat(c.toLocaleString(),"% answered)")})})}}]),n}(a.a.PureComponent),Kv=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){var e=this.props,t=e.searchResultsTotalCount,n=e.currentPaginationStart,r=e.currentPaginationEnd,a=e.totalAnsweredPercent;return Object(I.jsx)(zv,{totalAnsweredPercent:a,searchResultsTotalCount:t,currentPaginationStart:n,currentPaginationEnd:r})}}]),n}(a.a.PureComponent),Jv=Object(d.b)((function(e){return{totalAnsweredPercent:qc(e),searchResultsTotalCount:Wc(e),currentPaginationStart:Vc(e),currentPaginationEnd:Bc(e)}}))(Kv),$v=n(492),Yv=n.n($v),Zv=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"formatSummaryText",value:function(){var e=this.props,t=e.unanswered,n=e.nanodegreeTitle,r=e.projectTitle,a=t?Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)("strong",{children:"Unanswered"})," questions"]}):"Results",s=O.a.isEmpty(n)?null:Object(I.jsxs)(I.Fragment,{children:[" ","from ",Object(I.jsx)("strong",{children:n})]}),o=O.a.isEmpty(r)?null:Object(I.jsxs)(I.Fragment,{children:[" ","for ",Object(I.jsx)("strong",{children:r})]});return Object(I.jsxs)("div",{children:[a,s,o,"."]})}},{key:"render",value:function(){var e=this.props,t=e.unanswered,n=e.nanodegreeTitle,r=e.projectTitle,a=e.handleFilterReset;if(O.a.every([t,n,r],(function(e){return!e})))return null;var s=this.formatSummaryText();return Object(I.jsxs)("div",{className:Yv.a["summary-wrapper"],children:[s,Object(I.jsx)(Me.b,{variant:"minimal",label:"Clear Filters",testID:"clear-filters",small:!0,onClick:a})]})}}]),n}(a.a.PureComponent),Xv={resetSearchFilters:ct.resetSearchFilters},e_=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).handleFilterReset=function(){var t=e.props,n=t.resetSearchFilters,r=t.location,a=t.history;n();var s=vl.a.parse(r.search);a.push({search:vl.a.stringify(O.a.omit(s,["nanodegree","project","unanswered","page"]))})},e}return Object(c.a)(n,[{key:"render",value:function(){var e=this.props,t=e.filterByUnanswered,n=e.nanodegreeTitle,r=e.projectTitle;return Object(I.jsx)(Zv,{unanswered:t,nanodegreeTitle:n,projectTitle:r,handleFilterReset:this.handleFilterReset})}}]),n}(a.a.PureComponent),t_=Object(jt.f)(Object(d.b)((function(e){var t=zc(e);return{filterByUnanswered:Kc(e),nanodegreeTitle:t&&t.nanodegreeKey?Ce(e,t.nanodegreeKey):void 0,projectTitle:t&&t.projectID?Pe(e,t.projectID):void 0}}),Xv)(e_)),n_=n(493),r_=n.n(n_),a_=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).handleSortModeInput=function(t){var n=t.type,r=e.props.handleSelect;t&&r({sort:n})},e}return Object(c.a)(n,[{key:"render",value:function(){var e=this.props,t=e.resultsCount,n=e.sortType,r=e.searchQuery,a=[na,ta,ra],s=[na,ra],o=O.a.find(a,{type:n})||ra,i=r?a:s;return Object(I.jsx)("div",{"data-ref":"sort-mode",children:Object(I.jsx)("div",{className:r_.a["sort-mode"],children:t>0&&Object(I.jsx)(vh,{ariaLabel:"Sort posts by",value:o,onChange:this.handleSortModeInput,options:i,searchable:!1})})})}}]),n}(a.a.PureComponent),s_={setSearchParameters:ct.setSearchParameters},o_=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).handleSelect=function(t){var n=e.props,r=n.history,a=n.location,s=n.setSearchParameters;t&&(xl(r,a,"/",t),s(t))},e}return Object(c.a)(n,[{key:"render",value:function(){var e=this.props,t=e.searchQuery,n=e.resultsCount;return Object(I.jsx)(a_,{searchQuery:t.get("query"),resultsCount:n,handleSelect:this.handleSelect,sortType:t.get("sort")})}}]),n}(a.a.PureComponent),i_=Object(jt.f)(Object(d.b)((function(e){return{searchQuery:Uc(e),resultsCount:Wc(e)}}),s_)(o_)),c_=n(134),u_=n.n(c_),l_=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){var e=this.props.searchResultsCount;return Object(I.jsxs)("div",{className:u_.a["search-results-bar"],children:[!!e&&Object(I.jsx)(cl,{showIf:{isReadOnly:!0},children:Object(I.jsx)("div",{className:u_.a["read-only-title"],children:"Recent Questions"})}),Object(I.jsxs)(cl,{showIf:{isReadOnly:!1},children:[Object(I.jsx)("div",{className:u_.a.pagination,children:Object(I.jsx)(Jv,{})}),Object(I.jsx)("div",{className:u_.a["sort-mode-wrapper"],children:Object(I.jsx)(i_,{})}),Object(I.jsx)("div",{className:u_.a["filter-summary"],children:Object(I.jsx)(t_,{})})]})]})}}]),n}(a.a.PureComponent),d_=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){var e=this.props.searchResultsCount;return Object(I.jsx)(l_,{searchResultsCount:e})}}]),n}(a.a.PureComponent),p_=Object(d.b)((function(e){return{searchResultsCount:Wc(e)}}))(d_),h_=ea.START_PAGE,j_={setSearchParameters:ct.setSearchParameters},b_=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).previousPage=function(){var t=e.props.currentPage;t<=h_||e.setPage(t-1)},e.nextPage=function(){var t=e.props,n=t.currentPage;n>=t.totalPages||e.setPage(n+1)},e}return Object(c.a)(n,[{key:"componentDidMount",value:function(){this.maybeUpdatePageToMatchQueryParam()}},{key:"componentDidUpdate",value:function(){this.maybeUpdatePageToMatchQueryParam()}},{key:"maybeUpdatePageToMatchQueryParam",value:function(){var e=this.props,t=e.location,n=e.currentPage,r=e.setSearchParameters,a=Ol.parse(t.search,{parseNumbers:!0}).page,s=void 0===a?h_:a;s!==n&&r({page:s})}},{key:"setUrlQueryString",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.props,n=t.history,r=t.location,a=Ol.parse(r.search);n.push({search:Ol.stringify(Object(ie.a)(Object(ie.a)({},a),e))})}},{key:"setPage",value:function(e){this.props.setSearchParameters({page:e}),this.setUrlQueryString({page:e})}},{key:"render",value:function(){var e=this.props,t=e.totalPages,n=e.currentPage,r=e.searchQuestionsStatus,a=n>1,s=n<t,o=t>1,i=G(r);return o?Object(I.jsx)(Yd,{previousPage:this.previousPage,nextPage:this.nextPage,shouldShowNext:s,shouldShowPrevious:a,page:n,totalPages:t,isLoading:i}):null}}]),n}(a.a.PureComponent),m_=Object(jt.f)(Object(d.b)((function(e){return{currentPage:Gc(e),totalPages:Hc(e),searchQuestionsStatus:$c(e,"searchQuestions")}}),j_)(b_)),f_=n(317),O_=n.n(f_),v_={updateSearchQueryString:ct.updateSearchQueryString},__=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).storeSearchQuery=function(){var t=e.props;(0,t.updateSearchQueryString)(t.location.search)},e}return Object(c.a)(n,[{key:"componentDidMount",value:function(){this.storeSearchQuery()}},{key:"componentDidUpdate",value:function(e){Xp()(e.location,this.props.location)||(this.storeSearchQuery(),this.trackEvent("Search"))}},{key:"trackEvent",value:function(e){ju(e)}},{key:"render",value:function(){var e=this.props,t=e.searchResults,n=e.searchText,r=e.reviewedNanodegrees,s=n&&t&&t.get("totalResults")>0&&r&&r.size>0;return Object(I.jsx)(zl.a,{title:"Knowledge - Udacity",children:Object(I.jsxs)(a.a.Fragment,{children:[Object(I.jsx)("div",{className:O_.a["header-wrapper"],children:Object(I.jsx)(cl,{showIf:{isReadOnly:!0},children:Object(I.jsx)(Et,{})})}),Object(I.jsx)(gv,{}),Object(I.jsxs)(_t,{children:[Object(I.jsx)(Ev,{}),Object(I.jsxs)("div",{className:O_.a["search-results-grid"],children:[Object(I.jsx)("section",{children:Object(I.jsx)(bv,{})}),Object(I.jsxs)("div",{children:[Object(I.jsx)(p_,{}),Object(I.jsx)(m,{children:Object(I.jsx)(Gv,{})}),Object(I.jsx)(m_,{}),s&&Object(I.jsx)(wv,{})]})]})]})]})})}}]),n}(a.a.Component),g_=Object(d.b)((function(e){return{searchResults:Qc(e),searchText:Uc(e).getIn(["query"]),reviewedNanodegrees:me(e)}}),v_)(__),y_=function(e){return function(t){return Object(I.jsx)(m,{children:Object(I.jsx)(e,Object(ie.a)({},t))})}},x_=function(e){return function(t){return Object(I.jsx)(Ql,{children:Object(I.jsx)(e,Object(ie.a)({},t))})}},E_=O.a.flow(y_,x_),w_=O.a.flow(y_,(function(e){return function(t){return Object(I.jsx)(kl,{children:Object(I.jsx)(e,Object(ie.a)({},t))})}}),x_),I_=Object(I.jsx)(Vl,{children:Object(I.jsx)(ht.a,{children:Object(I.jsx)(Cp,{children:Object(I.jsx)(pt.Provider,{children:Object(I.jsxs)(jt.c,{children:[Object(I.jsx)(jt.a,{path:"/robots.txt",onEnter:function(){return window.location.reload()}}),Object(I.jsx)(jt.a,{exact:!0,path:"/",component:E_(g_)}),Object(I.jsx)(jt.a,{path:"/questions/",component:w_(rv)}),Object(I.jsx)(jt.a,{exact:!0,path:"/activity/questions",component:w_(Ap)}),Object(I.jsx)(jt.a,{exact:!0,path:"/activity/answers",component:w_(Ap)}),Object(I.jsx)(jt.a,{component:w_(qp)})]})})})})}),S_=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){return Object(I.jsx)(m,{children:Object(I.jsx)(d.a,{store:Zu,children:Object(I.jsx)(dt,{children:Object(I.jsx)(Le,{children:Object(I.jsxs)(I.Fragment,{children:[I_,Object(I.jsx)(se,{})]})})})})})}}]),n}(a.a.Component);!function(){var e=document.createElement("script");e.type="text/javascript",e.innerHTML='\n    !function(){var analytics=window.analytics=window.analytics||[];if(!analytics.initialize)if(analytics.invoked)window.console&&console.error&&console.error("Segment snippet included twice.");else{analytics.invoked=!0;analytics.methods=["trackSubmit","trackClick","trackLink","trackForm","pageview","identify","reset","group","track","ready","alias","debug","page","once","off","on"];analytics.factory=function(t){return function(){var e=Array.prototype.slice.call(arguments);e.unshift(t);analytics.push(e);return analytics}};for(var t=0;t<analytics.methods.length;t++){var e=analytics.methods[t];analytics[e]=analytics.factory(e)}analytics.load=function(t,e){var n=document.createElement("script");n.type="text/javascript";n.async=!0;n.src=("https:"===document.location.protocol?"https://":"http://")+"cdn.segment.com/analytics.js/v1/"+t+"/analytics.min.js";var o=document.getElementsByTagName("script")[0];o.parentNode.insertBefore(n,o);analytics._loadOptions=e};analytics.SNIPPET_VERSION="4.1.0";\n    analytics.load("'.concat(ue.segmentWriteKey,'");\n    }}();'),(document.querySelector("head")||document.createElement("head")).appendChild(e),du.a.track(ue.siteIdentifier)}(),document.addEventListener("keydown",(function(e){var t=e.key;Oj=Oj.set(t,!0)})),document.addEventListener("keyup",(function(e){var t=e.key;Oj=Oj.set(t,!1)})),o.a.render(Object(I.jsx)(S_,{}),document.getElementById("root"))}},[[932,1,2]]]);
//# sourceMappingURL=main.09b99abc.chunk.js.map